var app=function(){"use strict";function e(){}const t=e=>e;function o(e,t){for(const o in t)e[o]=t[o];return e}function a(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(a)}function r(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(t,...o){if(null==t)return e;const a=t.subscribe(...o);return a.unsubscribe?()=>a.unsubscribe():a}function h(e,t,o){e.$$.on_destroy.push(l(t,o))}function u(e,t,o,a){if(e){const n=d(e,t,o,a);return e[0](n)}}function d(e,t,a,n){return e[1]&&n?o(a.ctx.slice(),e[1](n(t))):a.ctx}function c(e,t,o,a){if(e[2]&&a){const n=e[2](a(o));if("object"==typeof t.dirty){const e=[],o=Math.max(t.dirty.length,n.length);for(let a=0;a<o;a+=1)e[a]=t.dirty[a]|n[a];return e}return t.dirty|n}return t.dirty}function g(e){const t={};for(const o in e)"$"!==o[0]&&(t[o]=e[o]);return t}function m(e){return null==e?"":e}const f="undefined"!=typeof window;let y=f?()=>window.performance.now():()=>Date.now(),p=f?e=>requestAnimationFrame(e):e;const w=new Set;function b(e){w.forEach(t=>{t.c(e)||(w.delete(t),t.f())}),0!==w.size&&p(b)}function k(e,t){e.appendChild(t)}function v(e,t,o){e.insertBefore(t,o||null)}function T(e){e.parentNode.removeChild(e)}function I(e,t){for(let o=0;o<e.length;o+=1)e[o]&&e[o].d(t)}function E(e){return document.createElement(e)}function S(e){return document.createTextNode(e)}function O(){return S(" ")}function R(){return S("")}function Y(e,t,o,a){return e.addEventListener(t,o,a),()=>e.removeEventListener(t,o,a)}function A(e,t,o){null==o?e.removeAttribute(t):e.getAttribute(t)!==o&&e.setAttribute(t,o)}function C(e,t){t=""+t,e.data!==t&&(e.data=t)}function F(e,t){(null!=t||e.value)&&(e.value=t)}function _(e,t,o){e.classList[o?"add":"remove"](t)}function N(e,t){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,!1,!1,t),o}class L{constructor(e,t=null){this.e=E("div"),this.a=t,this.u(e)}m(e,t=null){for(let o=0;o<this.n.length;o+=1)v(e,this.n[o],t);this.t=e}u(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}p(e){this.d(),this.u(e),this.m(this.t,this.a)}d(){this.n.forEach(T)}}let H,x,D=0,M={};function G(e,t,o,a,n,s,r,i=0){const l=16.666/a;let h="{\n";for(let e=0;e<=1;e+=l){const a=t+(o-t)*s(e);h+=100*e+`%{${r(a,1-a)}}\n`}const u=h+`100% {${r(o,1-o)}}\n}`,d=`__svelte_${function(e){let t=5381,o=e.length;for(;o--;)t=(t<<5)-t^e.charCodeAt(o);return t>>>0}(u)}_${i}`;if(!M[d]){if(!H){const e=E("style");document.head.appendChild(e),H=e.sheet}M[d]=!0,H.insertRule(`@keyframes ${d} ${u}`,H.cssRules.length)}const c=e.style.animation||"";return e.style.animation=`${c?`${c}, `:""}${d} ${a}ms linear ${n}ms 1 both`,D+=1,d}function W(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--D&&p(()=>{if(D)return;let e=H.cssRules.length;for(;e--;)H.deleteRule(e);M={}})}function P(e){x=e}function U(){if(!x)throw new Error("Function called outside component initialization");return x}function B(e){U().$$.on_mount.push(e)}function q(){const e=U();return(t,o)=>{const a=e.$$.callbacks[t];if(a){const n=N(t,o);a.slice().forEach(t=>{t.call(e,n)})}}}function $(e,t){U().$$.context.set(e,t)}function V(e){return U().$$.context.get(e)}const j=[],K=[],z=[],Q=[],X=Promise.resolve();let J=!1;function Z(e){z.push(e)}const ee=new Set;function te(){do{for(;j.length;){const e=j.shift();P(e),oe(e.$$)}for(;K.length;)K.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];ee.has(t)||(ee.add(t),t())}z.length=0}while(j.length);for(;Q.length;)Q.pop()();J=!1,ee.clear()}function oe(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}let ae;function ne(e,t,o){e.dispatchEvent(N(`${t?"intro":"outro"}${o}`))}const se=new Set;let re;function ie(){re={r:0,c:[],p:re}}function le(){re.r||s(re.c),re=re.p}function he(e,t){e&&e.i&&(se.delete(e),e.i(t))}function ue(e,t,o,a){if(e&&e.o){if(se.has(e))return;se.add(e),re.c.push(()=>{se.delete(e),a&&(o&&e.d(1),a())}),e.o(t)}}const de={duration:0};function ce(o,a,n,i){let l=a(o,n),h=i?0:1,u=null,d=null,c=null;function g(){c&&W(o,c)}function m(e,t){const o=e.b-h;return t*=Math.abs(o),{a:h,b:e.b,d:o,duration:t,start:e.start,end:e.start+t,group:e.group}}function f(a){const{delay:n=0,duration:r=300,easing:i=t,tick:f=e,css:k}=l||de,v={start:y()+n,b:a};a||(v.group=re,re.r+=1),u?d=v:(k&&(g(),c=G(o,h,a,r,n,i,k)),a&&f(0,1),u=m(v,r),Z(()=>ne(o,a,"start")),function(e){let t;0===w.size&&p(b),new Promise(o=>{w.add(t={c:e,f:o})})}(e=>{if(d&&e>d.start&&(u=m(d,r),d=null,ne(o,u.b,"start"),k&&(g(),c=G(o,h,u.b,u.duration,0,i,l.css))),u)if(e>=u.end)f(h=u.b,1-h),ne(o,u.b,"end"),d||(u.b?g():--u.group.r||s(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;h=u.a+u.d*i(t/u.duration),f(h,1-h)}return!(!u&&!d)}))}return{run(e){r(l)?(ae||(ae=Promise.resolve(),ae.then(()=>{ae=null})),ae).then(()=>{l=l(),f(e)}):f(e)},end(){g(),u=d=null}}}function ge(e){return"object"==typeof e&&null!==e?e:{}}function me(e){e&&e.c()}function fe(e,t,o){const{fragment:n,on_mount:i,on_destroy:l,after_update:h}=e.$$;n&&n.m(t,o),Z(()=>{const t=i.map(a).filter(r);l?l.push(...t):s(t),e.$$.on_mount=[]}),h.forEach(Z)}function ye(e,t){const o=e.$$;null!==o.fragment&&(s(o.on_destroy),o.fragment&&o.fragment.d(t),o.on_destroy=o.fragment=null,o.ctx=[])}function pe(e,t){-1===e.$$.dirty[0]&&(j.push(e),J||(J=!0,X.then(te)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function we(t,o,a,r,i,l,h=[-1]){const u=x;P(t);const d=o.props||{},c=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:h};let g=!1;c.ctx=a?a(t,d,(e,o,...a)=>{const n=a.length?a[0]:o;return c.ctx&&i(c.ctx[e],c.ctx[e]=n)&&(c.bound[e]&&c.bound[e](n),g&&pe(t,e)),o}):[],c.update(),g=!0,s(c.before_update),c.fragment=!!r&&r(c.ctx),o.target&&(o.hydrate?c.fragment&&c.fragment.l(function(e){return Array.from(e.childNodes)}(o.target)):c.fragment&&c.fragment.c(),o.intro&&he(t.$$.fragment),fe(t,o.target,o.anchor),te()),P(u)}class be{$destroy(){ye(this,1),this.$destroy=e}$on(e,t){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const e=o.indexOf(t);-1!==e&&o.splice(e,1)}}$set(){}}const ke=[];function ve(t,o=e){let a;const n=[];function s(e){if(i(t,e)&&(t=e,a)){const e=!ke.length;for(let e=0;e<n.length;e+=1){const o=n[e];o[1](),ke.push(o,t)}if(e){for(let e=0;e<ke.length;e+=2)ke[e][0](ke[e+1]);ke.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(r,i=e){const l=[r,i];return n.push(l),1===n.length&&(a=o(s)||e),r(t),()=>{const e=n.indexOf(l);-1!==e&&n.splice(e,1),0===n.length&&(a(),a=null)}}}}function Te(t,o,a){const n=!Array.isArray(t),i=n?[t]:t,h=o.length<2;return{subscribe:ve(a,t=>{let a=!1;const u=[];let d=0,c=e;const g=()=>{if(d)return;c();const a=o(n?u[0]:u,t);h?t(a):c=r(a)?a:e},m=i.map((e,t)=>l(e,e=>{u[t]=e,d&=~(1<<t),a&&g()},()=>{d|=1<<t}));return a=!0,g(),function(){s(m),c()}}).subscribe}}const Ie={},Ee={};function Se(e){return{...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}}const Oe=function(e,t){const o=[];let a=Se(e);return{get location(){return a},listen(t){o.push(t);const n=()=>{a=Se(e),t({location:a,action:"POP"})};return e.addEventListener("popstate",n),()=>{e.removeEventListener("popstate",n);const a=o.indexOf(t);o.splice(a,1)}},navigate(t,{state:n,replace:s=!1}={}){n={...n,key:Date.now()+""};try{s?e.history.replaceState(n,null,t):e.history.pushState(n,null,t)}catch(o){e.location[s?"replace":"assign"](t)}a=Se(e),o.forEach(e=>e({location:a,action:"PUSH"}))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(e="/"){let t=0;const o=[{pathname:e,search:""}],a=[];return{get location(){return o[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return o},get index(){return t},get state(){return a[t]},pushState(e,n,s){const[r,i=""]=s.split("?");t++,o.push({pathname:r,search:i}),a.push(e)},replaceState(e,n,s){const[r,i=""]=s.split("?");o[t]={pathname:r,search:i},a[t]=e}}}}()),Re=/^:(.+)/;function Ye(e){return"*"===e[0]}function Ae(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Ce(e){return e.replace(/(^\/+|\/+$)/g,"")}function Fe(e,t){return{route:e,score:e.default?0:Ae(e.path).reduce((e,t)=>(e+=4,!function(e){return""===e}(t)?!function(e){return Re.test(e)}(t)?Ye(t)?e-=5:e+=3:e+=2:e+=1,e),0),index:t}}function _e(e,t){let o,a;const[n]=t.split("?"),s=Ae(n),r=""===s[0],i=function(e){return e.map(Fe).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index)}(e);for(let e=0,n=i.length;e<n;e++){const n=i[e].route;let l=!1;if(n.default){a={route:n,params:{},uri:t};continue}const h=Ae(n.path),u={},d=Math.max(s.length,h.length);let c=0;for(;c<d;c++){const e=h[c],t=s[c];if(void 0!==e&&Ye(e)){u["*"===e?"*":e.slice(1)]=s.slice(c).map(decodeURIComponent).join("/");break}if(void 0===t){l=!0;break}let o=Re.exec(e);if(o&&!r){const e=decodeURIComponent(t);u[o[1]]=e}else if(e!==t){l=!0;break}}if(!l){o={route:n,params:u,uri:"/"+s.slice(0,c).join("/")};break}}return o||a||null}function Ne(e,t){return`${Ce("/"===t?e:`${Ce(e)}/${Ce(t)}`)}/`}function Le(e){let t;const o=e[16].default,a=u(o,e,e[15],null);return{c(){a&&a.c()},m(e,o){a&&a.m(e,o),t=!0},p(e,[t]){a&&a.p&&32768&t&&a.p(d(o,e,e[15],null),c(o,e[15],t,null))},i(e){t||(he(a,e),t=!0)},o(e){ue(a,e),t=!1},d(e){a&&a.d(e)}}}function He(e,t,o){let a,n,s,{basepath:r="/"}=t,{url:i=null}=t;const l=V(Ie),u=V(Ee),d=ve([]);h(e,d,e=>o(8,s=e));const c=ve(null);let g=!1;const m=l||ve(i?{pathname:i}:Oe.location);h(e,m,e=>o(7,n=e));const f=u?u.routerBase:ve({path:r,uri:r});h(e,f,e=>o(6,a=e));const y=Te([f,c],([e,t])=>{if(null===t)return e;const{path:o}=e,{route:a,uri:n}=t;return{path:a.default?o:a.path.replace(/\*.*$/,""),uri:n}});function p(e){const{path:t}=a;let{path:o}=e;if(e._path=o,e.path=Ne(t,o),"undefined"==typeof window){if(g)return;const t=function(e,t){return _e([e],t)}(e,n.pathname);t&&(c.set(t),g=!0)}else d.update(t=>(t.push(e),t))}function w(e){d.update(t=>{const o=t.indexOf(e);return t.splice(o,1),t})}l||(B(()=>Oe.listen(e=>{m.set(e.location)})),$(Ie,m)),$(Ee,{activeRoute:c,base:f,routerBase:y,registerRoute:p,unregisterRoute:w});let{$$slots:b={},$$scope:k}=t;return e.$set=e=>{"basepath"in e&&o(3,r=e.basepath),"url"in e&&o(4,i=e.url),"$$scope"in e&&o(15,k=e.$$scope)},e.$$.update=()=>{if(64&e.$$.dirty){const{path:e}=a;d.update(t=>(t.forEach(t=>t.path=Ne(e,t._path)),t))}if(384&e.$$.dirty){const e=_e(s,n.pathname);c.set(e)}},[d,m,f,r,i,g,a,n,s,l,u,c,y,p,w,k,b]}class xe extends be{constructor(e){super(),we(this,e,He,Le,i,{basepath:3,url:4})}}const De=e=>({params:2&e,location:16&e}),Me=e=>({params:e[1],location:e[4]});function Ge(e){let t,o,a,n;const s=[Pe,We],r=[];function i(e,t){return null!==e[0]?0:1}return t=i(e),o=r[t]=s[t](e),{c(){o.c(),a=R()},m(e,o){r[t].m(e,o),v(e,a,o),n=!0},p(e,n){let l=t;t=i(e),t===l?r[t].p(e,n):(ie(),ue(r[l],1,1,()=>{r[l]=null}),le(),o=r[t],o||(o=r[t]=s[t](e),o.c()),he(o,1),o.m(a.parentNode,a))},i(e){n||(he(o),n=!0)},o(e){ue(o),n=!1},d(e){r[t].d(e),e&&T(a)}}}function We(e){let t;const o=e[13].default,a=u(o,e,e[12],Me);return{c(){a&&a.c()},m(e,o){a&&a.m(e,o),t=!0},p(e,t){a&&a.p&&4114&t&&a.p(d(o,e,e[12],Me),c(o,e[12],t,De))},i(e){t||(he(a,e),t=!0)},o(e){ue(a,e),t=!1},d(e){a&&a.d(e)}}}function Pe(e){let t,a;const n=[{location:e[4]},e[1],e[2]];var s=e[0];function r(e){let t={};for(let e=0;e<n.length;e+=1)t=o(t,n[e]);return{props:t}}if(s)var i=new s(r());return{c(){i&&me(i.$$.fragment),t=R()},m(e,o){i&&fe(i,e,o),v(e,t,o),a=!0},p(e,o){const a=22&o?function(e,t){const o={},a={},n={$$scope:1};let s=e.length;for(;s--;){const r=e[s],i=t[s];if(i){for(const e in r)e in i||(a[e]=1);for(const e in i)n[e]||(o[e]=i[e],n[e]=1);e[s]=i}else for(const e in r)n[e]=1}for(const e in a)e in o||(o[e]=void 0);return o}(n,[16&o&&{location:e[4]},2&o&&ge(e[1]),4&o&&ge(e[2])]):{};if(s!==(s=e[0])){if(i){ie();const e=i;ue(e.$$.fragment,1,0,()=>{ye(e,1)}),le()}s?(me((i=new s(r())).$$.fragment),he(i.$$.fragment,1),fe(i,t.parentNode,t)):i=null}else s&&i.$set(a)},i(e){a||(i&&he(i.$$.fragment,e),a=!0)},o(e){i&&ue(i.$$.fragment,e),a=!1},d(e){e&&T(t),i&&ye(i,e)}}}function Ue(e){let t,o,a=null!==e[3]&&e[3].route===e[7]&&Ge(e);return{c(){a&&a.c(),t=R()},m(e,n){a&&a.m(e,n),v(e,t,n),o=!0},p(e,[o]){null!==e[3]&&e[3].route===e[7]?a?(a.p(e,o),he(a,1)):(a=Ge(e),a.c(),he(a,1),a.m(t.parentNode,t)):a&&(ie(),ue(a,1,1,()=>{a=null}),le())},i(e){o||(he(a),o=!0)},o(e){ue(a),o=!1},d(e){a&&a.d(e),e&&T(t)}}}function Be(e,t,a){let n,s,{path:r=""}=t,{component:i=null}=t;const{registerRoute:l,unregisterRoute:u,activeRoute:d}=V(Ee);h(e,d,e=>a(3,n=e));const c=V(Ie);h(e,c,e=>a(4,s=e));const m={path:r,default:""===r};let f={},y={};var p;l(m),"undefined"!=typeof window&&(p=()=>{u(m)},U().$$.on_destroy.push(p));let{$$slots:w={},$$scope:b}=t;return e.$set=e=>{a(11,t=o(o({},t),g(e))),"path"in e&&a(8,r=e.path),"component"in e&&a(0,i=e.component),"$$scope"in e&&a(12,b=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&n&&n.route===m&&a(1,f=n.params);{const{path:e,component:o,...n}=t;a(2,y=n)}},t=g(t),[i,f,y,n,s,d,c,m,r,l,u,t,b,w]}class qe extends be{constructor(e){super(),we(this,e,Be,Ue,i,{path:8,component:0})}}function $e(e){const t=e-1;return t*t*t+1}function Ve(e,{delay:o=0,duration:a=400,easing:n=t}){const s=+getComputedStyle(e).opacity;return{delay:o,duration:a,easing:n,css:e=>`opacity: ${e*s}`}}function je(e,{delay:t=0,duration:o=400,easing:a=$e,x:n=0,y:s=0,opacity:r=0}){const i=getComputedStyle(e),l=+i.opacity,h="none"===i.transform?"":i.transform,u=l*(1-r);return{delay:t,duration:o,easing:a,css:(e,t)=>`\n\t\t\ttransform: ${h} translate(${(1-e)*n}px, ${(1-e)*s}px);\n\t\t\topacity: ${l-u*t}`}}function Ke(t){let o,a;return{c(){o=E("span"),o.textContent="x",A(o,"class","svelte-19dc21c")},m(e,n){v(e,o,n),a=Y(o,"click",t[12])},p:e,d(e){e&&T(o),a()}}}function ze(e){let t,o,a,n,s,r,i,l;Z(e[11]);let h=e[0]&&Ke(e);const g=e[10].default,m=u(g,e,e[9],null);return{c(){t=E("fade"),a=O(),n=E("modal"),h&&h.c(),s=O(),m&&m.c(),A(t,"class","svelte-19dc21c"),A(n,"style",e[2]),A(n,"class","svelte-19dc21c"),_(n,"showClose",e[0])},m(o,r){v(o,t,r),v(o,a,r),v(o,n,r),h&&h.m(n,null),k(n,s),m&&m.m(n,null),i=!0,l=Y(window,"resize",e[11])},p(e,[t]){e[0]?h?h.p(e,t):(h=Ke(e),h.c(),h.m(n,s)):h&&(h.d(1),h=null),m&&m.p&&512&t&&m.p(d(g,e,e[9],null),c(g,e[9],t,null)),(!i||4&t)&&A(n,"style",e[2]),1&t&&_(n,"showClose",e[0])},i(a){i||(Z(()=>{o||(o=ce(t,Ve,{duration:200},!0)),o.run(1)}),he(m,a),Z(()=>{r||(r=ce(n,je,e[4](),!0)),r.run(1)}),i=!0)},o(a){o||(o=ce(t,Ve,{duration:200},!1)),o.run(0),ue(m,a),r||(r=ce(n,je,e[4](),!1)),r.run(0),i=!1},d(e){e&&T(t),e&&o&&o.end(),e&&T(a),e&&T(n),h&&h.d(),m&&m.d(e),e&&r&&r.end(),l()}}}function Qe(e,t,o){let{width:a}=t,{height:n}=t,{showClose:s=!1}=t;const r=q();let i=0;let{$$slots:l={},$$scope:h}=t;let u,d,c;return e.$set=e=>{"width"in e&&o(5,a=e.width),"height"in e&&o(6,n=e.height),"showClose"in e&&o(0,s=e.showClose),"$$scope"in e&&o(9,h=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&o(7,u=a?`width: ${a};`:""),64&e.$$.dirty&&o(8,d=n?`height: ${n};`:""),384&e.$$.dirty&&o(2,c=u+d)},[s,i,c,r,()=>i>500?{y:25,duration:300}:{y:0,duration:300},a,n,u,d,h,l,function(){o(1,i=window.innerWidth)},()=>r("close")]}class Xe extends be{constructor(e){super(),we(this,e,Qe,ze,i,{width:5,height:6,showClose:0})}}function Je(t){let o,a;return{c(){o=E("button"),o.textContent="Export Saved Game →",A(o,"class","svelte-egj1qn")},m(e,n){v(e,o,n),a=Y(o,"click",t[6])},p:e,d(e){e&&T(o),a()}}}function Ze(e){let t;const o=new Xe({props:{showClose:!0,$$slots:{default:[et]},$$scope:{ctx:e}}});return o.$on("close",e[11]),{c(){me(o.$$.fragment)},m(e,a){fe(o,e,a),t=!0},p(e,t){const a={};4102&t&&(a.$$scope={dirty:t,ctx:e}),o.$set(a)},i(e){t||(he(o.$$.fragment,e),t=!0)},o(e){ue(o.$$.fragment,e),t=!1},d(e){ye(o,e)}}}function et(e){let t,o,a,n,s,r;return{c(){t=E("p"),t.textContent="Copy this save code and put it somewhere safe. Then, on another computer,\r\n      you can import this save by clicking Import Saved Game and pasting this\r\n      code in.",o=O(),a=E("textarea"),n=O(),s=E("span"),s.innerHTML='<span class="svelte-egj1qn">\n        📄\n        <span class="svelte-egj1qn">📄</span></span>\n      Copy to clipboard\n    ',a.value=e[1],a.readOnly="readonly",A(a,"class","export-text svelte-egj1qn"),A(s,"class","copy svelte-egj1qn")},m(i,l){v(i,t,l),v(i,o,l),v(i,a,l),e[10](a),v(i,n,l),v(i,s,l),r=Y(s,"click",e[7])},p(e,t){2&t&&(a.value=e[1])},d(i){i&&T(t),i&&T(o),i&&T(a),e[10](null),i&&T(n),i&&T(s),r()}}}function tt(e){let t,o,a,n,r,i,l,h,u,d,c,g,m,f,y,p,w,b,I,C,F,N,L,H,x,D,M,G,W=e[0]&&Je(e),P=e[1]&&Ze(e);return{c(){t=E("h1"),t.textContent="Adventure",o=O(),a=E("p"),a.textContent="A world of mystery and adventure awaits!",n=O(),r=E("button"),r.textContent="New Game",i=O(),l=E("button"),h=S("Continue Saved Game"),u=O(),d=E("p"),d.textContent="If you want to move your saved game onto a different browser, you can export\r\n  it to text and then import it in a different browser.",c=O(),g=E("button"),g.textContent="Import Saved Game ←",m=O(),W&&W.c(),f=O(),y=E("p"),p=S("Download and print a few\r\n  "),w=E("a"),b=S("blank maps"),C=S("\r\n  and fill them in as you play the game!"),F=E("br"),N=S("(Make sure to find the in-game compass first!)"),L=O(),H=E("p"),H.innerHTML='\n    Did you like the game? Hate it? Or did you find a bug or a typo? I&#39;d love\n    to hear about it! Go check out the\n    <a href="https://github.com/jschnurer/text-adv-svelte#readme">readme at github</a>\n    for my contact info!\n  ',x=O(),P&&P.c(),D=R(),A(r,"class","svelte-egj1qn"),l.disabled=e[3],A(l,"class","svelte-egj1qn"),_(l,"continueDisabled",e[3]),A(g,"class","svelte-egj1qn"),A(w,"href",I=window.hostDir+"/adventure-blank-map.pdf"),A(w,"target","_blank")},m(s,T){v(s,t,T),v(s,o,T),v(s,a,T),v(s,n,T),v(s,r,T),v(s,i,T),v(s,l,T),k(l,h),v(s,u,T),v(s,d,T),v(s,c,T),v(s,g,T),v(s,m,T),W&&W.m(s,T),v(s,f,T),v(s,y,T),k(y,p),k(y,w),k(w,b),k(y,C),k(y,F),k(y,N),v(s,L,T),v(s,H,T),v(s,x,T),P&&P.m(s,T),v(s,D,T),M=!0,G=[Y(r,"click",e[8]),Y(l,"click",e[9]),Y(g,"click",e[5])]},p(e,[t]){(!M||8&t)&&(l.disabled=e[3]),8&t&&_(l,"continueDisabled",e[3]),e[0]?W?W.p(e,t):(W=Je(e),W.c(),W.m(f.parentNode,f)):W&&(W.d(1),W=null),e[1]?P?(P.p(e,t),he(P,1)):(P=Ze(e),P.c(),he(P,1),P.m(D.parentNode,D)):P&&(ie(),ue(P,1,1,()=>{P=null}),le())},i(e){M||(he(P),M=!0)},o(e){ue(P),M=!1},d(e){e&&T(t),e&&T(o),e&&T(a),e&&T(n),e&&T(r),e&&T(i),e&&T(l),e&&T(u),e&&T(d),e&&T(c),e&&T(g),e&&T(m),W&&W.d(e),e&&T(f),e&&T(y),e&&T(L),e&&T(H),e&&T(x),P&&P.d(e),e&&T(D),s(G)}}}function ot(e,t,o){const a=q();let n=!1,s="",r=null;B(()=>{localStorage.getItem("game_state")&&o(0,n=!0)});let i;return e.$$.update=()=>{1&e.$$.dirty&&o(3,i=!n)},[n,s,r,i,a,()=>{if(!n||confirm("Importing a game will erase your current saved game. Continue?")){var e=prompt("Paste your save code here and press OK.","");if(e)try{let t=atob(e);JSON.parse(t);localStorage.setItem("game_state",t),a("continueGame")}catch{alert("Your save code is invalid.")}}},()=>{o(1,s=btoa(localStorage.getItem("game_state")))},()=>{r.select();try{document.execCommand("copy"),alert("Copied to clipboard. Paste it somewhere safe!")}catch{alert("FAiled to copy to clipboard. Select everything in the textbox manually and press CTRL+C instead.")}},()=>a("newGame"),()=>a("continueGame"),function(e){K[e?"unshift":"push"](()=>{o(2,r=e)})},()=>o(1,s="")]}class at extends be{constructor(e){super(),we(this,e,ot,tt,i,{})}}var nt="Tutorial/center";function st(e){let t,o,a,n,s,r,i,l,h,u,d,c,g,m;return{c(){t=E("h4"),t.textContent="Hints / Enable Clicking",o=O(),a=E("p"),a.textContent='If you\'d like, you can enable the experimental "hint" feature. This will\r\n      cause interactable things to be marked with a dashed underline. They will\r\n      then be interactable via clicking.',n=O(),s=E("p"),r=S("Hints are currently "),i=S(e[2]),l=S(". After toggling hints on or off, hints will\r\n      begin appearing the next time text is written on the screen."),h=O(),u=E("p"),d=E("button"),c=S("Turn Hints "),g=S(e[3]),A(a,"class","svelte-z4d1pn"),A(s,"class","svelte-z4d1pn"),A(u,"class","svelte-z4d1pn")},m(f,y){v(f,t,y),v(f,o,y),v(f,a,y),v(f,n,y),v(f,s,y),k(s,r),k(s,i),k(s,l),v(f,h,y),v(f,u,y),k(u,d),k(d,c),k(d,g),m=Y(d,"click",e[5])},p(e,t){4&t&&C(i,e[2]),8&t&&C(g,e[3])},d(e){e&&T(t),e&&T(o),e&&T(a),e&&T(n),e&&T(s),e&&T(h),e&&T(u),m()}}}function rt(t){let o,a,n,s,r,i,l,h,u,d,c,g,m,f,y,p,w,b,I,R,Y,C,F,_,N,L,H,x,D,M,G,W,P,U,B,q,$,V,j,K,z,Q,X,J,Z,ee,te,oe,ae,ne,se,re,ie,le,he,ue,de,ce,ge=t[1]&&st(t);return{c(){o=E("h3"),o.textContent="Help",a=O(),n=E("room"),s=E("h4"),s.textContent="Feedback",r=O(),i=E("p"),i.innerHTML='\n    Did you like the game? Hate it? Or did you find a bug or a typo? I&#39;d love\n    to hear about it! Go check out the\n    <a href="https://github.com/jschnurer/text-adv-svelte#readme">readme at github</a>\n    for my contact info!\n  ',l=O(),h=E("h4"),h.textContent="Playing the Game",u=O(),d=E("p"),d.textContent="Control the game and interact with the world by typing commands.",c=O(),g=E("p"),g.textContent='You play Adventure by typing commands into the textbox and pressing Enter.\r\n    Many commands have a shorthand so you don\'t have to type the entire word.\r\n    For example, "look" is a command you should use A LOT. Instead of typing\r\n    "look" all the time, you can just enter "l". Whenever a command is mentioned\r\n    below, its shortcut (if there is one) is written after it in parentheses.',m=O(),f=E("p"),f.textContent='You can do things like "look" (l) or "take" (t) (and many other things too!)\r\n    When you want to interact with something specific, type it after your\r\n    command. The commands should be very simple. For example, instead of saying\r\n    "look at the tree" you would say "look tree". Generally, anything you type\r\n    should be either one or two words (separated by a space). Sometimes,\r\n    however, you may need to be more descriptive. For example, if you see\r\n    "scorch marks" and want to look at them, you would have to type "look scorch\r\n    marks" since typing "look marks" or "look scorch" doesn\'t really convey what\r\n    you want to do.',y=O(),p=E("p"),p.textContent='The game will display the 30 most recent messages. You can scroll to review\r\n    old message if you think it would help. If it ever gets unbearable and you\r\n    want a blank slate, you can use the "clear" (cl) command to clear out all\r\n    messages. Afterward, you should "look" again or else you\'re just looking at\r\n    a blank screen.',w=O(),b=E("p"),b.textContent="Pressing up lets you cycle through your most-recently entered 10 commands.\r\n    You can also press down to cycle the other way.",I=O(),R=E("h4"),R.textContent="Interacting With Objects",Y=O(),C=E("p"),C.textContent='You will need to often interact with objects in the environment and items in\r\n    your inventory. To do so, you can most of the time do what makes sense. If\r\n    you see a button, you can probably "push button". However, sometimes\r\n    interacting with something doesn\'t really have a single verb that makes\r\n    sense. For example, what verb would you use to interact with a computer?\r\n    "type computer"? "type keyboard"? "push keys"? None of these really convey\r\n    using a computer. In these cases, you can simply type "use [target]".',F=O(),_=E("p"),_.textContent="Sometimes, interacting with something requires more than just using it. You\r\n    may need to use another item on the thing you want to interact with. For\r\n    example, if you want to unlock a locked door and you have a key, you may\r\n    need to type \"use key on door\". You can try using anything on anything else\r\n    just to see if it works. If it doesn't work, you won't lose your item.",N=O(),L=E("h4"),L.textContent="Navigating the World",H=O(),x=E("p"),x.textContent='You can move between areas by using the commands "north" (n), "south" (s),\r\n    "east" (e), "west" (w), "up" (u), and "down" (d). Area descriptions will\r\n    tell you the directions you\'re able to move (e.g. "a path leads north").',D=O(),M=E("p"),M.textContent="If you have a hard time keeping track of where you are or the layout of the\r\n    game world, you could always have a piece of paper and jot down the names of\r\n    the areas with lines connecting them. Oldschool!",G=O(),W=E("p"),P=E("a"),U=S("Click here to download a blank map to get you started!"),q=O(),$=E("h4"),$.textContent="Items and Inventory",V=O(),j=E("p"),j.textContent='When you acquire things in the game, usually by using "take [target]", they\r\n    are added to your inventory. You can carry a LOT of stuff. You can check\r\n    what you\'re carrying by typing the "inventory" (or "i") command! You can\r\n    look at things in your inventory too! In fact, you can do all sorts of\r\n    things to the stuff in your inventory.',K=O(),z=E("h4"),z.textContent="Meeting and Greeting",Q=O(),X=E("p"),X.textContent='Sometimes you may meet characters in the game world. Characters have a few\r\n    special interactions that objects in the world don\'t have. The first of\r\n    which is the ability to greet them. You can greet a character by typing\r\n    "greet [target]".',J=O(),Z=E("p"),Z.textContent="Some characters will even let you ask them about things. You can ask\r\n    questions by typing \"ask [target] about [topic]\". If the topic is something\r\n    they'd know about, they'll respond. Feel free to ask about all kinds of\r\n    stuff!",ee=O(),te=E("p"),te.textContent="You can also give things to characters. You can give an item to someone by\r\n    typing \"give [item] to [target]\". If it's something that the character\r\n    wants, they're respond.",oe=O(),ae=E("h4"),ae.textContent="Advice",ne=O(),se=E("p"),se.textContent='You should probably "look" at things a lot. Who know\'s what might be useful\r\n    or hiding something else? And death lurks around every corner. You can also\r\n    look at the area you\'re in by typing just "look" without a target.',re=O(),ie=E("p"),ie.textContent="Most of the time you won't learn about everything that's in an area just by\r\n    entering it and looking at the area overall. As you look at specific things\r\n    in the world you may learn about things you hadn't noticed before. For\r\n    example, when you enter some area it might tell you that there's a box. If\r\n    you tried to \"look box\" you might learn that there's an item in the box.\r\n    After you learn that there's an item in the box, you could look or take that\r\n    item!",le=O(),he=E("p"),he.textContent='Throughout the game world you may come across cairns. In the game world,\r\n    these are small stacks of stones measuring only 2-3 feet tall that are\r\n    imbued with some sort of supernatural power to aid travelers and explorers.\r\n    When you find one in the world, you should "touch" it. When you touch one,\r\n    you attune your soul to the cairn. If your adventure is cut short by\r\n    tragedy, you can restart from the last cairn you touched.',ue=O(),de=E("p"),de.innerHTML='\n    If you need more help, you can view the\n    <a href="walkthrough" target="_blank">Spoiler-riffic Walkthrough.</a>',ce=O(),ge&&ge.c(),A(i,"class","svelte-z4d1pn"),A(d,"class","svelte-z4d1pn"),A(g,"class","svelte-z4d1pn"),A(f,"class","svelte-z4d1pn"),A(p,"class","svelte-z4d1pn"),A(b,"class","svelte-z4d1pn"),A(C,"class","svelte-z4d1pn"),A(_,"class","svelte-z4d1pn"),A(x,"class","svelte-z4d1pn"),A(M,"class","svelte-z4d1pn"),A(P,"href",B=window.hostDir+"/adventure-blank-map.pdf"),A(P,"target","_blank"),A(W,"class","svelte-z4d1pn"),A(j,"class","svelte-z4d1pn"),A(X,"class","svelte-z4d1pn"),A(Z,"class","svelte-z4d1pn"),A(te,"class","svelte-z4d1pn"),A(se,"class","svelte-z4d1pn"),A(ie,"class","svelte-z4d1pn"),A(he,"class","svelte-z4d1pn"),A(de,"class","svelte-z4d1pn")},m(e,t){v(e,o,t),v(e,a,t),v(e,n,t),k(n,s),k(n,r),k(n,i),k(n,l),k(n,h),k(n,u),k(n,d),k(n,c),k(n,g),k(n,m),k(n,f),k(n,y),k(n,p),k(n,w),k(n,b),k(n,I),k(n,R),k(n,Y),k(n,C),k(n,F),k(n,_),k(n,N),k(n,L),k(n,H),k(n,x),k(n,D),k(n,M),k(n,G),k(n,W),k(W,P),k(P,U),k(n,q),k(n,$),k(n,V),k(n,j),k(n,K),k(n,z),k(n,Q),k(n,X),k(n,J),k(n,Z),k(n,ee),k(n,te),k(n,oe),k(n,ae),k(n,ne),k(n,se),k(n,re),k(n,ie),k(n,le),k(n,he),k(n,ue),k(n,de),k(n,ce),ge&&ge.m(n,null)},p(e,[t]){e[1]?ge?ge.p(e,t):(ge=st(e),ge.c(),ge.m(n,null)):ge&&(ge.d(1),ge=null)},i:e,o:e,d(e){e&&T(o),e&&T(a),e&&T(n),ge&&ge.d()}}}function it(e,t,o){const a=q();let{allowTogglingHints:n=!1}=t,{showHints:s=!1}=t;let r,i;return e.$set=e=>{"allowTogglingHints"in e&&o(1,n=e.allowTogglingHints),"showHints"in e&&o(0,s=e.showHints)},e.$$.update=()=>{1&e.$$.dirty&&o(2,r=s?"on":"off"),1&e.$$.dirty&&o(3,i=s?"off":"on")},[s,n,r,i,a,()=>{a("toggleHints"),o(0,s=!s)}]}class lt extends be{constructor(e){super(),we(this,e,it,rt,i,{allowTogglingHints:1,showHints:0})}}var ht=["throw","take","t","l","look","n","north","s","south","e","east","w","west","u","up","d","down","enter","inventory","i","clear","cl","cross","touch","use","combine","push","put","sit","stand","skip","use","ask","greet","give","open","close","break","smash","destroy","kill","drop","drink","climb","move","incant","incantations"],ut=[{slug:"tutorial key",altSlugs:["key"],id:"TUTORIAL_KEY",look:["It's a brass key. You get the feeling that it's only useful in the tutorial. It definitely opens a locked door or two."]},{slug:"banana",id:"TUTORIAL_BANANA",look:["It's a regular old banana. It has a pleasing yellow color."]},{slug:"belt",id:"TUTORIAL_BELT",look:["It's a belt. Like, not the kind you wear, the kind that connect pulleys together. You know, the mechanical kind of belt."]},{slug:"stone",id:"FISH_STONE",look:[{cmd:"ifRoom",args:["Forest/broken-bridge",["It's a small, smooth stone. You feel the urge to throw it for some reason."],["It's a small, smooth stone. You feel the urge to throw it for some reason--but not here."]]}],throw:[{cmd:"ifRoom",args:["Forest/broken-bridge",["invokeRoom|throwStone"],["You really don't see the point of throwing the stone right now."]]}]},{slug:"rod",id:"RUINS_ROD",look:["It's a cylindrical metal rod about an inch and a half in diameter. It's rusty but still sturdy. It has a grip at one end. Maybe it's a handle of some kind."]},{slug:"nail",altSlugs:["rusty nail"],id:"NAIL",look:["It's rusty but should still do its job well enough."]},{slug:"coin",id:"COIN",look:["It's an ancient silver coin. It's so old that it's been rubbed smooth. Maybe it's lucky."]},{slug:"red fabric",altSlugs:["fabric"],id:"RED_FABRIC",look:["The strip of red fabric is faded and tattered."]},{slug:"journal",altSlugs:["notebook","ophelia's journal"],id:"OPHELIAS_JOURNAL1",look:"callCommon|ophelias_journal1_look|global-common"},{slug:"journal",altSlugs:["notebook","ophelia's journal"],id:"OPHELIAS_JOURNAL2",look:"callCommon|ophelias_journal2_look|global-common"},{slug:"glass scissors",altSlugs:["scissors"],id:"SCISSORS",look:"They're a pair of scissors. They're the size you would expect except they're made of clear glass."},{slug:"giant mosquito egg",altSlugs:["mosquito egg","egg"],id:"MOSQUITO_EGG",look:"It's a whitish color and throbs and shakes. It holds life within. Horrible, horrible life."},{slug:"cure",id:"BLIGHT_CURE",look:"It's a small glass vial with a cork stopper. The liquid within shimmers."},{slug:"flashlight",id:"FLASHLIGHT",look:"It's a heavy duty metal flashlight. There's a button on it that toggles it on and off. You could \"use flashlight\" to toggle the switch back and forth.",use:{"":[{cmd:"ifFlag",args:["G.HASLIGHT",["You flick the switch on your flashlight, turning it off.","unsetFlag|G.HASLIGHT"],["You flick the switch on your flashlight, turning it on.","setFlag|G.HASLIGHT"]]}]}},{slug:"sledgehammer",altSlugs:["sledge"],id:"SLEDGE",look:"It's pretty heavy but could do a lot of damage."},{slug:"puffball",id:"PUFFBALL",look:"It is the off-white color of bone. It's a rough sphere, about a foot in diameter but it's surface isn't smooth. Instead, it's covered in multitudinous little white spikes all over. It's got an umbilical-like stem that is a bone-white color with blue veins just beneath the surface."},{slug:"etavoner rune",id:"ETAVONER_RUNE",look:"You don't know how you know this, but the rune represents the etavoner charm."},{slug:"eltnamsid rune",id:"ELTNAMSID_RUNE",look:"You don't know how you know this, but the rune represents the eltnamsid charm."},{slug:"lievnu rune",id:"LIEVNU_RUNE",look:"You don't know how you know this, but the rune represents the lievnu charm."},{slug:"hatch note",id:"HATCH_NOTE",look:"callCommon|hatch_note_look|global-common"},{slug:"potion of healing",altSlugs:["potion","healing potion"],id:"POTION",look:'It\'s a glass bottle with a cork stopper. It has red liquid inside and a label that reads "potion of healing".',use:{"":"Now's not the time. You might need it later."}},{slug:"empty bottle",altSlugs:["bottle"],id:"BOTTLE",look:"It's an empty glass bottle with a cork stopper. It's labeled \"potion of healing\"."},{slug:"bottle of water",altSlugs:["bottle","water bottle"],id:"BOTTLE_OF_WATER",look:"It's an glass bottle with a cork stopper filled with water. It's labeled \"potion of healing\"."},{slug:"iron key",altSlugs:["key"],id:"LIGHTHOUSE_KEY",look:"It's an iron key."},{slug:"rainbow shell",altSlugs:["shell"],id:"RAINBOW_SHELL",look:"It's a large rainbow-colored shell, probably six inches in diameter, reflecting all the colors of the rainbow. It's one of the most beautiful things you've ever seen."},{slug:"pheromone sac",altSlugs:["sac"],id:"SAC",look:"It's a purplish-ish lumpy sac. It once lived inside a giant hornet but it's yours now.",use:{"":"There's no need to use it."}},{slug:"broken silver box",altSlugs:["box","silver box","broken box"],id:"BROKENBOX",look:"callCommon|broken_box_look|global-common"},{slug:"silver box",altSlugs:["box"],id:"SILVERBOX",look:["ifFlagWrite|!G.BOXACTIVATED|It's a small silver box about 4 inches square and 2 inches deep. The outside of the box is very ornamental but the inside is empty and devoid of any filligree.","ifFlagWrite|G.BOXACTIVATED|It's a small silver box about 4 inches square and 2 inches deep. The outside of the box is very ornamental but the inside is empty and devoid of any filligree. All across its surface it is covered in glowing runes."],use:"To use a box, you usually open them. Try that instead.",open:[{cmd:"ifFlag",args:["G.BOXACTIVATED",[{cmd:"ifRoom",args:["Mountain/summit","callCommon|open_box|Mountain/summit","You open the silver box. Nothing happens so you close it."]}],"You open the box. There's nothing inside so you close it again."]}],close:[{cmd:"ifFlag",args:["G.BOXACTIVATED",[{cmd:"ifRoom",args:["Mountain/summit","callCommon|close_box|Mountain/summit","It's not open."]}],"It's not open."]}]},{slug:"map",id:"MAP",look:["It's a piece of parchment, yellowed with age, partially rolled up at the edges. It depicts an area connected by twisting, turning passageways. Many lead to question marks but someone's drawn a line through it, showing the way.",{cmd:"ifRoom",args:["Mountain/maze","callCommon|map_look|Mountain/maze",[{cmd:"ifRoom",args:["Mountain/maze-center",['You reference the map... Oh! Now there\'s a red "X" on the map labeled "You are here". That\'s convenient.',{cmd:"pickOne",args:["The map indicates you should head east.","The map indicates you should head west."]}],[{cmd:"ifRoom",args:["Mountain/maze-north",['You reference the map... Oh! Now there\'s a red "X" on the map labeled "You are here". That\'s convenient.',{cmd:"pickOne",args:["The map indicates you should head east.","The map indicates you should head west."]}],[{cmd:"ifRoom",args:["Mountain/maze-south",['You reference the map... Oh! Now there\'s a red "X" on the map labeled "You are here". That\'s convenient.',{cmd:"pickOne",args:["The map indicates you should head east.","The map indicates you should head west."]}],null]}]]}]]}]]}]},{slug:"crumpled note",id:"MEREDITH_NOTE1",look:"callCommon|crumpled_note|global-common"},{slug:"moldy note",id:"MOLDY_NOTE",look:["It's a little blue from the mold but you can read it just fine:",'] I\'m going to the black mountain to delay "It". Rhode, continue the search. If we can find it, maybe we can stop "It". I already told you of the man that pursues me but in case "It" has eaten the memory, I will write it here.',"] DO NOT TRUST THE MAN NAMED STANLEY.","] -O"]},{slug:"folded note",id:"FOLDED_NOTE",look:"callCommon|folded_note|global-common"},{slug:"root",id:"TARNROOT",look:"It's a plant with white leaves and a thick, brown, two-pronged root."},{slug:"parchment",id:"PARCHMENT",look:"callCommon|parchment_look|global-common"},{slug:"compass",id:"COMPASS",look:["It's a compass but the needle doesn't move. Instead, it points straight forward and two rings around the outside of its face rotate. One of the rings displays letters and another displays numbers. The rings spin to a new configuration whenever you move to a new area. The compass currently reads:","writeRoomCoords"]}];function dt(e){if(null===e)return void this.write("Ask who about what?");let t=e.trim().match("(.+) about (.+)");if(!t||3!==t.length)return void this.write('Huh? Try "ask x about y" instead.');let o=this.findTarget(t[1]);o?o.ask?this.parseCmds(o.ask):this.write("You can't ask "+o.slug+" anything."):this.unknownTarget(t[1])}function ct(){this.text="",this.update()}function gt(e){if(null===e)return void this.write("Combine what with what?");if(3!==e.trim().match("(.+) with (.+)").length)return void this.write('Huh? Try "combine x with y" instead.');let t=this.findTarget(slug1),o=this.findTarget(slug2);if(!t)return void this.unknownTarget(slug1);if(!o)return void this.unknownTarget(slug2);let a=null;t.combine&&(a=t.combine[o.slug]||t.combine[o.id]),a||o.combine&&(a=o.combine[t.slug]||o.combine[t.id]),a?this.parseCmds(a):this.write("That doesn't seem to work.")}function mt(e){if(null===e)return void this.write("Give what to whom?");let t=e.trim().match("(.+) to (.+)");if(!t||3!==t.length)return void this.write('Huh? Try "give [item] to [person]" instead.');let o=this.findItem(t[1]);if(!o)return void this.write(`You don't have a ${t[1]}.`);let a=this.findTarget(t[2]);a?a.give?!a.give._requiredFlag||this.getFlag(a.give._requiredFlag)?a.give[o.id]?this.parseCmds(a.give[o.id]):a.give[""]?this.parseCmds(a.give[""]):this.write("You can't give that to them."):this.write(`You can't give things to ${t[2]} yet.`):this.write(`You can't give things to ${t[2]}.`):this.unknownTarget(t[2])}var ft=[{name:"etavoner",description:"The Charm of Repairing"},{name:"eltnamsid",description:"The Charm of Destruction"},{name:"lievnu",description:"The Charm of Revealing"},{name:"hsinimid",description:"The Charm of Enfeeblement"},{name:"partne",description:"The Charm of Ensnaring"},{name:"etalosi",description:"The Charm of Sealing"},{name:"rohcna",description:"The Charm of Stillness"}];function yt(e){if(!this.knowsAnyIncantations())return this.unknownCmd("incant"),!1;if(!e)return this.write('You must incant a specific incantation. ("incant [incantation]")'),!1;let t=ft.find(t=>t.name===e.toLowerCase());return t&&this.getFlag("G."+e.toUpperCase())?this.room.incant&&this.room.incant[e]?void this.parseCmds(this.room.incant[e]):(this.write(`You incant ${t.description}. Nothing happens...`),!1):(this.write("You murmur useless syllables. It wasn't an incantation. You must've gotten it wrong..."),!1)}function pt(){if(!this.knowsAnyIncantations())return this.unknownCmd("incantations"),!1;this.write("You have remembered the following incantations:"),ft.forEach(e=>{this.getFlag("G."+e.name.toUpperCase())&&this.write(`"${e.name}", ${e.description}`)}),this.write('You can evoke the magic of a Charm by typing "incant [incantation]".')}const wt=(e,t)=>e.slug<t.slug?-1:1,bt=e=>"• "+e.slug;function kt(){if(this.inventory.length)if(this.inventory=this.inventory.sort(wt),this.write("You check what you're carrying and find:"),this.inventory.length<=10)this.write(this.inventory.map(bt).join("\\"));else{let e=this.inventory.length/2;Math.floor(e)!==e&&(e=Math.floor(e),e++);let t=[];for(let o=0;o<e;o++){let a=this.inventory[o],n=this.inventory[o+e],s=bt(a).padEnd(30," ");n&&(s+=bt(n)),t.push(s)}this.write("#"+t.join("\\")+"#")}else this.write("You're not carrying anything.")}function vt(){this.text="",this.room.dark&&!this.getFlag("G.HASLIGHT")?(this.write("^A Very Dark Place^"),this.write("This place is so dark that you can't even see your hand in front of your face. Strange and terrible things make their homes in the dark. If you value your life, you should head back the way you came IMMEDIATELY and return with a light source.\nIt is pitch black. You are likely to be eaten by a grue.")):(this.inventory.find(e=>"COMPASS"===e.id)&&this.room.coords?this.write(`^${this.room.name} (${this.room.coords})^`):this.write(`^${this.room.name}^`),this.room.description&&this.parseCmds(this.room.description),this.room.look&&this.parseCmds(this.room.look),this.room.features&&this.showFeatures(this.room.features),this.getFlag("G.HASLIGHT")&&-1===this.room.slug.indexOf("Memories/")&&this.write("Your flashlight is on."))}function Tt(e){if(!this.room[e])return this.write("You can't go that way."),!1;this.lastMoveDir=e,this.parseCmds(this.room[e])}function It(e){e?e.take?this.parseCmds(e.take,e):this.write("You can't take that."):this.write("Take what?")}function Et(e){if(null===e)return void this.write("Use what on what?");let t=e.trim().match("(.+) on (.+)");if(t||(t=[e.trim()]),1===t.length){let e=this.findTarget(t[0]);return e?e&&e.use&&e.use[""]?void this.parseCmds(e.use[""]):void this.write("It seems like you can't use that. Maybe try something else."):void this.unknownTarget(t[0])}if(3!==t.length)return void this.write('Huh? Try "use x on y" instead.');let o=this.findItem(t[1]);if(!o)return void this.write(`You don't have a ${t[1]}.`);let a=this.findTarget(t[2]);a?a.use&&a.use[o.id]?this.parseCmds(a.use[o.id]):this.write("That's not going to work."):this.unknownTarget(t[2])}function St(e){let t=this.items.find(t=>t.id===e);t?(-1!=e.indexOf("TUTORIAL")||this.getFlag(`G.ITEM_PICKUP_${e}`)||(this.setFlag(`G.ITEM_PICKUP_${e}`),this.incVar("G.TOTAL_ITEMS_FOUND"),this.setVarValue("G.ITEMPERCENT",Math.floor(parseFloat(this.getVarValue("G.TOTAL_ITEMS_FOUND"),10)/parseFloat(this.items.filter(e=>-1===e.id.indexOf("TUTORIAL")).length)*100)+" %")),this.inventory.push(Object.assign({},t))):alert(`Item ${e} not found!`)}function Ot(e,t,o){this.choiceObj={repeat:e,options:t,resolution:o}}function Rt(e,t){let o=this.room;t&&(o=this.rooms[t]),o._common&&(o._common[e]?this.parseCmds(o._common[e]):console.log(`Common not found: ${e}`))}function Yt(e,t){this.setVarValue(e,parseInt(this.getVarValue(e)||0,10)-parseInt(t||1,10))}function At(e){let t=this.userEntry;if(null===t)return void this.write("Ask who about what?");let o=t.trim().match("ask (.+?) about (.+)");if(!o||3!==o.length)return void this.write('Huh? Try "ask x about y" instead.');let a=o[2],n=e[a];if(!n){let t=Object.keys(e).find(e=>e.split("|").find(e=>e.toLowerCase()===a));t&&(n=e[t])}n?this.parseCmds(n):this.parseCmds(e[""])}function Ct(e){this.text="",this.write(e),this.isEnd=!0,this.update()}function Ft(e){this.text=e,this.isGameOver=!0,this.update()}function _t(e,t,o,a){let n=this.getFlag(e);!0===n&&t?this.parseCmds(t,a):!0!==n&&o&&this.parseCmds(o,a)}function Nt(e,t){this.getFlag(e)&&this.write(t)}function Lt(e,t,o,a){this.inventory.find(t=>t.id===e)?this.parseCmds(t,a):this.parseCmds(o,a)}function Ht(e,t,o,a){e===this.room.slug?this.parseCmds(t,a):o&&this.parseCmds(o,a)}function xt(e,t,o,a,n,s){let r=this.getVarValue(e),i=o;"number"==typeof i&&void 0===r&&(r=0);let l=function(e){let t=e.toString().match(/^\$(.+?)\$$/);if(t&&2===t.length)return t[1]}(o);l&&(i=this.getVarValue(l));let h=!1;switch(t){case"==":h=r==i;break;case"===":h=r===i;break;case">":h=r>i;break;case">=":h=r>=i;break;case"<":h=r<i;break;case"<=":h=r<=i;break;default:this.write("Invalid operator!")}h&&a?this.parseCmds(a,s):!h&&n&&this.parseCmds(n,s)}function Dt(e,t){this.setVarValue(e,parseInt(this.getVarValue(e)||0,10)+parseInt(t||1,10))}function Mt(e){this.parseCmds(this.room[e])}function Gt(e){if(!e.length||4!==e.length)return;let t=this.getVarValue(e[0]);e[1].map((e,t)=>({val:e,ix:t})).find(e=>e.val==t)?this.parseCmds(e[2]):this.parseCmds(e[3])}function Wt(e){this.parseCmds(e[Math.floor(Math.random()*e.length)])}function Pt(e){this.inventory=this.inventory.filter(t=>t.id!==e)}function Ut(){let e=JSON.stringify(Object.assign({},{options:this.options,inventory:this.inventory.map(e=>e.id),roomVars:this.roomVars,globalVars:this.globalVars,currRoomSlug:this.room.slug}));localStorage.setItem("game_state",e)}function Bt(e){this.setVarValue(e,!0)}function qt(e){if(!e.length||2!==e.length)return;let t=this.getVarValue(e[0]);e[1][t]&&this.parseCmds(e[1][t])}function $t(e){this.setVarValue(e,!1)}function Vt(e){e&&e.length?(this.waitCmds=e,this.write("+Press enter to continue...+")):console.log("Invalid args sent to waitForInput!")}function jt(e){let t=this.writeCapturing;if(t?this.capturedText="\n"+e:this.text+="\n"+e,t?this.capturedText=Qt(zt(Kt(this.capturedText,this),this),this).replace(/%%/g,"%"):this.text=Qt(zt(Kt(this.text,this),this),this).replace(/%%/g,"%"),!t){let e=this.text.split("\n");e.length>30&&(this.text=e.slice(e.length-30).join("\n"))}this.updateScroll(),this.update()}function Kt(e,t){return e.replace(/{(.+?)}/g,(e,o)=>{let a=t.getFeature(o);return a?(t.writeCapturing=!0,t.parseCmds(a.notice),t.writeCapturing=!1,t.capturedText?t.capturedText.replace("\n",""):""):""})}function zt(e,t){return e.replace(/\$(.+?)\$/g,(e,o)=>{let a=t.getVarValue(o);return null==a?"":a})}function Qt(e,t){if(t.options.showHints&&!e.match(/^\^.+?\^$/)){let o=e;return(t.room.features||[]).forEach(e=>{let t=[];e.slug.split("|").forEach(e=>t.push(e)),e.altSlugs&&(t=t.concat(e.altSlugs)),t.forEach(e=>{o=o.replace(new RegExp("\\b"+e+"\\b","gi"),e=>"%"+e+"%")})}),o}return e}function Xt(){this.write(this.room.coords)}function Jt(e){return this.inventory.find(t=>t.slug===e||t.altSlugs&&t.altSlugs.indexOf(e)>-1)}function Zt(e){let t=(this.room.features||[]).find(t=>!!this.getFeature(t.slug)&&(!!(t.slug.toLowerCase()===e||t.altSlugs&&t.altSlugs.map(e=>e.toLowerCase()).indexOf(e)>-1)&&(!t.targetFlag||!!this.getFlag(t.targetFlag))));return t||this.inventory.find(t=>t.slug.toLowerCase()===e||t.altSlugs&&t.altSlugs.map(e=>e.toLowerCase()).indexOf(e)>-1)}function eo(e){return(this.room.features||[]).find(t=>!(t.slug!==e||t.destroyedFlag&&this.getFlag(t.destroyedFlag)))}function to(e){const t=e=>{if(0===e.indexOf("!")){let t=e.substring(1);return!this.getVarValue(t)}return this.getVarValue(e)};return e.indexOf("&")>-1?0===e.split("&").filter(e=>!t(e)).length:e.indexOf("|")>-1?e.split("|").filter(e=>!!t(e)).length>0:t(e)}function oo(){return this.roomVars[this.room.name]||(this.roomVars[this.room.name]={}),this.roomVars[this.room.name]}var ao={slug:"global-common",_common:{cairn_touch:["You reach out and gingerly and respectfully touch the cairn. For just a moment you feel at peace--like everything is going to be OK. A new runic symbol slowly etches itself onto one of the stones.","saveGame"],mosquito_blurb:"You can see giant mosquitoes the size of housecats buzzing around in the distance all over the swamp. Some hover nearby, waiting for you to stop paying attention. Occasionally, one draws near and you bat it away.",mosquito_look:"They're pretty much the stuff of nightmares. They've got huge wings and legs attached to long cylindrical bodies. Their proboscises are long and thin, like oversized needles. You can see some in the distance that are fat with the blood of some unfortunate creature. As long as you're attentive, they shouldn't pose any threat.",after_learn_incant:'You can recall the list of all incantations you have learned by typing "incantations".',see_lighthouse_distant:"It's too far away to make out any details. You can tell that the light is on, though.",see_beach:"It's beautiful, with white sand and with ocean waves crashing into it.",see_ocean:"It's a sparkling blue ocean. It stretches off to the horizon.",dunes_look:"The dunes make rolling hills of sand. It might actually be fun to play around here if, you know, you weren't in constant danger and in fear for your life all the time.",hatch_note_look:["The handwritten note reads:","]Lowered into darkness, far and out of sight\\Plunged into clear waters, etavoner regains its might."],ophelias_journal1_look:["The cover says \"__HELI_'S JOUR__L\". It's badly water damaged. You try to flip through the pages. Most are clumped together or completely destroyed. You do find a couple passages that are still legible:","]_er__ _eft w_thou_ us in _he mid_le of the n____. We f_llow__ _fter _t dawn. It'_ be_n _eeks _n_ the_e's no sig_ of h__. It se_ms li_e _hen pe__le spl__ u_ here t_ey just... disa__ear. We ma_e a flagpo__ a__ us_d a str_p of hi_ fav__it_ clo_k as t__ fl_g. __ybe he'_l se_ it an_ ret__n.","You find one other legible passage:","]To travers_ ou_ ___or__s wh__e av__ding h___, touc_ o_r in___e colo_s th_n i__a_t __e charms:\\Edr_\\Mine!\\Merek\\Rh_d_\\Ar_en\\M__edit_\\Sta_le_"],ophelias_journal2_look:["The cover says \"OPHELIA'S JOURNAL\". It's badly water damaged. You try to flip through the pages. Most are clumped together or completely destroyed. You do find a couple passages that are still legible:","]Merek left without us in the middle of the night. We followed after at dawn. It's been weeks and there's no sign of him. It seems like when people split up here they just... disappear. We made a flagpole and used a strip of his favorite cloak as the flag. Maybe he'll see it and return.","You find one other legible passage:","]To traverse our memories while avoiding harm, touch our innate colors then incant the charms:\\Edra\\Mine!\\Merek\\Rhode\\Arden\\Meredith\\Stanley"],crumpled_note:["It's a crumpled, handwritten note. You try to smooth it out and read it.",']Stanley said to hide the box somewhere dark and out of the way. He told me to find a small chamber in the caves somewhere and stash it inside and that "It" would handle the rest. I did as I was told. I\'ve ALWAYS done as I was told. I spent my whole life in service to the Order, hunting who they said to hunt. I believed in the cause. But they never said anything about "It". Whatever "It" is. Was the whole Order a lie? Was it all just a tool that "It" used throughout history to bring people here?',']But I did what I was told and hid the box. So why am I being punished? I can feel "It" inside me, draining my memories. Soon there will be nothing left...',"] -Meredith"],broken_box_look:"It's a small silver box about 4 inches square and 2 inches deep. It's broken into two pieces. The hinges are completely destroyed and the top and bottom are separated. The outside of the box is very ornamental but the inside is empty and devoid of any filligree.",folded_note:["It's a note folded in half.","]To the brothers whose names I've forgotten,","]I'm sorry.","]-Meredith"],maze_lost:["After wandering through the labyrinthine passages, you've gotten completely turned around. Without a map to guide the way, you're hopelessly lost. You wander for what seems like hours before finally stepping back out onto the main path through the labyrinth.",{cmd:"waitForInput",args:[{cmd:"pickOne",args:["loadRoom|Mountain/maze-south","loadRoom|Mountain/maze-north","loadRoom|Mountain/maze-center"]}]}],parchment_look:["The parchment reads:","To the fortress underground, where their queen has been crowned. To her highness present it, to unlock the truth of eltnamsid."],maze_enter:["You decide to leave the straight, obvious path through the labyrinth and step into a twisting, turning side passage.",{cmd:"waitForInput",args:["loadRoom|Mountain/maze"]}]}},no={name:"A White Room",slug:"Tutorial/center",description:'Welcome to Adventure. You\'re standing in an empty room with white walls, floor, and ceiling. There\'s a table here with a pile of stuff on it. There are doors to the north, east and west.\n\nHint: You can investigate things by using the "look [target]" command. If you want to just get the description of the area you\'re in, you can simply type "look". Try looking at the "table" or the "stuff". On the wall is a sign. You could look at that too!\\\\You can also go to other areas with the commands "north", "south", "east" and "west".',north:[{cmd:"ifFlag",args:["NORTHUNLOCKED","loadRoom|Tutorial/north-access",["The door to the north is locked.",{cmd:"ifHasItem",args:["TUTORIAL_KEY",'Hint: You can use objects on other objects. Try "use key on north door" or "use tutorial key on north door".','Hint: Maybe if you "look" around you can find a key somewhere. If you had a key, you could "use key on north door"...']}]]}],east:[{cmd:"ifFlag",args:["G.TUT_EAST_UNLOCKED","loadRoom|Tutorial/teleporter","You can't open the door. There are clamps holding it shut. They look electronically controlled."]}],west:[{cmd:"ifFlag",args:["WESTUNLOCKED","loadRoom|Tutorial/learning",["The door to the west is locked.",{cmd:"ifHasItem",args:["TUTORIAL_KEY",'Hint: You can use objects on other objects. Try "use key on west door".','Hint: Maybe if you "look" around you can find a key somewhere. If you had a key, you could "use key on west door"...']}]]}],features:[{slug:"table",look:"It's a plain metal table with a white surface. There's a jumble of stuff on its surface.\nHint: Try \"look [stuff]\"!"},{slug:"stuff",look:["There's a pile of odds and ends. Tools, greeting cards, thumbtacks and all other manner of useless kitsch. {key}",'Hint: When you investigate things you may notice other objects you can interact with. Some things might not be interactable, like the tools, greeting cards, or thumbtacks (try "look tools" to see).','ifFlagWrite|!TOOKKEY|Hint: Now that you\'ve noticed the key, you can "look" at it or "take" it ("look tutorial key").',"setFlag|SAWKEY"]},{slug:"key",targetFlag:"SAWKEY",destroyedFlag:"TOOKKEY",notice:"There's also a brass key!",look:"It's a normal looking, brass key. It's probably for a door (Hint: it is!).",take:["You take the key from the pile of junk.",'Hint: Now that you took the key, it\'s not in the world anymore. Now it\'s in your inventory. You can check your inventory with the "inventory" command. You can interact with things in your inventory just like if they were in the world. The key\'s name is "tutorial key" in your inventory so you can look at it with "look tutorial key". You can also use the shorthand target "key".',"addItem|TUTORIAL_KEY","setFlag|TOOKKEY"]},{slug:"door",look:'Hint: Sometimes a word (like door) could describe multiple things. In this case, the "north door", "west door" and "east door" are all interactable. Normally, if the game doesn\'t understand what you\'re trying to interact with you\'ll get a message like "You don\'t see [target] anywhere". That lets you know that what you\'re trying to interact with is either unimportant or you need to use a more specific phrase to target it.'},{slug:"east door",look:['There is a sign above the door. It reads "Exit".',{cmd:"ifFlag",args:["G.TUT_EAST_UNLOCKED",["There are clamps around the edges of the door. They're currently open so you should be able to use the door."],["There are clamps around the edges of the door sealing it shut. They look electronically controlled."]]}]},{slug:"north door",look:"It's a white door. There's a keyhole in the knob.",use:{TUTORIAL_KEY:["You use the tutorial key to unlock the door.",{cmd:"ifFlag",args:["WESTUNLOCKED",["You have no further use of the tutorial key so you discard it.","removeItem|TUTORIAL_KEY"],null]},"setFlag|NORTHUNLOCKED"]}},{slug:"west door",look:["It's a white door. There's a keyhole in the knob."],use:{TUTORIAL_KEY:["You use the tutorial key to unlock the door.",{cmd:"ifFlag",args:["NORTHUNLOCKED",["You have no further use of the tutorial key so you discard it.","removeItem|TUTORIAL_KEY"],null]},"setFlag|WESTUNLOCKED"]}},{slug:"sign",look:'The sign reads: You can skip the tutorial by typing "skip tutorial"'},{slug:"tutorial",look:"It's all around you, man...",skip:["removeItem|TUTORIAL_KEY","removeItem|TUTORIAL_BANANA","removeItem|TUTORIAL_BELT","loadRoom|Forest/west-clearing"]}]},so={name:"The Learning Room",slug:"Tutorial/learning",description:"You're standing in a room with a single chair in the center facing the west wall. On that wall there's a large blackboard filled with information. A whiteboard is next to it on the wall too. There's a door leading to the east and another one labeled \"Mechanical Room\" is to the south.\n{robot}",east:"loadRoom|Tutorial/center",south:"loadRoom|Tutorial/mechanism-room",features:[{slug:"robot",notice:'There\'s a robot standing in the corner. It speaks in a mechanical voice: "HELLO HUMAN. WHEN YOU. MEET PEOPLE. YOU CAN. \'GREET\' THEM. TRY GREETING. ME." ("greet robot").',look:"It's a shiny metal robot about 5' tall. It's just standing there in the corner. It has a small sticker on its chest of a cartoon monkey eating a banana.",greet:["GOOD DAY. TO YOU, HUMAN.",'YOU CAN. ASK QUESTIONS. ("ask [person] about [topic]") YOU CAN. GIVE ITEMS. ("give [item] to [person]") SOMETIMES YOU. HAVE A. CHOICE. ASK ME. ABOUT CHOICE.',"I WILL. GIVE COMPUTER. PASSWORD FOR. BANANA. I WILL. ALSO ANSWER. QUESTIONS.",'IF YOU. GET STUCK. DURING THE. TUTORIAL. YOU CAN. ASK ME. ABOUT HELP. ("ask [robot] about [help]")'],ask:[{cmd:"dialog",args:{"":"ERROR. I DO. NOT KNOW. ANYTHING ABOUT. THAT TOPIC.",banana:'YES, BANANA. I CANNOT. EAT BUT. THE COLOR. IS PLEASING. I WILL. GIVE PASSWORD. FOR BANANA. ("give banana to robot")',sticker:"YES, STICKER. I FOUND. IT IN. THE TRASH. IS THE. COLOR NOT. PLEASING TO. THE OPTICAL. SENSORS?",blackboard:"YES, BLACKBOARD. MY CREATOR. WROTE THIS. INFORMATION FOR. YOU.",whiteboard:"YES, WHITEBOARD. MY CREATOR. WROTE THIS. INFORMATION FOR. YOU.",book:"YES, BOOK. MY CREATOR. WROTE THIS. INFORMATION FOR. YOU.",chair:"YES, CHAIR. I DO. NOT REQUIRE. SITTING.",tutorial:"YES, TUTORIAL. IT WAS. MADE FOR. YOU TO. LEARN",password:[{cmd:"ifFlag",args:["LEARNED_TUT_PASS",'YES, PASSWORD. HUMANS HAVE. A SHORT. MEMORY. THE PASSWORD. IS "PASSWORD123".',"YES, PASSWORD. I WILL. GIVE IT. FOR BANANA. IT GRANTS. ACCESS TO. COMPUTER SYSTEM."]}],computer:"YES, COMPUTER. IT REQUIRES. PASSWORD TO. USE IT. I REQUIRE. BANANA TO. GIVE PASSWORD.",life:"YES, LIFE. I DO. NOT HAVE. ONE. NEITHER DOES. MY CREATOR.",creator:"YES, CREATOR. MY CREATOR. WAS A. VERY CLEVER. MAN. HE MADE. ALL OF. THIS FOR. YOU TO. ENJOY.",mechanism:"YES, MECHANISM. THE MECHANISM. OPERATES THE. SECURITY DOORS. LEADING TO. THE COMPUTER. ROOM.",belt:"YES, BELT. THE MECHANISM. USES BELTS. TO TURN. GEARS. THERE WAS. A SPARE. BELT SOMEWHERE. AROUND HERE.",choice:["I WILL. NOW PRESENT. YOU WITH. A DIFFICULT. CHOICE:","DO YOU. THINK I. AM COOL?",{cmd:"choice",args:['ERROR. PLEASE RESPOND. WITH ONLY. "YES" OR. "NO". DO YOU. THINK I. AM COOL?',["yes","no"],{yes:"YOUR RESPONSE. IS AGREEABLE. PLEASE GIVE. BANANA.",no:"YOUR RESPONSE. IS UNPLEASANT. PLEASE GIVE. BANANA."}]}],help:[{cmd:"ifFlag",args:["G.TUT_FIXED_MECHANISM",[{cmd:"ifFlag",args:["G.TUT_ENTERED_PC_ROOM",[{cmd:"ifFlag",args:["LEARNED_TUT_PASS",[{cmd:"ifFlag",args:["G.TUT_EAST_UNLOCKED","YOU DID. IT. YOU SHOULD. HEAD EAST. INTO THE. TELEPORTER ROOM. AND THEN. PRESS THE. BUTTON IN. THERE."]},'YOU SHOULD. USE THE. COMPUTER AND. THEN ENTER. THE PASSWORD. ("use computer") THEN YOU. SHOULD PRESS. THE BUTTON. TO OPEN. THE EXIT. ("push button")'],'YOU SHOULD. TAKE THE. BANANA FROM. THE COMPUTER. ROOM AND. THEN BRING. IT TO. ME. ("give robot to banana")']}],"YOU MUST. RETURN TO. THE SECURITY. ACCESS ROOM. AND THEN. HEAD NORTH. THE VAULT. DOOR WILL. OPEN FOR. YOU AUTOMATICALLY."]}],'YOU NEED. TO FIX. THE MECHANISM. IN THE. MACHINE ROOM. YOU MUST. USE THE. BELT TO. FIX IT. THE BELT. IS IN. THE SECURITY. ACCESS ROOM. ("use [belt] on [mechanism]")']}]}}],give:{"":"ERROR. I DO. NOT REQUIRE. THAT OBJECT. I REQUIRE. ONLY BANANA.",TUTORIAL_BANANA:["The robot holds out a mechanical claw. You put the banana into its hand. The robot abruptly snaps its grip shut, utterly destroying the poor banana, sending yellow mulch down its arm and into clumps on the floor.",'THANK YOU. HUMAN. AS PROMISED. HERE IS. THE PASSWORD: "PASSWORD123". IF YOU. FORGET IT. YOU CAN. ASK ME. ABOUT IT. AND I. WILL REMIND. YOU.',"setFlag|LEARNED_TUT_PASS","removeItem|TUTORIAL_BANANA"]}},{slug:"chair",look:["It's one of those classroom type chairs with the little desk surface thingy on the front. There's a book on the desk open to a page about item combinations.",'Hint: Try "look book" to read it.',"setFlag|SAWBOOK"],sit:"You sit in the chair. You feel ready to learn! Then you feel a little silly so you stand back up."},{slug:"book",targetFlag:"SAWBOOK",look:'The book is open to a chapter about using items:\nCertain items can be used. Some have to be used on other items. You previously learned how to "use key on door" so you\'re almost an expert! Sometimes items can be used as-is. For example, there\'s a computer in another room. You can use it by typing "use computer". Some items can even have other items used on them AND be used on their own! You\'ll just have to experiment to find out!',take:"You should leave that for the next person who might need it."},{slug:"blackboard",look:"The blackboard reads:\n]Some commands have shortcuts so you don't have to type the whole word:\\look - l\\take - t\\inventory - i\\north - n\\south - s\\east - e\\west - w\\up - u\\down - d\\clear - cl"},{slug:"whiteboard",look:["The whiteboard reads:",']Sometimes the screen gets filled with text (like when you "look" at all kinds of stuff). If you\'re feeling overwhelmed, you can type "clear" which will clear the screen. Make sure to "look" again afterward or you\'re just staring at an empty screen!',"]Did you know that when your cursor is in the text box you can press the up arrow on your keyboard to recall commands that you typed recently? You can use both the up and down arrows to navigate through your 10 most-recently used commands.","There's a scrawled note at the bottom corner of the whiteboard:",']Yo dawg, you should "look" at the chair in here. I left my book on it.']}]},ro={name:"The Computer Room",slug:"Tutorial/computer-room",description:"You're in a large, brightly lit room. A single, uncomfortable looking metal chair sits before a huge computer console that takes up nearly the entire north wall. There's also a table against another wall{banana}. There's a door to the south.",south:"loadRoom|Tutorial/north-access",features:[{slug:"computer",look:'It\'s covered in blinking lights, gauges, switches, keyboards, and inputs. {button}\nHint: You can perform all sorts of actions in the game. If you need more guidance you can look at this "note" that I left here that will tell you exactly what you need to do to progress.',use:{"":['Please enter the system password or type "cancel"',{cmd:"choice",args:['Invalid password. Please try again or type "cancel"',["password123","cancel"],{password123:['"Access granted". The glass case covering a red button flips open.',"setFlag|CASEOPEN"],cancel:"You decide to call it quits for now."}]}]}},{slug:"note",look:'Theres a handwritten note taped to the computer console next to the button:\n]The "Exit Door Clamp Control" button will seal or unseal the main exit from the tutorial facility.\nTo use the button, you would type "push button".\n]The button is enclosed in a glass case that can only be opened by using the computer ("use computer").'},{slug:"banana",destroyedFlag:"TOOKBANANA",notice:" with a solitary banana sitting on it",look:"It's a yellow banana.",take:["addItem|TUTORIAL_BANANA","setFlag|TOOKBANANA","You take the banana from the table."]},{slug:"table",look:"Yup. That's a table{banana}, alright."},{slug:"chair",look:"It doesn't look very comfortable",sit:"You sit in the chair. It isn't very comfortable so you stand back up."},{slug:"button",notice:[{cmd:"ifFlag",args:["CASEOPEN",'There is a button labeled "Exit Door Clamp Control".','There is a button labeled "Exit Door Clamp Control" sealed inside glass case.']}],look:["It's a round, red button. There's a label above it: \"Exit Door Clamp Control\".",{cmd:"ifFlag",args:["CASEOPEN","The glass case around it is flipped open. You can push the button now.","There is a glass case around it sealing it in. You won't be able to push the button until it's open."]}],"push|press":[{cmd:"ifFlag",args:["CASEOPEN",["You push the button.","You hear mechanical whirring and then a loud clank from the south.",{cmd:"ifFlag",args:["G.TUT_EAST_UNLOCKED",["Hint: You just re-sealed the east door in the starting room.","unsetFlag|G.TUT_EAST_UNLOCKED"],["Hint: The east door in the starting room is now open! You're almost out!","setFlag|G.TUT_EAST_UNLOCKED"]]}],"You can't push the button. There's a glass case sealing it in!"]}]},{slug:"case",altSlugs:["glass","glass case"],look:[{cmd:"ifFlag",args:["CASEOPEN","The glass case is flipped up, allowing access to the button.",'The glass case is sealing in the button. You\'ll have to get it open first. Hint: Try "open case".']}],open:"There's no way to physically open it. You'll have to use the computer to open it. Hint: \"use computer\"!","break|smash|shatter|destroy":"You smack it a good one but it doesn't break. This is some space-aged stuff!"}]},io={name:"Teleporter Room",slug:"Tutorial/teleporter",description:"You're in a dimly lit round room with a 5' diameter glass chamber in the center. Inside the chamber is a button. There's a handwritten note taped to the side of the doorway into the chamber. A door leads to the west.",west:"loadRoom|Tutorial/center",features:[{slug:"chamber",look:"It's a 5' diameter glass chamber. There's a doorway that would permit entry and a large red button on a pedestal inside. There's also a handwritten note taped to the side of the entrance."},{slug:"note",look:["]That's it! You've completed the tutorial. I'm very proud of you. Now it's time to enter the world and have an adventure! Remember to apply the things you learned here and try lots of new stuff too!",']One last bit of advice, if you see any cairns out in the wide world, you should "touch" them. It\'ll really help you out if you lose your path somewhere along the way. (They save your game!)',']Just "push button" and your adventure will begin! Good luck and have fun!'],take:"You think about taking the note but then decide not to. What would the next person to come along think if they got here and the note that they've been told so much about wasn't here?"},{slug:"button",look:"It's an enticing red button.",push:["You step into the chamber, take a deep breath, and push the button.",{cmd:"waitForInput",args:"loadRoom|Forest/west-clearing"}]}]},lo={name:"Mechanical Room",slug:"Tutorial/mechanism-room",description:"You're standing in a machine room. There's a large mechanism on the south wall that's all cogs and gears, pulleys, belts and whatnot. There's a table against the west wall with a note on it. There's an exit to the north.",north:"loadRoom|Tutorial/learning",features:[{slug:"note",look:["You read over the note:",']Hey, remember how to use stuff? "use [item] on [target]". If you had a belt for the mechanism, you could "use belt on mechanism".',"]P.S. You can't take this note and I didn't bother putting a special message when you try to so you just get the default message for when you try to take something that you can't."]},{slug:"table",look:"It's just a table. There's a note on it."},{slug:"mechanism",altSlugs:["machine"],look:[{cmd:"ifFlag",args:["G.TUT_FIXED_MECHANISM","A brand new belt is installed in the mechanism.","It looks like there's a belt missing from the mechanism."]}],use:{TUTORIAL_BELT:["You insert the belt into the mechanism, connecting two of the pulleys.","setFlag|G.TUT_FIXED_MECHANISM","removeItem|TUTORIAL_BELT","Hint: The vault door in the security room should be working now."]}}]},ho={name:"Security Access",description:"You're standing in a security room. There is a vault door in the north wall. To the south is a white door. There's a table here{belt}.",slug:"Tutorial/north-access",north:[{cmd:"ifFlag",args:["NORTHOPEN",["setFlag|G.TUT_ENTERED_PC_ROOM","loadRoom|Tutorial/computer-room"],[{cmd:"ifFlag",args:["G.TUT_FIXED_MECHANISM",['When you approach the vault door, you can hear mechanics hidden in the walls start to operate. A moment later, the vault door swings open. Then you hear a clang in the mechanics somewhere and a mechanical voice says "ERROR. INTERNAL MECHANISM FAULT. VAULT DOOR CANNOT BE CLOSED." At least you won\'t get trapped inside!',"setFlag|NORTHOPEN","setFlag|G.TUT_ENTERED_PC_ROOM",{cmd:"waitForInput",args:"loadRoom|Tutorial/computer-room"}],'When you approach the vault door, you can hear mechanics hidden in the walls start to operate. A moment later, they stop and you hear a mechanical voice: "ERROR. ISSUE WITH MECHANICAL ROOM. VAULT DOOR INOPERABLE.".']}]]}],south:"loadRoom|Tutorial/center",features:[{slug:"table",look:"It's just a table{belt}."},{slug:"vault",altSlugs:["vault door"],look:"It's a huge metal vault door. Hint: Just try going north. You don't have to interact specifically with the vault door."},{slug:"belt",destroyedFlag:"TOOKBELT",notice:" with a belt on it",look:"It's a belt. Like, not the kind you wear, the kind that connect pulleys together. You know, the mechanical kind of belt.",take:["You take the belt from the table.","addItem|TUTORIAL_BELT","setFlag|TOOKBELT"]}]},uo={name:"Forest Bridge, North Bank",coords:"Forest B2",slug:"Forest/broken-bridge-north",description:"You're standing on the north bank of a raging river that bisects a dense forest. The roaring of the river shatters the eerie silence. The river is at least 50 feet across.\nAn overgrown trail leads through the trees to the north.",north:"loadRoom|Forest/forest-cave-entrance",south:[{cmd:"ifFlag",args:["G.FORESTBRIDGEREPAIRED","loadRoom|Forest/broken-bridge","The bridge is out and the river looks far too dangerous to cross. Still, if you really wanted to you could try to cross the river."]}],incant:{etavoner:[{cmd:"ifFlag",args:["G.FORESTBRIDGEREPAIRED",["You incant the Charm of Repairing but nothing happens."],["You incant the Charm of Repairing. The glimmering, spectral vision of a bridge grows more solid and a bridge made of light stretches across the raging river. It grows brighter and brighter until suddenly, with a flash, the light is gone and a new wooden bridge spans the breadth of the river.","setFlag|G.FORESTBRIDGEREPAIRED"]]}]},features:[{slug:"bridge",roomDesc:[{cmd:"ifFlag",args:["G.FORESTBRIDGEREPAIRED",["A wooden bridge spans the length of the river to the other bank. It looks like it was just built."],["An ancient, rotting bridge sticks out over the river maybe 10 feet. There is a faint glimmer in the air beyond where the bridge has broken away."]]}],look:[{cmd:"ifFlag",args:["G.FORESTBRIDGEREPAIRED",["A wooden bridge spans the length of the river to the other bank. It looks like it was just built."],["The bridge is ancient and rotting. It sticks out over the river maybe 10 feet. There is a faint glimmer in the air beyond where the bridge falls away into nothingness."]]}]},{slug:"glimmer",altSlugs:["glimmering"],destroyedFlag:"G.FORESTBRIDGEREPAIRED",look:["The glimmering sparkles in the air, bending and shifting in the light. You can see the beginnings of a spectral, nearly transparent vision of a bridge that spans the river."]},{slug:"water",look:"The water is a little murky."},{slug:"river",look:"The river is a little murky.",cross:"callCommon|swim_death|Forest/broken-bridge"}]},co={name:"Forest Bridge, South Bank",coords:"Forest B3",slug:"Forest/broken-bridge",description:"Through the dense trees you can see that you're on the south bank of a raging river that bisects the forest. Its roaring shatters the eerie silence. The river must be at least 50 feet across.\nAn overgrown trail leads through the trees to the south.",north:[{cmd:"ifFlag",args:["G.FORESTBRIDGEREPAIRED","loadRoom|Forest/broken-bridge-north","The bridge is out and the river looks far too dangerous to cross. Still, if you really wanted to you could try to cross the river."]}],south:"loadRoom|Forest/west-clearing",_common:{swim_death:[{cmd:"ifFlag",args:["FISH_DISTRACTED","gameOver|You wade out into the cold, rocky river until it's deep enough to swim. You start to swim and can feel yourself being swept with the current.\nYou smash against jagged rocks concealed beneath the white-water rapids. You tumble and go under.\nYour bearings lost in the murky water, you smash into the sharp rocks again and again. You feel something in your leg snap, something in your arm twists the wrong way.\nThe last thing you experience is bashing your head against rock.","gameOver|You wade out into the murky water and begin to swim. The river begins carrying you downstream.\nYou feel a stabbing pain in your leg. It's quickly followed by another in your side and another and another. The murky water begins to roil as the river reddens with your blood.\nGray, toothy fish whirl around you in a feeding frenzy, taking chunks of your flesh. You begin to feel light headed as the current pulls you down to the murky depths."]}]},features:[{slug:"bridge",roomDesc:[{cmd:"ifFlag",args:["G.FORESTBRIDGEREPAIRED",["A wooden bridge spans the length of the river to the other bank. It looks like it was just built."],["An old wooden bridge once spanned the river but has since mostly collapsed and washed away. Part of it still juts out from either side of the river, casting deep shadows beneath it."]]}],look:[{cmd:"ifFlag",args:["G.FORESTBRIDGEREPAIRED",["A wooden bridge spans the length of the river to the other bank. It looks like it was just built."],["The bridge is ancient and rotting. It sticks out over the river maybe 10 feet."]]},{cmd:"ifFlag",args:["TOOKROD","The shadows beneath the bridge conceal no further secrets, as far as you can tell.",["In the shadows beneath the bridge you see a rusty metal rod sticking out of the river about 5 feet from shore.","setFlag|SEEROD"]]}]},{slug:"rod",look:"It's a cylindrical, rusty metal rod sticking out of the water about 5 feet from shore.",targetFlag:"SEEROD",destroyedFlag:"TOOKROD",take:[{cmd:"ifFlag",args:["FISH_DISTRACTED",["addItem|RUINS_ROD","You wade out into the river and grab the metal rod. You give it a tug but it's caught in the rocks. You work it back and forth until it's free and then make your way back to the bank.","setFlag|TOOKROD"],"gameOver|You wade out into the river and grab the metal rod. You give it a tug but it's caught in the rocks.\nYou start working it back and forth to free it when you feel a stabbing pain in your leg. It's quickly followed by another and another and another. The murky water begins to roil as the river reddens with your blood.\nGray, toothy fish begin leaping from the water in a feeding frenzy, taking chunks of your flesh before returning to the murky river. You flee back to the bank of the river but it's too late.\nYour head begins spinning. As everything fades to black, you have one, final thought... If only you had done something to distract the fish..."]}]},{slug:"water",look:[{cmd:"ifFlag",args:["FISH_DISTRACTED","The water is a little murky.","The water is a little murky. You can see dark shapes moving around in it."]}]},{slug:"river",look:[{cmd:"ifFlag",args:["FISH_DISTRACTED","The river is a little murky.","The river is a little murky. You can see dark shapes moving around in it."]}],cross:"callCommon|swim_death"}],throwStone:["setFlag|FISH_DISTRACTED","removeItem|FISH_STONE","You throw the stone into the river. Dark shapes beneath the murky water quickly dart downstream to where the stone splashed."]},go={name:"Forest Cave Entrance",coords:"Forest B1",slug:"Forest/forest-cave-entrance",description:"You're standing in the middle of the wilderness, surrounded by dense trees and underbrush. A game trail leads through the trees to the south. Just ahead of you to the north is the side of a rocky cliff face. A crack in the stone forms a cave entrance. The cave entrance is shrouded by bushes and undergrowth.",north:"loadRoom|Caves/forest-exit",south:"loadRoom|Forest/broken-bridge-north",features:[{slug:"cave",altSlugs:["opening"],look:"The cave is merely a vertical crack in the stone, about 4 feet wide and 10 feet tall. It leads into darkness.",enter:"loadRoom|Caves/forest-exit"},{slug:"cliff",altSlugs:["cliff face"],look:"It's a sheer stony cliff face. The cliff is only about 30' tall. To the north, there's a cave opening that leads inside."}]},mo={name:"A Quiet Fork in the Forest",coords:"Forest C4",slug:"Forest/quiet-fork",description:"You are at a fork in a dirt path in a dense forest. A lone bird tweets from the treetops somewhere nearby. A rotting chunk of wood that must have once been a signpost decays in the long grass. There's a 3-foot-tall cairn of small stones in the exact center of the fork. The dirt path leads to the north, south, east, and west.",north:"loadRoom|Forest/river-bank",east:"loadRoom|Forest/lonely-path",west:"loadRoom|Forest/west-clearing",south:"loadRoom|Forest/quiet-path",features:[{slug:"cairn",look:"The cairn stands only about 3 feet tall. The stones are covered in runic markings.",touch:"callCommon|cairn_touch|global-common"},{slug:"bird",look:"You can hear it but can't see it."},{slug:"signpost",altSlugs:["sign","post","wood"],look:[{cmd:"ifFlag",args:["TOOKNAIL","It's been rotting away for a long, long time. It's falling apart.",["It's been rotting away for a long, long time. The single nail that holds it together is rusty but still doing its job.","setFlag|sawNail"]]}]},{slug:"nail",targetFlag:"sawNail",destroyedFlag:"TOOKNAIL",look:"It's a rusty old nail. The hole it's in is rotting away and it looks quite loose.",take:["addItem|NAIL","setFlag|TOOKNAIL","You get your fingernails under the head of the nail and give it a good couple tugs. Eventually, you work it out of the signpost and take it with you."]},{slug:"path",look:"It's a dirt path, slowly being overtaken by encroaching weeds. It hasn't seen traffic in a long time."}]},fo={name:"Clearing in a Forest",slug:"Forest/west-clearing",coords:"Forest B4",description:"{intro}You are in a small clearing in a dense forest. There's a small hole in the ground nearby with a little pile of dirt next to it. An overgrown trail leads through the trees to the north. Another dirt path leads to the east.",north:"loadRoom|Forest/broken-bridge",east:"loadRoom|Forest/quiet-fork",features:[{slug:"intro",notice:[{cmd:"ifFlag",args:["INTRODONE",null,["You wake up and groggily open your eyes. You're laying on your back looking at a green forest canopy overhead and can see patches of pale blue sky above. You have a pounding headache and you can't seem to remember what you were doing before you woke up here. You pick yourself up and manage to get on your feet.\n","setFlag|INTRODONE"]]}]},{slug:"hole",look:["It's just a small hole in the dirt. {stone}","setFlag|SEESTONE"]},{slug:"dirt",look:"It's a little pile of soft soil. It must be from the hole next to it."},{slug:"stone",look:"It's a small, smooth stone that could easily fit in your hand.",notice:"At the bottom of the hole is a small, smooth stone.",targetFlag:"SEESTONE",destroyedFlag:"STONETAKEN",take:["addItem|FISH_STONE","You take the stone.","setFlag|STONETAKEN"]},{slug:"path",look:"It's a dirt path, slowly being overtaken by encroaching weeds. It hasn't seen traffic in a long time."}]},yo={name:"Bank of a Raging River in a Forest",coords:"Forest C3",slug:"Forest/river-bank",description:"Through the trees you can see that you're at the southern bank of a raging river. A dirt path leads south and also climbs gradually upward to the east.",south:"loadRoom|Forest/quiet-fork",east:"loadRoom|Forest/hill",features:[{slug:"river",look:"It's a white-rapids river. It's really cranking along. There are loads of jagged looking rocks poking up out of the tubulent water."}]},po={name:"A Hilltop above a Dense Forest",coords:"Forest D3",slug:"Forest/hill",description:"You're standing at the top of a rocky hill. The ground is covered in rocks and grass. The hill is tall enough to allow you to see over the treetops of the forest below. The only way down is to the west.",west:"loadRoom|Forest/river-bank",features:[{slug:"river",roomDesc:"To the north you can see a snaking river that cuts the forest in half from east to west.",look:"The river looks like the current must be very fast--and dangerous! Lots of jagged rocks stick up out of its white-water rapids."},{slug:"ruins",altSlugs:["ruin"],roomDesc:"To the east you can see stone ruins of some kind poking through the forest.",look:"The ruins were once a building of some kind, but from here you can't even begin to guess what their purpose might have been. Beyond it to the east are even more ruins."},{slug:"mountain",altSlugs:["mountains"],roomDesc:"Far to the north, beyond the forest is a massive, black mountain that dominates the horizon.",look:"The mountain is massive and steep. It almost seems like its surface doesn't reflect any light at all. The stone that comprises it must be of the darkest black. Looking at the black mountain side gives you an uneasy feeling."},{slug:"marsh",altSlugs:["swamp"],roomDesc:"To the south you can see a marsh.",look:"The marsh is filled with all manners of drooping, sad-looking trees. It's too far away to make out any other details."},{slug:"vending machine",altSlugs:["vending","machine","coin slot"],roomDesc:"There's a big metal vending machine standing at the top of the hill. It sounds like it's got power somehow.",look:["It's a big, metal vending machine. There's no glass display so you can't see what's inside. There are no words or logos on it either. It has a coin slot and a bin at the bottom where its items must drop into.",{cmd:"ifFlag",args:["SAWCOMPASS&!TOOKCOMPASS","There's a brass compass sitting in the bin.",null]}],use:{COIN:["You insert the coin into the slot. You can hear it rattle and clunk its way into the machine's innards. You hear a mechanical whir from inside and then a clunk. A compass falls into the bin at the bottom.","setFlag|SAWCOMPASS","removeItem|COIN"]}},{slug:"compass",targetFlag:"SAWCOMPASS",destroyedFlag:"TOOKCOMPASS",look:"It's a brass compass but its face is strange. Instead of North, South, East, and West, the outside is ringed with rotating letters and numbers and the needle always points forward.",take:["You take the compass with you.","setFlag|TOOKCOMPASS","addItem|COMPASS"]}]},wo={name:"A Lonely Path Through the Forest",coords:"Forest D4",slug:"Forest/lonely-path",description:"You're on a lonely dirt path through the dense forest. The path is slowly being overgrown due to disuse. You can hear birds and other forest critters somewhere in the trees. A cloud of insects buzzes around, searching for prey. The path heads east and west.",east:"loadRoom|Forest/bend-in-the-path",west:"loadRoom|Forest/quiet-fork",features:[{slug:"insects",look:"Annoying, but not dangerous."},{slug:"critters",look:"You can see a couple birds sitting in branches but the rest are too stealthy."},{slug:"birds",altSlugs:["bird"],look:"They're sparrows... or are they starlings? You never were a bird lover so you're not sure."},{slug:"path",look:"It's a dirt path, slowly being overtaken by encroaching weeds. It hasn't seen traffic in a long time."}]},bo={name:"A Bend in the Forest Path",coords:"Forest E4",slug:"Forest/bend-in-the-path",description:"The path through the dense forest slowly bends here, leading west and south. Long grass grows on either side of the path, before the trees take over. {sack}",south:"loadRoom|Forest/abrupt-turn",west:"loadRoom|Forest/lonely-path",features:[{slug:"path",look:"It's a dirt path, slowly being overtaken by encroaching weeds. It hasn't seen traffic in a long time."},{slug:"sack",notice:"There's an rotting old burlap sack concealed by the long grass.",take:["The sack is full of holes and doesn't look like it will be useful. You decide to leave it. {coin}","setFlag|SAWCOIN"],look:["The sack is full of holes and doesn't look like it will be useful. You decide to leave it. {coin}","setFlag|SAWCOIN"]},{slug:"coin",targetFlag:"SAWCOIN",destroyedFlag:"TOOKCOIN",notice:"Through the holes you can see an old silver coin.",take:["You take the silver coin from the sack.","addItem|COIN","setFlag|TOOKCOIN"],look:"It's a silver coin. It looks really old."}]},ko={name:"An Abrupt Turn in the Forest Path",coords:"Forest E5",slug:"Forest/abrupt-turn",description:"The forest path turns abruptly here, heading north and east. A large, 4' tall stone stands higher than the long grass at the edges of the path. It is engraved with a runic symbol.",north:"loadRoom|Forest/bend-in-the-path",east:"loadRoom|Forest/ruins-entrance",features:[{slug:"path",look:"It's a dirt path, slowly being overtaken by encroaching weeds. It hasn't seen traffic in a long time."},{slug:"stone",look:"The stone is standing alongside the path. The way it's oriented is almost like a signpost. The runic symbol seems to indicate what lies to the east."},{slug:"runic symbol",altSlugs:["rune","symbol"],look:"ᛞ"}]},vo={name:"Entrance to Ancient Ruins",coords:"Forest F5",slug:"Forest/ruins-entrance",description:"You are standing in the center of an overgrown stone plaza. The forest to the west hasn't yet overtaken the area. To the east is a ruined building which seems to be the harbinger of a small, ruined settlement. A footpath leads to the west. To the east is an entrance into the ruined building.",east:"loadRoom|Ruins/ruined-hall",west:"loadRoom|Forest/abrupt-turn",features:[{slug:"building",altSlugs:["ruins","ruined building","settlement","building","east"],look:"The ruins are made of a grayish stone. Some of the buildings are collapsed. Those that are still standing have sections that have fallen away. Piles of overgrown rubble are everywhere. There's an entranceway to the east that would lead inside."}]},To={name:"A Quiet Path Through the Forest",coords:"Forest C5",slug:"Forest/quiet-path",description:"You're on quiet path surrounded by dense forest. The path is mostly overgrown. The path leads north and south.",north:"loadRoom|Forest/quiet-fork",south:"loadRoom|Forest/well-worn-trail",features:[{slug:"path",look:"It's a dirt path, mostly overtaken by encroaching weeds. It hasn't seen traffic in a long time."}]},Io={name:"A Well-Worn Trail Through the Forest",coords:"Forest C6",slug:"Forest/well-worn-trail",description:"You're on a well-worn trail through the dense forest. A mostly overgrown, disused path heads into the forest to the north. The well-worn trail heads east and west.\nYou can see smoke in the sky through the trees to the west.",north:"loadRoom|Forest/quiet-path",east:"loadRoom|Forest/old-well",west:"loadRoom|Forest/cabin-entrance",features:[{slug:"path",look:"It's a dirt path leading north, mostly overtaken by encroaching weeds. It hasn't seen traffic in a long time."},{slug:"trail",look:"It's a well-worn dirt trail. It must see frequent traffic since there's hardly any weeds or grass growing."},{slug:"smoke",look:"It's not thick and black like the forest is on fire. It looks like campfire smoke or something similar."}]},Eo={name:"Outside a Log Cabin in the Forest",coords:"Forest B6",slug:"Forest/cabin-entrance",description:"You're standing outside a fenced-in yard surrounding a crudely-built log cabin in a clearing in the dense forest. Whispy smoke rises from the cabin's chimney. There's a gate in the wooden fence which is currently open. Inside the fence is a small garden with {bucket} sitting next to it.\n{man}\nA well-worn trail leads to the east. To the west is the cabin.",east:"loadRoom|Forest/well-worn-trail",west:[{cmd:"ifFlag",args:["ARDENINSIDE","loadRoom|Forest/cabin-interior",[{cmd:"ifFlag",args:["METARDEN","Arden stops what he's doing and turns to you with a scowl and calls out. \"What do you think you're doing? You can't just enter my cabin without permission!\"","The man stops what he's doing and turns to you with a scowl and calls out. \"What do you think you're doing? You can't just enter my cabin without permission!\""]}]]}],features:[{slug:"trail",look:"It's a well-worn dirt trail. It must see frequent traffic since there's hardly any weeds or grass growing."},{slug:"cabin",look:"It's a crudely built log cabin. There's a door and some shuttered windows. It's got a chimney with whispy smoke rising from it."},{slug:"gate",look:"It's open."},{slug:"man",altSlugs:["arden"],destroyedFlag:"ARDENINSIDE",notice:["ifFlagWrite|METARDEN|Arden's standing at the fence. It looks like he's trying to repair it.","ifFlagWrite|!METARDEN|There's an older man standing at the fence. It looks like he's trying to repair it."],look:"He's an older man with graying hair and a crudely trimmed gray beard. He's wearing a ratty old brown jacket. With one hand he's holding a new board up to the fence and in the other he's holding a hammer. The new board is only attached to the fence on one end. He's grumbling to himself. \"How does this sort of thing always happen? One single nail short of finishing the job.\"",ask:[{cmd:"dialog",args:{"":[{cmd:"ifFlag",args:["METARDEN","\"Sorry, newcomer. I don't have time for questions. I have to get this fence mended before nightfall. If I don't...\" He trails off, an apprehensive look on his face. He returns to what he was doing.","\"What's this? Don't they teach manners wherever it is you're from? It ain't proper to go on interrogating people without even greeting them first!\" He shakes his head while continuing his work."]}]}}],greet:["The man turns toward you. \"Oh, hello there! The name's Arden. We haven't seen any new arrivals in a long, long time. Sorry, but I can't talk now, I have to finish mending this fence. You wouldn't happen to have any nails on you, would you?\"","setFlag|METARDEN",{cmd:"choice",args:['"What\'s that? I asked if you have any nails on you. Do you?"',["yes","no"],{yes:[{cmd:"ifHasItem",args:["NAIL",'"Oh, what an amazing coincidence that you happen to have exactly one nail on you. If you don\'t mind, please give it to me."',"\"Now listen here, young'un! I've known many a man to carry a nail or few and I've even done it myself. I can tell quite plainly that you don't have any on you. I don't appreciate this kind of tomfoolery!\""]}],no:"\"Well that's a shame. If you find any, I'd really appreciate one.\""}]}],give:{NAIL:["removeItem|NAIL","setFlag|ARDENINSIDE",{cmd:"ifFlag",args:["METARDEN",'"Thank you so much. I really appreciate this!"\nArden takes the nail, turns back to the fence and in just a few quick strikes finishes his repairs. He wipes the sweat from his brow and admires his work for a few moments. He turns back to you.',"\"Oh wow! How'd you know exactly what I needed? Huh. A complete stranger... doesn't even know my name and just gives me exactly what I needed most. What a coincidence! Really, thank you so much. I really appreciate this! The name's Arden, by the way.\"\nArden takes the nail, turns back to the fence and in just a few quick strikes finishes his repairs. He wipes the sweat from his brow and admires his work for a few moments. He turns back to you."]},'"Why don\'t you come inside and have a cup of tea?" He gathers up his tools and heads into the cabin.']}},{slug:"bucket",altSlugs:["buckets","pail","pails"],notice:[{cmd:"ifFlag",args:["G.TOOK_BUCKET","a wet wooden bucket","two wet wooden buckets"]}],look:[{cmd:"ifFlag",args:["G.TOOK_BUCKET","It's just an ordinary wooden bucket with a handle. It's all wet. It must be used to water the garden.","They're just ordinary wooden buckets with handles. They're all wet. They must be used to water the garden."]}]},{slug:"garden",look:"The garden is fairly large and has lots of different things growing in it. You can see carrots, cabbage, peas, tomatoes, and some others you don't recognize."},{slug:"fence",look:"It's a wooden fence. It completely surrounds the cabin, yard, and garden."}]},So={name:"Cabin Interior",coords:"Forest A6",slug:"Forest/cabin-interior",description:"You're in a cozy, one-room cabin. There are two beds, a small stone fireplace, a kitchen and a dining table with two chairs. A small array of pots and pans hangs on nails on the wall above the kitchen. The cabin's only door leads east, back out to the forest.",east:[{cmd:"ifFlag",args:["SITTING","You're currently sitting at the table across from Arden. You'll have to stand before you can leave.","loadRoom|Forest/cabin-entrance"]}],stand:[{cmd:"ifFlag",args:["SITTING",["You stand up.","unsetFlag|SITTING"],"You're already standing!"]}],_common:{arden_applies_cure:["removeItem|BLIGHT_CURE","setFlag|EDRACURED","You hand the cure to Arden and he takes it with great reverence. He kneels beside Edra's bed. With one hand he gently opens Edra's mouth and with the other he slowly pours the shimmering liquid down his throat. For a moment, nothing happens and the silence is overbearing. Then, suddenly, Edra sputters out a cough and gasps for air.",'Edra jolts awake and you make eye contact with him. He has the most brilliant blue eyes you\'ve ever encountered, but they\'re wide with fear! He cries out "ROHCNA!" Both you and Arden are frozen in place! Your muscles refuse to work! The memory returns to you suddenly, as though you\'ve always known it. You can now "incant rohcna", the Charm of Stillness!',"callCommon|after_learn_incant|global-common","setFlag|G.ROHCNA",{cmd:"waitForInput",args:['For a few moments, Edra gathers his wits and looks around in a panic. Then he sees you and his brother paralyzed. "Oh! Arden!" He mumbles arcane words and Arden begins moving again. "Who\'s that?" he asks Arden, barely able to croak out the words.','"Damn your sorcery, Edra! They\'re a friend!" Arden groans.',"Edra focuses on you and mumbles more arcane phrases. You can feel your muscles loosen. You can move again!",'"Edra, you\'re finally awake!" Arden is ecstatic. He grabs Edra in a giant bear hug. Edra groans. "I can\'t believe it. You\'re finally back!" Arden is in tears. "Edra?" He releases his grip on his younger brother who is unconscious once again. Arden lays him back into his bed and covers him with his blanket. "A little too much excitement all at once, eh brother?" he asks while wiping away a tear. "When you get your strength back, I\'ll be here waiting."',"Arden returns to his seat at the table and regards you. \"I can never thank you enough for curing Edra. You have my eternal gratitude. It's strange, though, I can't believe I could forget that Edra was a sorcerer. It's coming back to me now, slowly. I learned only recently. It was quite a shock, let me tell you! I think... I think there was a woman involved. Someone after my brother. Ahh, but I can't recall now.\"","Arden smiles at you. \"But seriously, thank you. I only wish there was something I could do to repay you. You should come back sometime to see Edra when he's awake. I'm sure he'd like to meet his savior.\""]}]},features:[{slug:"arden",roomDesc:["ifFlagWrite|!SITTING|Arden sits in a chair at the table with two tin cups and a kettle. His jacket is hanging on the chair behind him. He's wearing an orange plaid shirt.\"Please, take a seat. Have some tea and let's talk.\"","ifFlagWrite|SITTING|Arden sits in a chair across the table from you at the table with two tin cups and a kettle."],look:"Arden's an older man with graying hair and a crudely trimmed gray beard. He's sitting in a chair at the table holding a cup of tea, watching you, waiting patiently to answer any of your questions.",greet:'"Hi again. Have a seat and we can chat."',ask:[{cmd:"ifFlag",args:["SITTING",[{cmd:"dialog",args:{"":'"I don\'t know anything about that."',"what's going on":"\"To put it plainly, I don't know. But here's what I do know.\" He takes a sip of his tea. \"We,\" he motions toward Edra, \"like you, don't remember anything before we woke up here on the island. Yes, we're on an island if you didn't know already. Except we didn't wake up here in the forest. And we didn't wake up together. No, I woke up on the beach south of here past the swamp. Edra, the poor bastard. I found him in the swamp covered in giant mosquito bites.\"\n\"We've met a few others like yourself but not in a long, long time. We're not sure how people are getting to the island at all, let alone why hardly anyone new comes along anymore.\"",others:["\"It's been a long time since we've met anyone new. You're the first person in... well... wow. I'm not really sure. A really long time. None of the others knew what was going on or had any memories from before waking up on the island. They all went off on their own trying to find a way off the island but I was never able to. I've got to stay here and look after Edra.\"",{cmd:"ifFlag",args:["EDRACURED","","\"How about you? If you'd like to, you could stay here and help out. There's no need to run off and meet whatever fate befell the others. So what do you say, do you want to settle down and live here instead?\"",{cmd:"choice",args:['Arden takes another sip of his tea and says "I\'m a simple man. Speak plainly. Do you want to give up exploring the island to settle down and live here instead? A simple yes or no will do."',["yes","no"],{yes:"gameOver|You decide that exploring the island would be too dangerous so you agree to Arden's offer. Over the coming months you and Arden build a small addition to the cabin which becomes your new room. You help tend the garden and fetch water from the well to the east but never venture any further. After a while, Arden passes away from old age. You dig him a grave in the backyard and visit it every day. You carry on, taking care of Edra for years. He never does wake up. Eventually, he passes away too. You live alone in the cabin for many years but no new arrivals ever show up.\nYou live a long, quiet life alone in your cabin in the woods. One night after you've grown to be quite elderly, you have a dream about exploring the island. It's equal parts adventurous, exciting, and scary. The dream is tinged with a feeling of what might have been.\nYou pass away peacefully in your sleep.",no:"\"I thought not. Nobody's ever taken the offer. I can only imagine what's happened to them.\""}]}]}],edra:['"He\'s my younger brother. I found the poor guy in the swamp south of here covered in giant mosquito bites. By the time we found each other he was nearly sucked dry. I managed to carry him out of the swamp and find this clearing in the forest. It was... real tough at first. Edra was asleep the whole time. Eventually I finished the cabin and we moved inside."',{cmd:"ifFlag",args:["EDRACURED",["\"And now, thanks to you, he's finally cured. I can't wait until he's up and about again! I can't wait to show him this safe little home I've built for us!\""],["\"It's been... a long, long time since he's been awake. I've been taking care of him for years.\"",'"If only there was a cure for whatever he\'s afflicted with. But," he sighs, "I can\'t go far. Plus, at least we\'re safe here."']]},'"Hah, not that he was really ever concerned about safety. He was always the adventurous, risk-taking type." He smiles and continues. "I remember he had this old hotrod and... wait. Is that right? Or was it...? Hm." He\'s quiet for a few moments. "Sometimes, I feel like I can almost remember my life before I woke up on the island but then it just slips away. I always thought the memories would return with time but I don\'t think that\'s the case anymore."'],island:"\"Yeah, we're definitely on an island. I woke up on a sandy beach beyond the swamp to the south. Couldn't see anything but ocean on the horizon. I heard from others a long time ago that they'd climbed part way up a mountain to the north and were able to see the whole island.\"\n\"Le'see, what'd they say? There's a black mountain to the north, ruins to the east, the swamp, of course, to the south with the beach beyond that. Apparently there's some way to reach the mountain through the ruins. Oh, and there was a lighthouse on cliff off the beach. I couldn't get to it, though. The bridge was out. Plus I had to find Edra.\"",lighthouse:"\"Yup. Damndest thing too. The light was still working. I couldn't reach it, though. The bridge was out. It's south of here, past the swamp and on a spire of stone off the beach.\"",swamp:"\"That's where I found Edra after I woke up on the island. There are loads of blood-sucking giant mosquitoes all over the place down there. They're easy enough to keep off of you but poor Edra was out cold and nearly got sucked dry. I remember seeing some kind of creepy hut in the swamp but it gave us a bad feeling so we avoided it.\"",hut:'"The hut in the swamp, yeah. It was real creepy and gave me a bad feeling. I avoided it. What\'s that? Why? Because there were all these weird totems sticking up out of the muck with wicker and vine dreamcatcher-things hanging off them and weird lights coming from inside. Oh, and animal skulls, loads of animal skulls."',"mosquito|giant mosquito":"\"Those suckers are all over the swamp south of here. They're easy enough to keep off of you... as long as you're paying attention.\"",cure:[{cmd:"ifFlag",args:["EDRACURED",'"I\'ll never be able to repay your kindness. Thank you again for finding the cure."',"\"Maybe one exists and maybe not. I'd guess that if there was one, you'd find what's necessary for it in the swamp. I can't go off looking for it, though. Not with Edra being in the state he is.\""]}],cabin:'"You like it? We built it years ago. Well, to be honest, it was just me. Edra was out cold after his ordeal in the swamp."',forest:"\"It's big and it's dense. I know there's a trail that leads north to a fork but I didn't explore much, not with Edra being sick and all. The trail from the cabin leads east to an old well that we found. I make the trek every day to draw water. Be careful over near the well, though.\"",well:"\"It's to the east. Have you been over there? Be real careful. I saw a giant hornet one time nearby. I think they've got a nest to the north.\"","hornet|giant hornet":'"If you see one, run. Those things have stingers the size of swords!"',escape:"\"Who knows if there's a way off the island. I've met others a long time ago that looked for one but I've never seen any of them again. Whether that means they found an escape or if they met an untimely end somewhere on the island, who knows?\"","mountain|black mountain":"\"There's a huge, black mountain far to the north. The others that I met a long time ago said that there was something up there. They didn't elaborate. I've actually seen the mountain myself. Years ago after we had finally got the cabin built, I decided to climb the tallest tree I could find to try to get the lay of the land. Couldn't see much except for the black mountain to the north. Gave me a real uneasy feeling looking at it though.\"","something|something up there":'"Not sure. The others didn\'t say anything specific."',"uneasy feeling|feeling|real uneasy feeling":'"Yeah. It was a feeling of dread that was slowly building up while looking at the mountain. Almost like the mountain was looking back at me. I\'ve never looked at it again."',ruins:"\"I heard they're somewhere northeast of here. I don't know much about them. I've never explored them.\"",beach:"\"It's to the south past the swamp. It was really nice, actually. It would be a nice place to vacation at if, you know, I wasn't worried for my life the last time I was there. It's where I first woke up on the island.\"",hotrod:'"I think Edra had one. Maybe. Before..." he motions all around, "all of this."',nail:'"Thanks again for that. I don\'t even remember how long I was standing there needing a single nail."',"arden|past|his past":'"I\'m thirty five years old and--" He strokes his gray beard for a moment. "Well, I guess I\'m not thirty five anymore. Let me start over." He clears his throat.\n"I\'m older than thirty five years old and have been living here with my younger brother Edra for a long time. I woke up on the beach south of the swamp alone and had to find Edra. Turns out he was in the swamp. Before all this, I was an accountant--er... I mean a math prof... Actually, I don\'t remember. I think I did something with numbers."',"favorite color":'"Do you ask all the strangers you meet in the woods this question?" He smiles. "Orange. I\'ve always liked orange."',"edra's favorite color":'"Now why would you possibly want to know that? I think it was... It was--you know? I\'ve actually forgotten."',ophelia:'"Hmmm... The name rings a bell..." He looks downward and starts tugging on his beard, lost in thought.\n"Oh! Ophelia! Of course! How could I have forgotten? We met her in the forest when we first arrived. She said she was exploring the island trying to figure out what was going on. She stayed with us for a little while while we built the cabin."\nEven through his beard you can see he begins to blush a little. "She was really pretty. Eventually she said she needed to explore the rest of the island and look for a way to escape. She came back a long time afterward with some others in tow. They said they were heading to the black mountain to find a way out." He frowns. "I think we saw some of them again, once. They told us that they had encountered something up there on the mountain."',"merek|stanley|rhode|meredith":'"Sorry, I don\'t know anyone by that name."'}}],'Arden looks up at you from his seat. "Please have a seat first. I don\'t like having to crane my neck."']}],give:{BLIGHT_CURE:['Arden watches wide-eyed as you produce the vial of shimmering liquid. "Is that...?" He trails off. "I can\'t believe it. Thank you. Let\'s fix him up!"',"callCommon|arden_applies_cure"]}},{slug:"Edra",altSlugs:["man"],roomDesc:"There's another man in one of the beds, asleep under a wool blanket.",look:["He's a younger man, maybe in his mid-30s, with a crudely trimmed brown beard and hair. He's fast asleep in bed.",{cmd:"ifFlag",args:["EDRACURED",'You can still remember his brilliant blue eyes. Arden sees you looking at him. "Edra was awake and talking a little while ago. You just missed him."',"Arden sees you looking at him. \"That's my younger brother Edra. He's been asleep a long time.\""]}],greet:[{cmd:"ifFlag",args:["EDRACURED",'Edra mumbles something in his sleep and rolls over. "He just needs his beauty sleep," Arden says with a chuckle.',"Edra doesn't respond. \"He's not much for talking nowadays,\" Arden says then chuckles to himself."]}],give:{"":[{cmd:"ifFlag",args:["EDRACURED","Edra's asleep. And he probably doesn't want that anyway.","Edra is in no condition to accept that."]}],BLIGHT_CURE:['Arden watches wide-eyed as you produce the vial of shimmering liquid. "Is that...?" He trails off. You uncork the vial and approach Edra. "Wait," Arden interrupts you, "Let me. He\'s my little brother."',"callCommon|arden_applies_cure"]}},{slug:"chair",look:['It\'s a crudely made, wooden chair. Arden sees you looking at it. "Not very fancy, I know. But you make do with what you can make with your own two hands out here."','ifFlagWrite|!SITTING|"Take a seat and let\'s talk."'],sit:[{cmd:"ifFlag",args:["SITTING","You're already sitting across from Arden at the table.",["You take a seat across from Arden.","setFlag|SITTING",'"Please, have some tea. That there," Arden motions across the room at the man asleep in bed, "is my brother Edra. We\'re pleased to meet you."',"\"Now I'm sure you've got lots of things you want to ask me about or maybe you just want to ask about %what's going on%. So shoot. I'll try to answer any questions you've got.\" He takes a sip from his tea."]]}]},{slug:"tea",look:"\"Have some. I can't promise that it's particularly good but at least it's warm.\" He smiles and takes a sip of his tea.",drink:[{cmd:"ifVar",args:["SIPSTAKEN","<",5,["You take a sip of your tea.","incVar|SIPSTAKEN","incVar|TOTALSIPSTAKEN"],['You\'ve run out of tea. Arden asks "Would you like some more?"',{cmd:"choice",args:['"Did you want some more tea or not?"',["yes","no"],{yes:[{cmd:"ifVar",args:["TOTALSIPSTAKEN","<",15,["Arden takes the kettle and refills your cup.","decVar|SIPSTAKEN|5"],["Arden takes the kettle and goes to refill your cup only to find it's empty. \"Sorry, seems we've run out.\""]]}],no:["Arden just smiles at you."]}]}]]}]},{slug:"pots",altSlugs:["pans","pots and pans","pot","pan"],look:"They're metal pots and pans. There aren't many of them, just the essentials. Arden says \"You like my fine dining establishment? I found those...\" He trails off for a moment then laughs. \"Well, it's been so long I actually don't remember.\""},{slug:"fireplace",look:"It's a basic fireplace made out of stones. There's a small fire burning in it and a stack of firewood beside it. Arden says \"You have no idea how hard it is to try to scavenge a bunch of rocks from a forest and build a fireplace by yourself.\""},{slug:"kitchen",look:"It's small and not very impressive. There are some pots and pans hanging on nails on the wall. There's also a wooden trough that Arden must use as a sink."},{slug:"table",look:"It's a hand-made wooden table. It's not level; One of the legs is slightly too short. There's a chunk of bark shimming it up. There are two cups and a kettle on it. Arden sits in one of the chairs. \"You like my fine craftsmanship?\" He smiles."},{slug:"bed",altSlugs:["beds"],look:"There are two beds. Each has a gray wool blanket. One's currently empty and the other has a man sleeping in it. Arden tells you \"That's Edra, my younger brother\""}]},Oo={name:"An Old Well in the Forest",coords:"Forest D6",slug:"Forest/old-well",description:"You're standing near an old well in the middle of a small clearing in the dense forest. It has a little roof and a crank. {pail}\nA well-worn trail leads to the west and a separate, overgrown path leads to the south. To the north, branches have been shorn clean off the trees, forming a path through the forest. To the east there is a trail that leads to a cave in a small hill.\nYou hear a cacophonous buzzing coming from the north.",north:"loadRoom|Forest/hornet-nest",south:"loadRoom|Forest/swamp-entrance",east:"loadRoom|Forest/well-cave",west:"loadRoom|Forest/well-worn-trail",_common:{look_pail_on_edge:[{cmd:"ifFlag",args:["PAILHASWATER",["It's full of crystal-clear water.","callCommon|look_pail_check_etavoner"],["callCommon|look_pail_check_etavoner"]]}],look_pail_check_etavoner:[{cmd:"ifFlag",args:["ETAVONER_IN_PAIL",[{cmd:"ifFlag",args:["ETAVONER_CHARGED","The etavoner rune sits in the pail, glimmering with magic.","The etavoner rune sits in the pail."]}],null]}]},features:[{slug:"well",look:"It's a brick well. It stands six-ish feet high."},{slug:"pail",notice:[{cmd:"ifFlag",args:["PAILDOWN","The rope hangs down into the well.","The rope is retracted and it's attached to a pail sitting on the edge of the well."]}],look:[{cmd:"ifFlag",args:["PAILDOWN","You can't see it. It's all the way down at the bottom of the well.",["The pail's sitting on the edge of the well and is attached to the well via a rope.","callCommon|look_pail_on_edge"]]}],take:"You shouldn't take the pail. How would anyone else draw water?",drop:[{cmd:"ifFlag",args:["PAILDOWN","You can't reach it. It's all the way down at the bottom of the well.",["You grab the pail and drop it down into the well. It falls all the way to the bottom and you can hear a splash from down in the darkness.","setFlag|PAILDOWN","setFlag|PAILHASWATER",{cmd:"ifFlag",args:["ETAVONER_IN_PAIL","setFlag|ETAVONER_CHARGED",null]}]]}],use:{ETAVONER_RUNE:["You put the etavoner rune into the pail.","removeItem|ETAVONER_RUNE","setFlag|ETAVONER_IN_PAIL"]}},{slug:"water",targetFlag:"PAILHASWATER&!PAILDOWN",look:"The water in the pail is crystal clear.",take:"If you had a container that you could hold the water in, you could use it on the water.",use:{BOTTLE:["You uncork the glass bottle and submerge it in the pail of water until it's full. Then you stopper the bottle and take it with you.","removeItem|BOTTLE","addItem|BOTTLE_OF_WATER"]}},{slug:"rope",look:"It's very ropey."},{slug:"crank",look:"It's built into the side of the well's structure. When the pail's down in the well, the crank draws it back up to the surface.",use:{"":[{cmd:"ifFlag",args:["PAILDOWN",["You turn the crank on the side of the well over and over. Eventually the pail returns to the surface. You grab it and set it on the edge of the well.","unsetFlag|PAILDOWN"],"There's no need. The pail's already on the edge of the well. You'd have to drop the pail first."]}]}},{slug:"path",look:"It's a dirt path, mostly overtaken by encroaching weeds. It hasn't seen traffic in a long time."},{slug:"trail",look:"It's a well-worn dirt trail. It must see frequent traffic since there's hardly any weeds or grass growing."},{slug:"rune",altSlugs:["etavoner rune"],targetFlag:"ETAVONER_IN_PAIL",look:[{cmd:"ifFlag",args:["PAILDOWN","You can't see it. It's in the pail at the bottom of the well.",[{cmd:"ifFlag",args:["ETAVONER_CHARGED","The rune glimmers with magic.","The rune is sitting in the pail."]}]]}],take:[{cmd:"ifFlag",args:["PAILDOWN","It's out of reach. It's in the pail at the bottom of the well.",[{cmd:"ifFlag",args:["ETAVONER_CHARGED",["You take the rune from the pail. The glimmering surrounding the rune grows in intensity and you watch as the rune dissolves into nothingness before your very eyes.",'Suddenly, something pops into your head. A vague memory, half formed. You can now "incant etavoner", the Charm of Repairing!',"callCommon|after_learn_incant|global-common","setFlag|G.ETAVONER","unsetFlag|ETAVONER_IN_PAIL"],["You take the etavoner rune from the pail.","addItem|ETAVONER_RUNE","unsetFlag|ETAVONER_IN_PAIL"]]}]]}]},{slug:"cairn",roomDesc:"There is a small cairn, only about a foot high, standing next to the old well.",look:"The pile of stones stands only about a foot tall. It's covered in runic markings.",touch:"callCommon|cairn_touch|global-common"}]},Ro={name:"Cave of Bones",coords:"Forest E6",slug:"Forest/well-cave",description:"You're in a fairly large cavern chamber. It's made of rough, gray stone. The cavern ceiling is at least 12 feet high. It smells of death and rot in here.\nYour footsteps crunch beneath you as you walk on innumerable bones, carcasses, and unidentifiable remains. You're pretty sure a fair number of the bones are human...\nSomething makes this place its home. Best not dawdle.",west:"loadRoom|Forest/old-well",dark:!0,features:[{slug:"bones",look:"They're everywhere. Some appear animal but others seem like they're probably human..."},{slug:"giant hornet",altSlugs:["hornet","corpse"],roomDesc:"A recent kill sits atop the rest of the remains--a giant hornet.",look:["setFlag|SAWSAC","The hornet was something's snack. Its head has been gnawed clean off and its abdomen has been split open. Its innards are visible, with a pink-ish blob {sac} hanging out of it."]},{slug:"blob",targetFlag:"SAWSAC",look:"It's a pink-ish blob. It looks really wet and disgusting.",take:"You consider taking some hornet guts but decide it would be too disgusting."},{slug:"sac",altSlugs:["pheromone sac"],notice:"and a purple-ish sac",targetFlag:"SAWSAC",destroyedFlag:"TOOKSAC",look:"It's a purplish-ish lumpy sac. It looks really wet and disgusting.",take:[{cmd:"ifFlag",args:["G.SAWPOSTER",["You identify the pheromone sac in the corpse. Thinking it might be useful you grab it and yank it free, taking it with you.","addItem|SAC","setFlag|TOOKSAC"],"You consider taking some hornet guts but decide it would be too disgusting."]}]}]},Yo={name:"The Hive Entrance",coords:"Forest D5",slug:"Forest/hornet-nest",description:"You're standing in a dense forest, hiding in the foliage. A cacophonous buzzing fills the area. Dozens of two-foot-long hornets fly about. Even more cling to nearby trees, crawling along the trunks and branches. There's a huge hole in the ground that countless hornets are crawling into and out of.\nTo the south, branches have been shorn clean off the trees, forming a path through the forest. The hole leads downward.",south:"loadRoom|Forest/old-well",down:[{cmd:"ifHasItem",args:["SAC",["You step out from your hiding place and sneak over to the hole. The hornets seem to be ignoring you, mostly. The few that come over to inspect you wave their antannae around and seem uninterested.",{cmd:"waitForInput",args:["loadRoom|Forest/hive"]}],"gameOver|You step out from your hiding place and sneak over to the hole. The hornets see you and catch your very-not-hornet-like scent. The entire colony of hornets immediately launches itself from the ground and nearby trees. A cyclone of hornets erupts from the hole in the ground! Before you even have time to respond you've been run through by the sword-like stingers of a dozen hornets.\nEven after you've collapsed to the ground, unable to move or protect yourself, they continue to sting, over and over and over. If only you had found a way to disguise your scent..."]}],features:[{slug:"hole",look:"It's a hole, about 5' in diameter leading downward into the earth. Countless hornets crawl into and out of it all the time."},{slug:"hornet",altSlugs:["hornets"],look:"They're everywhere. Their bodies are striped black and yellow and they've got long, sharp stingers. Their antennae twitch constantly, searching the area for possible threats."}]},Ao={name:"Forest Path North of the Swamp",coords:"Forest D7",slug:"Forest/swamp-entrance",description:"You're on an overgrown path in the dense forest. It continues to the north and south. To the south, the land looks wetter and more swampy. You can smell a putrid stench coming from the south.",north:"loadRoom|Forest/old-well",south:"loadRoom|Swamp/forest-entrance",features:[{slug:"path",look:"It's a path through the long grass and underbrush. It's completely overgrown. It hasn't seen traffic in a long time, except for maybe animals."}]},Co={name:"Hive Tunnels",coords:"Forest F6",slug:"Forest/hive",dark:!0,description:["You are crawling your way through tunnels roughly 5 feet wide deep inside a giant hornet nest. It's about as fun as you though it'd be. You constantly are having to squeeze yourself against the side of the tunnel to avoid passing hornets and many stop to inspect you with their antennae. Thankfully you must smell like one of them seeing as how you're still alive.","Tunnels branch out in every direction and turn back and forth on themselves and each other but they're too narrow for you to try to enter. The only way to go is up to the surface or down below."],up:"loadRoom|Forest/hornet-nest",down:"loadRoom|Forest/hive-queen"},Fo={name:"Hive, Queen's Chamber",coords:"Forest F7",slug:"Forest/hive-queen",dark:!0,description:["You're standing in a large chamber filled with squirming hornet eggs clustered to the walls. A huge hornet queen is at the far end of the room, a mere ten feet away from you. Worker hornets wander around the chamber's walls, floor and ceiling, tending to the uncountable eggs.","There's an opening above you that leads up."],up:"loadRoom|Forest/hive",features:[{slug:"eggs",altSlugs:["egg"],look:"There are so many of them. They're semitransparent and white colored. You can see half-formed hornets moving around inside them.","smash|kick|destroy|kill|break|squash":"gameOver|You decide, while deep within a nest of giant hornets, with hundreds if not thousands of them crawling all around you, that the best course of action would be to squash some of the queen's eggs. Maybe it would assert dominance. Only one way to find out! You start smashing squirming eggs, sending egg fluid and baby hornets smearing across the ground. This, of course, enrages the entire hive, which descends on you in mere moments. You're pierced by long stingers more times than can be counted. Your body ends up feeding the queen. Energy with which to increase the size of the brood."},{slug:"queen",altSlugs:["hornet queen"],look:"She's far bigger than the rest. At least three feet long and far fatter. She occasionally squirts out another hornet egg and one of the many workers in the area carries it to a clutch of eggs and plants it amidst them.",give:{"":"There's no way a hornet queen would have any interest in that.",ELTNAMSID_RUNE:["You present the eltnamsid rune and slowly creep up to the hornet queen. You hold it in your palm and hold it out to her. Her antennae twitch and feel around on your arm. She leans her head forward and vomits a warm, clear liquid onto your hand, covering the rune. Then she returns to her royal duties.",'You look down at the rune. It\'s glowing and giving off an aura of light. You watch as it disintegrates into motes of light before disappearing completely. Suddenly, an image appears in your mind. You see a boulder, solid, immense, immovable. Suddenly, cracks shatter its surface and spiderweb outward from its center. The boulder crumbles to pieces. You can now "incant eltnamsid", the Charm of Destruction!',"callCommon|after_learn_incant|global-common","removeItem|ELTNAMSID_RUNE","setFlag|G.ELTNAMSID"]}}]},_o={name:"Swamp Near the Forest",coords:"Swamp A1",slug:"Swamp/forest-entrance",description:"You're standing on solid ground in a thin copse of trees. An overgrown path leads to the north into the deep forest. To the south the ground slowly gives way to mud and standing water. The putrid stench of the swamp is thick here.",north:"loadRoom|Forest/swamp-entrance",south:"loadRoom|Swamp/toppled-log",features:[{slug:"path",look:"It's a path through the long grass and underbrush. It's completely overgrown. It hasn't seen traffic in a long time, except for maybe animals."},{slug:"mud",altSlugs:["water","standing water","swamp"],look:"That doesn't look fun."}]},No={name:"Toppled Tree, Growing Mushrooms",coords:"Swamp A2",slug:"Swamp/toppled-log",description:"You're standing in about 6 inches of stinking, putrid muck. It sucks at your shoes, making movement difficult. Stagnant, brackish water forms pools all over. An ancient toppled tree lays here, covered in mushrooms. \nThe terrain allows you to head north, south, and east. To the southeast is a large, rot-infested lake blocking the way.",north:"loadRoom|Swamp/forest-entrance",south:"loadRoom|Swamp/mosquito-spawn",east:"loadRoom|Swamp/dead-tree",load:["setVarValue|SEQ|0"],incant:{etavoner:[{cmd:"ifFlag",args:["ALLGLOWING&SEECRACK&!CRACKREPAIRED",["You incant the Charm of Repairing. The spasming crack of light immediately stops and holds its position.","setFlag|CRACKREPAIRED"],"You incant the Charm of Repairing but nothing happens."]}],lievnu:[{cmd:"ifFlag",args:["ALLGLOWING&!SEECRACK",["You incant the Charm of Revealing. The faint glimmer in the air coalesces into a tiny point of light then suddenly a crack appears in the fabric of reality, just hanging there in the air.","setFlag|SEECRACK"],"You incant the Charm of Repairing but nothing happens."]}],rohcna:[{cmd:"ifFlag",args:["!CALMED",["You incant the Charm of Stillness. The mushrooms all shudder for a moment and then grow still.","setFlag|CALMED"],"You incant the Charm of Stillness but nothing happens."]}]},_common:{mushroom_move:["You reach out to touch the mushroom but before you can quite reach it, it shudders and and suddenly shuffles across the log, avoiding your touch. You've never heard of moving mushrooms before!\nYou might be able to touch them if you had some way of preventing them from moving."],mushroom_gameover:["gameOver|As soon as you touch the mushroom you feel a jolt of pain fire down your arm and into your chest. You drop to your knees in the muck. The pain still in your chest, you begin retching violently. At some point you realize that you're laying on your side in the stagnant water. You can't seem to move your body. It's raining and you feel like you're on fire.\nYou can hear the buzzing of giant mosquitos as they land on you. You can feel their needle-like proboscises pierce into your skin. You'd wince if you could. The monsters are so thirsty you can feel your blood being drained away.\nYou close your eyes... just for a moment... ..."]},features:[{slug:"mosquito",altSlugs:["mosquitoes"],roomDesc:"callCommon|mosquito_blurb|global-common",look:"callCommon|mosquito_look|global-common"},{slug:"mushroom",altSlugs:["mushrooms"],look:["The mushrooms covering the log are of all shapes and sizes. Some you've seen pictures of before, maybe, somewhere. Others are completely alien to you.\nThere is a peculiar array of seven colorful mushrooms in a neat row. Each is 6 inches tall with a thick stalk and a rounded cap a foot in diameter. They all oddly appear to be the exact same size with only the color of their caps to differentiate them. From left to right they are green, yellow, indigo, red, purple, blue, and orange. They're like nothing you've ever seen.",{cmd:"ifVar",args:["SEQ",">",0,[{cmd:"ifVar",args:["SEQ",">=",7,["All the colored mushrooms are glowing brightly."],["Some of the colored mushrooms are glowing brightly."]]}],null]}]},{slug:"tree",altSlugs:["log"],look:"The branches have long since rotted away, leaving only a massive, rot-infested log. Moss, lichen and innumerable small mushrooms call this tree their home. An array of seven colorful mushrooms grow in a neat row."},{slug:"green mushroom",look:[{cmd:"ifVar",args:["SEQ",">",5,["It's glowing a bright green color."],["It's a bright green color."]]}],touch:[{cmd:"ifFlag",args:["CALMED",[{cmd:"ifVar",args:["SEQ","==",5,["incVar|SEQ","You touch the green mushroom and it begins to glow."],["callCommon|mushroom_gameover"]]}],"callCommon|mushroom_move"]}]},{slug:"yellow mushroom",look:[{cmd:"ifVar",args:["SEQ",">",1,["It's glowing a bright yellow color."],["It's a bright yellow color."]]}],touch:[{cmd:"ifFlag",args:["CALMED",[{cmd:"ifVar",args:["SEQ","==",1,["incVar|SEQ","You touch the yellow mushroom and it begins to glow."],["callCommon|mushroom_gameover"]]}],"callCommon|mushroom_move"]}]},{slug:"indigo mushroom",look:[{cmd:"ifVar",args:["SEQ",">",6,["It's glowing a bright indigo color."],["It's a bright indigo color."]]}],touch:[{cmd:"ifFlag",args:["CALMED",[{cmd:"ifVar",args:["SEQ","==",6,["incVar|SEQ","You touch the indigo mushroom and it begins to glow. Now all of the colored mushrooms on the log are all glowing.","A faint glimmer appears in the air nearby.","setFlag|ALLGLOWING"],["callCommon|mushroom_gameover"]]}],"callCommon|mushroom_move"]}]},{slug:"red mushroom",look:[{cmd:"ifVar",args:["SEQ",">",2,["It's glowing a bright red color."],["It's a bright red color."]]}],touch:[{cmd:"ifFlag",args:["CALMED",[{cmd:"ifVar",args:["SEQ","==",2,["incVar|SEQ","You touch the red mushroom and it begins to glow."],["callCommon|mushroom_gameover"]]}],"callCommon|mushroom_move"]}]},{slug:"purple mushroom",look:[{cmd:"ifVar",args:["SEQ",">",3,["It's glowing a bright purple color."],["It's a bright purple color."]]}],touch:[{cmd:"ifFlag",args:["CALMED",[{cmd:"ifVar",args:["SEQ","==",3,["incVar|SEQ","You touch the purple mushroom and it begins to glow."],["callCommon|mushroom_gameover"]]}],"callCommon|mushroom_move"]}]},{slug:"blue mushroom",look:[{cmd:"ifVar",args:["SEQ",">",0,["It's glowing a bright blue color."],["It's a bright blue color."]]}],touch:[{cmd:"ifFlag",args:["CALMED",[{cmd:"ifVar",args:["SEQ","==",0,["incVar|SEQ","You touch the blue mushroom and it begins to glow."],["callCommon|mushroom_gameover"]]}],"callCommon|mushroom_move"]}]},{slug:"orange mushroom",look:[{cmd:"ifVar",args:["SEQ",">",4,["It's glowing a bright orange color."],["It's a bright orange color."]]}],touch:[{cmd:"ifFlag",args:["CALMED",[{cmd:"ifVar",args:["SEQ","==",4,["incVar|SEQ","You touch the orange mushroom and it begins to glow."],["callCommon|mushroom_gameover"]]}],"callCommon|mushroom_move"]}]},{slug:"lake",look:"It's algae-coated with a black film over its surface. You can see a peninsula reaching out into it from the east shore. There's some sort of building on the peninsula."},{slug:"glimmer",destroyedFlag:"!ALLGLOWING|SEECRACK",roomDesc:"There's a faint glimmer hanging in the air.",look:"It's a small patch of faintly glimmering light just hanging in the air. Somehow, you feel that there's something more to it..."},{slug:"crack",roomDesc:[{cmd:"ifFlag",args:["CRACKREPAIRED","Hanging in the air next to the log and shifting around slightly, is a small crack. You can see a brilliant white light filtering out of it. You feel drawn to it, as though you should reach out and touch it.",["Hanging in the air next to the log and shifting around slightly, is a small crack. You can see a brilliant white light filtering out of it. Occasionally, the crack seems to spasm in the air and reform in a different orientation. It doesn't seem very stable. You feel drawn to it, as though you could reach out and touch it."]]}],destroyedFlag:"!SEECRACK",look:[{cmd:"ifFlag",args:["CRACKREPAIRED","It's just hanging in the air next to the log and shifting around slightly. You can see a brilliant white light filtering out of it. You feel drawn to it, as though you should reach out and touch it.",["It's just hanging in the air next to the log and shifting around slightly. You can see a brilliant white light filtering out of it. Occasionally, the crack seems to spasm in the air and reform in a different orientation. It doesn't seem very stable. You feel drawn to it, as though you could reach out and touch it."]]}],touch:[{cmd:"ifFlag",args:["CRACKREPAIRED",["You feel a tingling sensation as your hand passes through the crack. The crack widens and widens until you are blinded by shimmering white light. You begin to remember memories that aren't your own.",{cmd:"waitForInput",args:["loadRoom|Memories/merek"]}],["gameOver|You reach out and touch the unstable crack in reality. As soon as you do, you get a sinking feeling in your stomach like you're falling. All around you the air shatters into pieces, cracks spiderwebbing out in all directions. Then all the pieces come tumbling down. They fall away into nothingness, leaving only utter blackness in their wake.\nYour arms begin to ache. You look down at them and see cracks forming all across your skin. They shoot outward in every direction, covering your whole body. Then, in an instant, you shatter into pieces.\nIf only you had a way to repair the unstable crack first..."]]}]}]},Lo={name:"A Lone, Dead Tree",coords:"Swamp B2",slug:"Swamp/dead-tree",description:"You're standing near a dead, twisted tree. It's black and slick with mold and rot. Somehow it's still standing tall, its contorted fingers reaching toward the sky. The ground is little more than a field of thick, black mud that squelches underfoot and is exhausting to move through. Pools of stagnant water are everywhere.\nThe horrible terrain only allows you to head east and west. To the south, a stagnant lake blocks the way.",west:"loadRoom|Swamp/toppled-log",east:"loadRoom|Swamp/standing-water",features:[{slug:"mosquito",altSlugs:["mosquitoes"],roomDesc:"callCommon|mosquito_blurb|global-common",look:"callCommon|mosquito_look|global-common"},{slug:"dead tree",altSlugs:["tree"],look:"The tree is totally dead and leafless. Its boney, contorted branches twist strangely upward. The brackish swampwater is all its had to drink for a long, long time and it has stained the wood black. It's slick with mold and rot."},{slug:"mold",altSlugs:["rot"],look:"It's slick with wetness. It's a black stain that has made the tree its home."},{slug:"lake",look:"It's algae-coated with a black film over its surface. You can see a peninsula reaching out into it from the east shore. There's some sort of building on the peninsula."}]},Ho={name:"A Pool of Standing Water",coords:"Swamp C2",slug:"Swamp/standing-water",description:"You've found a large pool of standing water. It would almost be more of a lake--that is, if it was any deeper than a couple feet. The water has a film of algae across its surface. Strange, white plants that look like large puffballs grow sparsely on the pool.\nThe terrain allows you to head west and south. To the southwest, a fetid lake blocks the way.",west:"loadRoom|Swamp/dead-tree",south:"loadRoom|Swamp/bubbling-muck",_common:{die_puffball:"gameOver|You wade out into the pool of standing water, plowing a small path through the algae. You swat yet another mosquito away as you reach the nearest puffball. You examine it for a moment before finally reaching down and gently grabbing it. The little spikes growing on its surface aren't sharp enough to harm you. They do, however, pierce the puffball itself, causing it to explode and send a cloud of white spores and dust into the air all around you. You cough violently as they make their way into your lungs.\nA few moments later, your coughing fit ends but... you can't quite remember what you were just doing. You look around stupefied by your surroundings. What are you doing out here? What's the cold, wet feeling in your legs? You look down and see murky water but your brain just can't seem to identify what it is. You see your own distorted reflection in the rot-infested waters and lock eyes with it. You have no idea what that thing is. You quickly forget your own name or even how to breathe.\nStanding in the pool of stagnant water paralyzed, you start to suffocate. A cloud of giant mosquitoes descends on you. As your lungs begin to burn, lusting for air, you start to feel cold, very cold. When you finally lose consciousness you don't even fall prone. For a while, at least, your remains stand out in the pool as a warning to any others that might chance by.\nIf only you had known the proper technique for handling puffballs..."},features:[{slug:"mosquito",altSlugs:["mosquitoes"],roomDesc:"callCommon|mosquito_blurb|global-common",look:"callCommon|mosquito_look|global-common"},{slug:"puffball",altSlugs:["puffballs","plant","plants"],look:"The puffballs are an off-white color like bone. They're about a foot in diameter. Their surfaces aren't smooth. Instead, it looks like they grow multitudinous little white spikes all over. Each has an umbilical-like stem that is a bone-white color that snakes down beneath the muddy water.",take:"callCommon|die_puffball",touch:"callCommon|die_puffball",use:{"":"You don't think that's possible.",SCISSORS:[{cmd:"ifFlag",args:["TOOKPUFFBALL","You don't currently have a need for another one and don't relish the thought of getting back into that water.",["You slosh out into the reeking water and carefully pull part of the bone-white, umbilical-like stem out of the water so you can see it. It's covered in disgusting blue veins that throb just beneath the surface. You take the glass scissors in hand and snip the stem in one, clean cut.\nA jet of blue liquid squirts out of the stem as it falls away back into the water. All the other puffballs floating in the water quiver and shake. You hastily retreat from the fetid waters, holding the puffball by the stem.","addItem|PUFFBALL","setFlag|TOOKPUFFBALL"]]}]}},{slug:"lake",look:"It's algae-coated with a black film over its surface. You can see a peninsula reaching out into it from the east shore. There's some sort of building on the peninsula."}]},xo={name:"Stinking, Bubbling Muck",coords:"Swamp C3",slug:"Swamp/bubbling-muck",description:"This place is putrid! Foul-smelling gas bubbles up through the endless expanse of black muck. The area is a cacophony of *blorps* and *glups*. Occasionally, there's a whoosh sound and a jet of yellow-green gas vents out of the ground nearby. The air here reeks and burns the lungs. You shouldn't stay here long.\nThere are no giant mosquitoes here. Even they can't stand it.\nThe hellish terrain only allows travel north and south. There are a bunch of old rotting logs mostly buried in the muck laid end to end. It's like a rotting road heading west over a peninsula into the lake.",north:"loadRoom|Swamp/standing-water",south:"loadRoom|Swamp/mammoth-skull",west:"loadRoom|Swamp/hut",features:[{slug:"muck",look:"It's black, bubbling muck. The sickening gas erupting from the earth causes it to make sickening sounds and spatter your clothes."},{slug:"gas",look:"The gas is a yellowish-green color and burns the eyes and lungs. You shouldn't be breathing this."}]},Do={name:"Creepy Hut in the Center of the Swamp",coords:"Swamp B3",slug:"Swamp/hut",description:"You're on a muddy peninsula in the middle of the swampy lake. There's a creepy, ramshackle hut that you could enter if you were brave enough. Totems are stuck into the earth all around the hut, encircling it. Hanging from them are dreamcatchers and runic symbols made of wicker and vine. Some have animal (and possibly) human skulls atop them. The area is utterly quiet. There aren't even any mosquitoes here.\nOut of the corner of your eye you see movement.",east:"loadRoom|Swamp/bubbling-muck",features:[{slug:"movement",look:"There's nothing there. It must have been your imagination."},{slug:"hut",look:"It's probably one of the creepiest things you've ever seen. It's a ramshackle wood hut that's barely standing. Large cracks between the wood planks allow eerie purplish light to spill out from its interior. The light is constantly moving inside but you hear absolutely nothing. You could enter it if you were brave enough.",enter:["You carefully approach the front door of the run-down hut. You take a moment to muster your courage before gingerly placing your hand on the rickety front door and pushing it inward to enter the hut.",{cmd:"waitForInput",args:"loadRoom|Swamp/hut-interior"}]},{slug:"totems",altSlugs:["totem"],look:"The totems are sticks between two and three feet long driven into the mushy ground. They all have dreamcatchers or runic symbols hanging from them. Some even have skulls on them.",take:"That might be a really, REALLY bad idea. You decide to leave it for now."},{slug:"skulls",altSlugs:["skull"],look:"Those are definitely skulls. Something used them once but now they're here. Are they a warning?",take:"That might be a really, REALLY bad idea. You decide to leave it for now."},{slug:"dreamcatcher",altSlugs:["dreamcatchers"],look:"They're dreamcatchers. You've seen them before but you can't recall where. Each one is unique.",take:"That might be a really, REALLY bad idea. You decide to leave it for now."},{slug:"runic symbol",altSlugs:["rune","runes","runic symbols","symbol","symbols"],look:"The runic symbols are made of twisted wicker or vine like the dreamcatchers. Some of them you recognize but from where? Oh, you remember! Some of these runes you've seen on the cairns throughout the island.",take:"That might be a really, REALLY bad idea. You decide to leave it for now."},{slug:"lake",look:"It's algae-coated with a black film over its surface."}]},Mo={name:"Inside the Creepy Hut",coords:"Swamp D1",slug:"Swamp/hut-interior",look:["You're standing inside a ramshackle hut in the middle of the swamp. The interior is filled with all kinds of ephemera on crude shelves and tables. The ones of note are a steel sword and shield, a cracked cellphone, {scissors}and a crude map scrawled on a bit of parchment.","Oscillating purple light is emitted from a cracked crystal ball sitting on a small, round table in the center of the room.","ifFlagWrite|MET|Rhode, with twigs intertwined throughout her her disheveled, voluminous black hair, sits on a stump at the table, studying the crystal ball. She doesn't seem to have noticed your intrusion.","ifFlagWrite|!MET|A disheveled woman with twigs in her voluminous black hair sits on a stump at the table, studying the crystal ball. She doesn't seem to have noticed your intrusion.","There is a trapdoor in the floor leading downward and the door to the swamp is to the east."],load:[{cmd:"ifVar",args:["G.BOXQUEST","==",2,['"Thou hast returned with perfect timing! My studies of the silver box are complete." She produces the broken silver box and returns it to you.',"addItem|BROKENBOX",'"The artifact holds a powerful enchantment inside it. One with the power to seal something away. But to use it, it doth need repairs. My scrying orb hath now been attuned to the box to facilitate its reconstruction. If thou finds a way to repair the box, return here and do so."',"incVar|G.BOXQUEST"],null]}],east:"loadRoom|Swamp/hut",down:[{cmd:"ifVar",args:["RHODE_CELLAR_ATTEMPTS",">",0,['With lightning speed, {rhode} jumps up from the table and reaches under her cloak. "Thou were warned and still thou persists! Now Akavak\'s blade shalt find thee!"',{cmd:"waitForInput",args:"callCommon|rhode_kill"}],['"No!" With lightning speed, {rhode} jumps from the table and shrieks. "Thou mustn\'t! I shan\'t warn thee again." She sits back down at the table.',"incVar|RHODE_CELLAR_ATTEMPTS"]]}],_common:{get_attention:[{cmd:"ifFlag",args:["MET",['"Oh, thou hast returned. What dost thou want? Hast thou come with more inquiries? Or doest thou wish to hear my %story%?"'],["setFlag|MET",'"What is this?" she asks angrily, rising quickly and backing away from you. She reaches inside her cloak. "Wherefore hast thou invaded my home?" she shouts, now clearly holding onto something concealed inside her dark cloak. "Hast thou come to inflict harm upon me? Speak plainly, interloper, thy life depends upon it."',{cmd:"choice",args:[['"Wrong answer, interloper."',{cmd:"waitForInput",args:"callCommon|rhode_kill"}],["yes","no","nay"],{yes:['"Wrong answer, interloper."',{cmd:"waitForInput",args:"callCommon|rhode_kill"}],no:"callCommon|no_harm",nay:"callCommon|no_harm"}]}]]}],rhode_kill:'gameOver|The woman with purple eyes throws back her cloak revealing a wooden knife in her hand. The knife is covered in all manner of runic symbols burned into the wood. She tosses it into the air and shouts "KAVAKA!" The knife takes on a life of its own and zips through the air toward you. You leap to the side to avoid its trajectory but it turns in midair, tracking your fall to the ground. It pierces you in the chest and digs deep, reaching your heart. You gasp for air but cannot draw breath.\nThe woman kneels down beside you and wrenches the knife free from your rapidly-dying body.',no_harm:['"Verily?" She sits back down at the small table with the crystal ball. "If thou doest mean me no harm, then I wouldst answer thy questions. My name is Rhode and thou art the first person that I have laid eyes upon in a long time. Doest thou have any specific questions or wouldst thou like to hear about %my past%?"'],ophelia_info:["\"I remember. 'Twas Ophelia that I first met on the island, after Merek of course. 'Twas strange. She told me that I came to the island long before her but that she hadst been here longer. Time doth flows in strange ways on the island.\"",'She thinks for a moment. "I cannot recall much. She was a diplomat of some kind, and very pensive. Her theory was that all of us here doth share a link with another. She said that those on the island were either hunters... or prey."','"Ophelia was adamant about finding a way to escape the island. I traveled with her for a long while. Merek, Ophelia and I climbed the black mountain. We doth found something there. Something that shook my resolve, though I cannot recall what. Afterward, we traveled the island for a spell. Eventually, we went our separate ways."','She closes her eyes and sighs. "I\'ve not dreamt of escape in a long, long time."'],returned_ingredient:[{cmd:"ifVar",args:["INGREDIENTCOUNT","==",4,["With all the ingredients for the cure now gathered, Rhode sets about her work.","With her mortar and pestle she grinds the rainbow shell into shimmering dust. While doing so, she chews on the tarnroot, occasionally spitting its juices into a small bowl. She incants something in some magical language and taps the puffball. With a hissing sound it deflates into a small white pouch. She cuts it open and pours its innards into the bowl with the tarnroot juice. To this mixture she adds the rainbow dust. She mixes these ingredients together for some time, all the while enchanting them with her magical words.",'She hands you a small vial of shimmering liquid. "Quaff this and the healing can begin." You take the small, glass vial.',"addItem|BLIGHT_CURE","setFlag|CUREMADE",'"Oh, the mosquito egg? No, \'tis not needed for the cure. But I require compensation for my work and the look on thy face when thou hadst that egg in thy hands was payment enough!" She laughs.'],["You're one step closer to the cure for the mosquito blight."]]}]},incant:{etavoner:[{cmd:"ifVar",args:["G.BOXQUEST","==",3,["You incant the Charm of Repairing. Whisps of energy stretch outward from Rhode's crystal ball and swirl about the room before streaking downward and striking the broken silver box. The silver box glows with power and reforms in your hand!","addItem|SILVERBOX","removeItem|BROKENBOX",'"Wondrous!" Rhode exclaims excitedly. "Now there is naught but one final step. The magic of the box must somehow be revealed to us before it canst be used. If thou learns of anything, return here and we shalt attempt to activate it together."',"incVar|G.BOXQUEST"],"You murmur the incantation. Nothing happens..."]}],lievnu:[{cmd:"ifVar",args:["G.BOXQUEST","==",4,["You incant the Charm of Revealing. Whisps of energy stretch outward from Rhode's crystal ball and swirl about the room before streaking downward and striking the silver box. The silver box's surface is now covered in glowing runes!","setFlag|G.BOXACTIVATED",'Rhode stammers in surprise. "I-I... This is amazing! The power that doth inhabit this artifact is so powerful that I can feel it from here. I know not exactly what this box is for, but I doth know it, deep in my soul, that it is of the highest import. Use it well."',"incVar|G.BOXQUEST"],"You murmur the incantation. Nothing happens..."]}]},features:[{slug:"rhode",altSlugs:["woman"],notice:["ifFlagWrite|MET|Rhode","ifFlagWrite|!MET|the woman"],look:"She's disheveled and covered in filth, muck, and grime. She looks like she's in her mid twenties. Even under all the filth she's stunningly beautiful. She's wearing medieval clothing and a dark cloak--something that you'd expect to see in a fantasy movie. Her unblinking gaze is transfixed on the cracked crystal ball emitting oscillating purple light. Her eyes are a vibrant purple color.",greet:["You greet {rhode} but she doesn't respond. She doesn't even look up at you. You try again a little louder and she jolts in surprise.","callCommon|get_attention"],ask:[{cmd:"ifFlag",args:["MET",[{cmd:"dialog",args:{"":'"Wherefore dost thou ask such silly questions? I know naught of this."',"favorite color":'"What a strange question thou asketh. I have always considered purple to be my favorite," she says, a sparkle in her purple eyes.',rhode:'"\'Tis my name."',ophelia:[{cmd:"ifFlag",args:["REMEMBERSOPHELIA","callCommon|ophelia_info",'"This name thou speakest, it is familiar to me, though only a shadow doth remains. The totems that I have erected in the environs about my home have allowed me that at least. If thou hast something that couldst spark the flame of memory, perhaps I couldst remember more."']}],merek:'"Merek..." She trails off before she even begins her sentence. "I can recall... some things," she says as a smirk slowly spreads across her face. She dismisses it quickly. She returns from her reverie. "We were... acquainted before we came here. He was a witch hunter. Clearly not a good one, as thou canst tell."',"arden|edra|stanley|meredith":'"This name thou speakest, it means nothing to me."',sword:'"A holy sword blessed by someone or other. I did not ask whom as it plunged toward my heart. It once belonged to a dear..." She looks away and clears her throat. "Acquaintance."',shield:'"It doth not look like much, but the holy enchantments upon it were enough to stop Akavak\'s blade."',"mosquito|mosquitoes|giant mosquito|giant mosquitoes":'"Lovely, aren\'t they?" She asks, without a single trace of mirth in her voice. "They doth carry a disease of some sort. Other, less enlightened minds would call it a curse. It afflicted me... ages ago. I had to cure it myself. At first, my acquaintance bade me pray for a cure. Silly. Eventually I convinced him to help me search for ingredients from which I fashioned a cure."',cure:['"A cure for the blight carried by the mosquitoes? Verily, thou doest ask the right person. \'Tis a remedy of mine own creation. If thou wouldst bring to me the required ingredients, I couldst fashion for thee the cure." Suddenly, she furrows her brow and looks annoyed. She reaches into her hair and plucks an errant twig, tossing it on the floor.','ifFlagWrite|CUREMADE|"Thou hast already received a cure. I shan\'t make another."'],ingredients:['"The cure for the mosquito blight doth require many ingredients. Some are dangerous to acquire. If thou doest wish to gather these, I would beseech thee to be careful. Thou shouldst gather the following: a puffball, a giant mosquito egg, tarnroot, and a rainbow shell."',"setFlag|G.WANTMOSQUITOEGG",{cmd:"ifFlag",args:["CUREMADE",null,[{cmd:"ifVar",args:["INGREDIENTCOUNT",">",0,['"So far," she recounts, "thou hast given to me:"','ifFlagWrite|GAVEEGG|]"An egg of the giant mosquito."','ifFlagWrite|GAVEPUFFBALL|]"A puffball."','ifFlagWrite|GAVESHELL|]"A sparkling rainbow shell of purest color."','ifFlagWrite|GAVEROOT|]"A white-leafed tarnroot."'],null]}]]}],puffball:['"I call them puffballs, for I know not their true name. Thou shouldst not handle them directly. They doth grow tiny spikes which causes them to explode when touched."','She furrows her brow and thinks. "There was some trick... Ah yes! Thou shouldst cut the strange stalk from whence it sprouts, but NOT with metal. My acquaintance hadst learned that the hard way."',"setFlag|REMEMBERPUFFBALL"],"egg|mosquito egg|giant mosquito egg":'"They shan\'t be hard to find, I would guess."',tarnroot:'"Tarnroot is a root with white leaves. Thou canst find it growing near lakes at high elevation."',"rainbow shell":'"There is no mystery here. Thou shouldst find one somewhere along the beach. They are quite beautiful."',"cellphone|phone":'"\'Tis an odd bit of metal and glass doest thou not agree? I was once told that it doth contain a most powerful enchantment. One that grants its wielder the power to speak with another many leagues distant."',"scissors|glass scissors":[{cmd:"ifFlag",args:["TOOKSCISSORS",'"I hope that thou hast used them well."',[{cmd:"ifFlag",args:["REMEMBERPUFFBALL",['"They are glass shears. Thou mustn\'t pierce a puffball with metal, hence I conjured these scissors. I have no further use of them. Wouldst thou like them?"',{cmd:"choice",args:['"Didst thou want them or not?"',["yes","no","nay"],{yes:['"Then thou may take them. I hope they serve thee well."',"setFlag|CANTAKESCISSORS"],no:'"Fine then. If thou shouldst need them, simply return and ask."',nay:'"Fine then. If thou shouldst need them, simply return and ask."'}]}],'"They are simple shears, really. I cannot recall why they are made of glass. Perhaps I conjured them from the beach sands."']}]]}],"crude map|map":[{cmd:"ifFlag",args:["TOOKMAP",['"I hope it serves you well."'],'She stands and retrieves the parchment from a shelf. "This map. I cannot recall from whence it came nor what it depicts. If thou doest desire it, I would trade it to thee for something in return. A small, silver box exists somewhere in this strange land. Bring it to me and thou canst have the map in return."']}],"crystal ball":'"Tis an esotery from an ancient time. Only an arcane mind couldst gaze into its depths. Pay it no heed."',"trapdoor|cellar":"\"Thou shouldst not inquire of this. Pay it no mind. 'Tis' of no import.\"",swamp:'"Tis not a nice place, I admit. Thou art brave to come here. Especially with yon mosquitoes."',"totem|totems|dreamcatcher|dreamcatchers":'"These are creations of mine. They take the required shape to house various enchantments and charms. Mostly they doth protect and enhance my memories. Mostly." She narrows her eyes at you briefly.',"cairn|cairns":'"No, I did not make them. Nor do I know who did or how. I have, however, divined their purpose. They are powerfully enchanted. When thou doest touch a cairn, a new rune is scribed and it remembers thy deeds, creating a divergent destiny. If thy journey doest end prematurely, thou canst return to the point of divergence."',"past|my past|my story|her past|story|her story|story":['"\'Tis true, as thou might have guessed, that I am a witch. An occultist. A thaumaturge. It doth not matter what name others give unto me, \'tis all the same. I harness powers from the great beyond to shape reality." She pauses and smiles. "In other words, I use magic."',"\"I once lived near a small village; Its name doth escape me now. 'Twas there that I worked my trade. Under my care, the sick were cured, crops flourished, and healthy babies were born. 'Tis true that most in the village believed that I performed the black arts of the devil and such nonsense, but there were some that were grateful. I lived unmolested there for many years.\"",'She shifts uncomfortably. "Then one day a witch hunter came from the Order of..." She pauses. "Hmm. I seem to have forgotten. Anyway, a witch hunter had come for me. He invaded my home with hate and fear and murder in his eyes. He ran his cold steel through my belly with naught a word. But as I lay upon the floor with my humours spreading out about me, he finally spake."',"\"He said to me 'Thy soul shalt be condemned to that faraway place, the island of the lost'.\"","She takes a deep breath",{cmd:"waitForInput",args:['She continues her story. "Then, I recall waking on this island with naught but vague memories of before and no worse for wear. I wandered for a bit, searching for others. Wouldst thou believe it? The first person I met was none other than the man who had tried to slay me! He took up his arms against me but he had not the will to slay me. For we were the only ones on the island as far as we knew and the prospect of being alone was the greater spectre in his eyes."','"We explored together and slowly a... bond formed. I learned his name was Merek. He was a young recruit of his Order and was eager to prove himself. How we ended up here, neither of us knew."','"Eventually we met another. A woman of fair hair and stoic demeanor." She pauses again, scrunching her brow, trying to recall distant memories. "I\'m sorry. This story of mine is at its end, for I can recall no more."']}],"silver box|box|broken box|broken silver box":[{cmd:"ifFlag",args:["GAVEBOX",[{cmd:"ifVar",args:["G.BOXQUEST","==",1,'"My studies continue. Thou doest return too early."',[{cmd:"ifVar",args:["G.BOXQUEST","==",3,'"Once thou hast found a way to repair the silver box, return here and do so."',[{cmd:"ifVar",args:["G.BOXQUEST","==",4,'"Once thou hast found a way to reveal the box\'s magic, return here and do so."',[{cmd:"ifVar",args:["G.BOXQUEST","==",5,"\"'Tis fully repaired and activated. I know not exactly what it's for but I believe it to be important. Use it well.\"",null]}]]}]]}]]}],'"If thou shouldst find a silver box, I wouldst trade to thee the map I have upon my shelf."']}]}}],["She doesn't respond in any way. Maybe you have to greet her to get her attention."]]}],give:{_requiredFlag:"MET","":'"Wherefore does thou present such a thing to me? I desire it not."',OPHELIAS_JOURNAL1:['You produce the journal and hand it to Rhode. "What, praytell, is this?"\nShe considers the text on the cover for a few minutes before opening it and flipping through the pages.','"\'Tis quite damaged. I shall attempt to repair it." She sets the journal down on the table next to the cracked crystal ball. She places one hand onto the surface of the journal, palm down. With her other hand she plucks a long, black hair from her disheveled head and holds it dangling over the hand she has on the journal.',"She begins reciting words, or at least you think they're words. They're sounds you didn't think a human throat could make. As she incants, she lowers the long black hair until it touches her hand. Before your very eyes the bottom of the hair penetrates through her hand as though it wasn't there, the only evidence is its passing a faint light. She lowers it until the entire strand is gone, absorbed by her other hand. With a final syllable there is a flash of light and she removes her hands.",'The journal is still badly damaged. "This place doth dampen my magic. \'Tis all I can do simply to repair the passages that were still mostly intact." She opens the notebook again and reads the legible passages.',"removeItem|OPHELIAS_JOURNAL1","addItem|OPHELIAS_JOURNAL2","She finishes reading and hands the journal back to you.","setFlag|REMEMBERSOPHELIA",{cmd:"waitForInput",args:"callCommon|ophelia_info"}],RED_FABRIC:["You hand Rhode the piece of faded, red fabric. She takes it and gazes wistfully at it for a long while before speaking.","\"'Twas a scrap of Merek's cloak. He tried to kill me once, a lifetime ago. He hadst been a holy knight of the Order of the Griffin.\" She scoffs. \"Their 'holy quest'? Hunting down and slaying any manner of sorcerer, regardless of their disposition.\"",'"I cannot recall how, but we both ended up here, together. He, of course, blamed me; Accusing me of using mine incantations to bring us here. We hated each other. But after ages of being here with none save ourselves, we became... attached." She smirks before quickly hiding it. "I used my conjury where possible, and he his strong sword arm. Eventually, he renounced his holy quest and abandoned the Order. Though I forgave him for his attempt on my life, I know he always carried his remorse inside him. \'Twas a shadow upon his soul."','"We met and traveled with Ophelia for a while. But one night, Merek simply left in the night, leaving his equipment behind. I\'ve not seen him since."',"She holds the tattered scrap fabric in silence for a while before returning it to you.","setFlag|REMEMBERSMEREK"],MOSQUITO_EGG:[{cmd:"ifFlag",args:["GAVEEGG",'Rhode blinks in surprise. "Thou art carrying about another egg? I need it not."',["You produce the quivering white, gelatinous egg. You grimace as it shakes in your hands. Rhode takes it without hesitation and sets it on a table where it continues to throb. She just smiles at you.","removeItem|MOSQUITO_EGG","incVar|INGREDIENTCOUNT","setFlag|GAVEEGG","callCommon|returned_ingredient"]]}],PUFFBALL:["You carefully produce the white puffball, holding it by its veiny umbilical cord. Rhode stands and gingerly takes it from you, being very careful to handle only the cord. She sets it down gently on a nearby table.","removeItem|PUFFBALL","incVar|INGREDIENTCOUNT","setFlag|GAVEPUFFBALL","callCommon|returned_ingredient"],RAINBOW_SHELL:['You hand Rhode the rainbow shell. She takes it eagerly and holds it in the scintillating purple light emitted from the cracked crystal ball. She turns it over and over in the light, casting purple-tinted rainbow all over the interior of the hut. "Beautiful," she whispers. After studying it she turns and places it onto a nearby table.',"removeItem|RAINBOW_SHELL","incVar|INGREDIENTCOUNT","setFlag|GAVESHELL","callCommon|returned_ingredient"],TARNROOT:['You take out the root with white leaves and hand it to Rhode. "Yes. This root doth be the one of which I spoke." She takes it and sets it on her work table.',"removeItem|TARNROOT","incVar|INGREDIENTCOUNT","setFlag|GAVEROOT","callCommon|returned_ingredient"],BROKENBOX:["You present the pieces of the broken silver box to Rhode. She takes them from you carefully and reverently. She places the broken silver box on a nearby table.",'"Thou hast brought to me that which I desire. The map is yours shouldst thou still desire it. I have some memory of this silver box, though I can recall nothing specific. I shall try to discover what I can. Thou shouldst return later after I have had some time to study it."',"setFlag|GAVEBOX","setVarValue|G.BOXQUEST|1","removeItem|BROKENBOX"]}},{slug:"stump",look:"It looks like it's for sitting."},{slug:"crystal ball",look:"There's a crack that nearly bisects it and it's emitting scintillating purple light. You can only look at it for a moment before having to look away or shield your eyes. You have no idea how {rhode} can stand to stare at it.",take:"You probably shouldn't try to take anything without permission. It could be hazardous to your health."},{slug:"sword",altSlugs:["steel sword"],look:"It's a steel sword with a blade about 2 and a half feet long. Rust has built up in spots and there are nicks and dings all over it.",take:"You probably shouldn't try to take anything without permission. It could be hazardous to your health."},{slug:"shield",altSlugs:["steel shield"],look:"It's a wooden shield reinforced with steel banding. The front is painted, albeit very badly faded, with the image of a yellow griffin holding a dozen roses in its talons. It's banged up pretty badly and the metal is showing signs of rust. Parts of the wood are also starting to rot.",take:"You probably shouldn't try to take anything without permission. It could be hazardous to your health."},{slug:"cellphone",altSlugs:["phone"],look:"It's a smartphone. It's got a crack across the screen and it looks like it was dropped in the swamp muck a few times. You think you might've owned one once, maybe.",take:"You probably shouldn't try to take anything without permission. It could be hazardous to your health."},{slug:"map",destroyedFlag:"TOOKMAP",look:"It's a piece of parchment, yellowed with age, partially rolled up at the edges. It depicts an area connected by twisting, turning passageways. Many lead to question marks but someone's drawn a line through it, showing the way.",take:[{cmd:"ifFlag",args:["GAVEBOX",["You retrieve the crude map from the shelf and take it with you.","addItem|MAP","setFlag|TOOKMAP"],"You probably shouldn't try to take anything without permission. It could be hazardous to your health."]}]},{slug:"scissors",altSlugs:["glass scissors"],destroyedFlag:"TOOKSCISSORS",notice:"a pair of glass scissors, ",look:"They're a pair of scissors. They're the size you would expect except they're made of clear glass.",take:[{cmd:"ifFlag",args:["CANTAKESCISSORS",["You gently take the glass scissors.","addItem|SCISSORS","setFlag|TOOKSCISSORS"],"You probably shouldn't try to take anything without permission. It could be hazardous to your health."]}]},{slug:"shelves",altSlugs:["shelf"],look:"The shelves are crudely made. They're a little crooked and the wood is roughly hewn. You can see axe-marks scored into the wood. They hold countless, random small objects."},{slug:"tables",altSlugs:["table"],look:"The tables were clearly made by an amateur with a severe lack of proper tools or materials. Not a single one of them is even. Each has a bit of swamp mud packed underneath one or more of the legs to try to level them out. They're covered with all manner of objects including plants, roots, and mosquito guts. There's also a mortar and pestle."},{slug:"plants",altSlugs:["mosquito guts","guts","roots"],look:"They're things from around the swamp. You have no idea why someone would want them."},{slug:"mortar and pestle",look:"It's a stone tool consisting of a mortar, which is a small stone bowl, and a pestle which is a blunt piece of rock. It's used to crush or grind things. It's seen plenty of use and is quite stained."},{slug:"trapdoor",look:"It's a wooden trap door with a handle in the floor. You wouldn't have thought that there was any way a cellar could survive the swampy terrain."}]},Go={name:"Muck-Buried Skull",coords:"Swamp C4",slug:"Swamp/mammoth-skull",description:"This field of muck has claimed many victims. You see mildew-covered bones sticking out of the black mud as far as the eye can see. There is a massive, half-buried skull here with long tusks. Oh! It's the skull of a... a... You can't quite remember.\nThe swampy terrain heads north and west. To the east, you can see the faint traces of a trail that heads toward solid ground. To the northwest, a fetid lake blocks the way.",north:"loadRoom|Swamp/bubbling-muck",east:"loadRoom|Swamp/dry-trail",west:"loadRoom|Swamp/campsite",features:[{slug:"mosquito",altSlugs:["mosquitoes"],roomDesc:"callCommon|mosquito_blurb|global-common",look:"callCommon|mosquito_look|global-common"},{slug:"bones",altSlugs:["bone"],look:"They're everywhere..."},{slug:"skull",look:"It's a massive animal skull with long tusks. You're pretty sure you know the name of the animal but you can't quite remember. It's half-buried in the black, reeking muck and there's mildew covering most of it."},{slug:"lake",look:"It's algae-coated with a black film over its surface. You can see a peninsula reaching out into it from the east shore. There's some sort of building on the peninsula."},{slug:"cairn",roomDesc:"Stacked atop the giant skull is a small cairn of stones only a foot tall. The stones are covered in runic markings.",look:"The cairn stands only about a foot tall with stones covered in runic markings. They're oddly completely clean of any of the muck, grime, mildew or rot of the swamp.",touch:"callCommon|cairn_touch|global-common"}]},Wo={name:"Long Abandoned Campsite",coords:"Swamp B4",slug:"Swamp/campsite",description:"You're standing on a small hill that barely rises out of the surrounding putrid waters of the swamp. It's barren and rocky. Pools of standing water and an eternity of stinking muck stretch out in every direction.\nAt the center of the hill is a campsite that looks like it's been abandoned for a long time. You see the remains of a campfire and a tattered rag that was once a tent. {stick}\nThe swampy terrain makes travel difficult; You can only head east or west. To the north is a large, muddy lake blocking the way.",east:"loadRoom|Swamp/mammoth-skull",west:"loadRoom|Swamp/statue",features:[{slug:"mosquito",altSlugs:["mosquitoes"],roomDesc:"callCommon|mosquito_blurb|global-common",look:"callCommon|mosquito_look|global-common"},{slug:"hill",look:"It's barren and rocky. It only rises a couple feet from the reeking waters of the swamp."},{slug:"water",look:"There's definitely no way that's safe to drink."},{slug:"muck",altSlugs:["mud"],look:"You're not looking forward to trudging through that again."},{slug:"campfire",look:"There's a circle of stones and the ground is slightly the color of ash. There are a couple of burnt sticks too. It's been a long time since this campsite's been used."},{slug:"tent",look:["The tent is tattered and full of holes. The edges are frayed. It collapsed a long time ago and the swamp has slowly been rotting it away.","Inside the tent you notice there's an old, waterlogged pack.","setFlag|SAWPACK"]},{slug:"stick",altSlugs:["flagpole"],notice:[{cmd:"ifFlag",args:["TOOKFABRIC",["There's also a stick laying on the ground."],["There's also a stick that's been driven into the ground like a flagpole with a tattered and faded bit of red fabric tied near its top like a flag."]]}],look:[{cmd:"ifFlag",args:["TOOKFABRIC",["It's laying there on the ground where you left it."],["It's been driven into the rocky terrain like a flagpole. It's a little crooked but you're impressed that it's survived for so long. Tied to the top of the stick is a tattered and faded strip of red cloth."]]}],take:"It's way too long to try to carry around."},{slug:"fabric",altSlugs:["cloth","flag"],notice:"There's a strip of faded red cloth tied to it like a flag.",destroyedFlag:"TOOKFABRIC",look:"It's a tattered and faded strip of red cloth.",take:["You grab hold of the stick and yank it back and forth until it's loose enough to uproot. You pull it down and untie the fabric from its end. You take the fabric.","setFlag|TOOKFABRIC","addItem|RED_FABRIC"]},{slug:"pack",targetFlag:"SAWPACK",look:["The pack is mostly rotted away. You manage to get it open but there's nothing in it but mildew{notebook}. It's badly water damaged.","setFlag|SAWNOTEBOOK"],take:"The pack is too far gone to be useful anymore. You decide to leave it behind."},{slug:"notebook",altSlugs:["rhode's journal"],notice:" and a waterlogged notebook",targetFlag:"SAWNOTEBOOK",destroyedFlag:"TOOKNOTEBOOK",look:"callCommon|ophelias_journal1_look|global-common",take:["You take the notebook.","setFlag|TOOKNOTEBOOK","addItem|OPHELIAS_JOURNAL1"]},{slug:"lake",look:"It's algae-coated with a black film over its surface. You can see a peninsula reaching out into it from the east shore. There's some sort of building on the peninsula."}]},Po={name:"Ancient, Filth-Coated Statue",coords:"Swamp A4",slug:"Swamp/statue",description:"Most of the ground here is about a foot of muck beneath another foot of algae-covered water. You're soaked through and miserable. The only thing around is a huge, monolithic statue of a grimacing face. It's made of black stone and has mold growing up from the waters around its base. It lists forward, slowly sinking into the mud. Someday it might be swallowed by the land completely.\nThe muddy terrain allows you to head north or east. To the northeast, a algae-covered lake blocks the way.",north:"loadRoom|Swamp/mosquito-spawn",east:"loadRoom|Swamp/campsite",_common:{climb_statue:"You make your way around the back of the statue and climb up the slick handholds. You almost lose your grip a few times but manage to make it to the top. On the top of the statue's head someone has painted a faded message in some sort of red paint. It's amazing it hasn't been completely washed away. \"M_rek _as h_re\"\nFrom up here you can see what's in the distance. To the north you can see black clouds of mosquitoes and to the east you can see a hill. To the northeast there's a stagnant lake with a peninsula reaching out in to the center where there's a hut. In every other direction you see endless muck."},features:[{slug:"mosquito",altSlugs:["mosquitoes"],roomDesc:"callCommon|mosquito_blurb|global-common",look:"callCommon|mosquito_look|global-common"},{slug:"ladder",altSlugs:["handholds"],look:"The handholds are carved into the back of the statue. You think that they'd be easily climbable.",climb:"callCommon|climb_statue"},{slug:"statue",altSlugs:["face"],look:"It's a huge statue made of black stone, probably at least 13 feet tall. It depicts a grimacing face. Looking at it makes you uncomfortable, almost like it's looking back at you. The back of the status has handholds cut into it, almost like a ladder.",climb:"callCommon|climb_statue"},{slug:"lake",look:"It's algae-coated with a black film over its surface. You can see a peninsula reaching out into it from the east shore. There's some sort of building on the peninsula."}]},Uo={name:"Mosquito Spawning Pool",coords:"Swamp A3",slug:"Swamp/mosquito-spawn",description:"This area is made up of narrow channels of wet, sucking muck weaving around and between pools of stagnant, black water. The pools are choked by endless clusters of round, gelatinous eggs. The eggs shake and quiver of their own volition. Occasionally, one rips open and a newborn giant mosquito crawls out and starts skittering around.\nThe air is likewise choked with clouds of mosquitoes. You are constantly fighting them off. A few even manage to land on you before you're able to brush them away.\nThe channels of muck lead north and south. To the east the way is blocked by a reeking lake.",north:"loadRoom|Swamp/toppled-log",south:"loadRoom|Swamp/statue",load:["setVarValue|EGGS|0"],features:[{slug:"mosquito",altSlugs:["mosquitoes"],look:"callCommon|mosquito_look|global-common"},{slug:"egg",altSlugs:["eggs"],look:"There are so many. So, so many. They're a whitish color and throb and shake. They hold life within. Horrible, horrible life.",take:[{cmd:"ifFlag",args:["G.WANTMOSQUITOEGG",[{cmd:"ifHasItem",args:["MOSQUITO_EGG","You definitely don't want to somehow carry two at once!",["You kneel down into the brackish water and dig the egg out of the muck. It jiggles and throbs as the unborn life within writhes. You shudder.","addItem|MOSQUITO_EGG"]]}],"You have absolutely no reason why you'd ever want to."]}],"smash|break|destroy|kill":[{cmd:"ifVar",args:["EGGS",">=",1,[{cmd:"ifVar",args:["EGGS",">=",2,["gameOver|You approach another cluster of quivering eggs to destroy them. Somehow, the cloud of mosquitoes know what you're about to do. They descend upon you en-mass!\nYou flail your arms, trying to protect yourself from the cloud of swords. They're so thick that you can see nothing but wings and eyes and proboscises. You try to blindly run away but only manage to run through more eggs, destroying them and causing an even greater response.\nIn your panic you slip on the eggy remains and land face down in the muck. The army of mosquitoes land on you and run you through. Before you can even get yourself back on your feet you're faint and woozy. The world quickly fades away..."],["You smash another of the nearby eggs. It erupts into a gelatinous oozing pile. The unborn mosquito within writhes and twitches as it dies. More mosquitoes begin swarming around in a fury.","incVar|EGGS"]]}],["You smash one of the eggs nearby. It erupts into a gelatinous oozing pile. The unborn mosquito within writhes and twitches as it dies. Some of the nearby mosquitoes seem to take interest.","incVar|EGGS"]]}]},{slug:"lake",look:"It's algae-coated with a black film over its surface. You can see a peninsula reaching out into it from the east shore. There's some sort of building on the peninsula."}]},Bo={name:"A Trail on Solid Ground",coords:"Swamp D4",slug:"Swamp/dry-trail",description:"You're on a trail on solid ground, covered sparsely with long grass. You can see giant mosquitoes flying around looking for victims in the swamp.\nThe reeking swamp is to the west and the trail continues southward toward a ridge in the distance.",south:"loadRoom|Swamp/ridge",west:"loadRoom|Swamp/mammoth-skull",features:[{slug:"mosquito",altSlugs:["mosquitoes"],look:"They're a little hard to make out from this distance. They look like mosquitoes, only bigger."},{slug:"grass",look:"It's at least a couple feet tall but sparsely growing around the area. It's kind of a blackish-green color. The swamp water can't be good for it."}]},qo={name:"An Bramble-Covered Ridge",coords:"Swamp D5",slug:"Swamp/ridge",description:"You're standing on a long, grassy ridge. To the north of the ridge you see a trail that leads down toward the swamp. To the south you see sand dunes which lead to the ocean. From up here you can even see a lighthouse far to the southeast on a peninsula.",north:"loadRoom|Swamp/dry-trail",south:"loadRoom|Coast/dunes",features:[{slug:"ridge",look:"It's grassy."},{slug:"swamp",look:"It's swampy."},{slug:"trail",look:"The trail leads downhill to the north before curving west and disappearing into the swamp. You're not looking forward to going back down there."},{slug:"brambles",altSlug:["bramble"],look:"They look like picky weeds except they're entire bushes. They don't look like they'd be particularly fun to walk through."},{slug:"dunes",altSlug:["sand","sand dunes"],look:"callCommon|dunes_look|global-common"},{slug:"ocean",look:"callCommon|see_ocean|global-common"},{slug:"lighthouse",look:"callCommon|see_lighthouse_distant|global-common"}]},$o={name:"Ruined Hall",coords:"Ruins A3",slug:"Ruins/ruined-hall",description:"You stand in a dimly lit, very wide and long ruined hall. Light streams in through cracks in the walls and ceiling, which is very high above you. There is a solid stone altar at the far end, engraved with a runic symbol.\nThere is a doorway that leads outside to the west. {door} There is a metal device affixed to the wall next to the large stone door.",west:"loadRoom|Forest/ruins-entrance",east:[{cmd:"ifFlag",args:["G.RUINEDHALLOPEN","loadRoom|Ruins/ruined-square-south","You can't go east. The large stone door is blocking your path. Maybe the device on the wall has something to do with it."]}],features:[{slug:"columns",look:"The columns are cracked and crumbling in places but still sturdily hold up the hall."},{slug:"altar",look:"The altar is a large piece of white stone. Engraved on its surface is a large, runic symbol."},{slug:"runic symbol",altSlugs:["rune","symbol"],look:"ᛞ"},{slug:"door",altSlugs:["stone door","east door"],notice:[{cmd:"ifFlag",args:["G.RUINEDHALLOPEN","There is an open doowary that leads outside to the east.","There is also a large stone door that leads to the east."]}],look:[{cmd:"ifFlag",args:["G.RUINEDHALLOPEN","The door has slid out of the way, granting access eastward.","The door is large and solid. It looks like it's made out of the same material as the altar."]}]},{slug:"device",altSlugs:["metal device"],look:[{cmd:"ifFlag",args:["G.RUINEDHALLOPEN","It's a metal base affixed to the wall. It's rounded and looks like it pivots up and down. It's currently pointed upward.","It's a metal base affixed to the wall. It's rounded and looks like it pivots up and down. It's currently pointed downward."]},{cmd:"ifFlag",args:["RODINSERTED","There's a rusty metal rod sticking out of it. You could probably use the device now.","There's a round opening in the front of it that is about an inch and a half in diameter."]}],use:{"":[{cmd:"ifFlag",args:["RODINSERTED",[{cmd:"ifFlag",args:["G.RUINEDHALLOPEN",["You grip the rusty metal rod and pull the lever downward with all your might and it clunks into the place. A moment later there is a grinding sound as the large stone door to the east slides downward, sealing the passage.","unsetFlag|G.RUINEDHALLOPEN"],["You grip the rusty metal rod and push the lever upward with all your might and it clunks into the place. A moment later there is a grinding sound as the large stone door to the east slides upward, unsealing the passage.","setFlag|G.RUINEDHALLOPEN"]]}],"There's no way to use the device in its current state. It seems like there's something missing."]}],RUINS_ROD:["You slot the metal rod into the opening in the device. It fits perfectly!","removeItem|RUINS_ROD","setFlag|RODINSERTED"]}},{slug:"rod",targetFlag:"RODINSERTED",look:"It's a rusty metal rod sticking out of the device.",take:["You pull the metal rod out of the device and take it.","addItem|RUINS_ROD","unsetFlag|RODINSERTED"]}]},Vo={name:"Ruined Square, South",coords:"Ruins B3",slug:"Ruins/ruined-square-south",description:"You stand in the midst of a city in ruins. All around you are ruined buildings made of gray stone and piles of rubble. To the west is a ruined hall. To the south is a ruined home. To the east, a doorway leads inside to another ruined building. A path leads through the rubble to the north.",north:"loadRoom|Ruins/ruined-square-north",south:[{cmd:"ifFlag",args:["WALLDESTROYED","loadRoom|Ruins/ruined-house","The building to the south is sealed shut by a much newer brick wall. It's covered in fractures and looks pretty weak. You'll have to deal with that first."]}],east:"loadRoom|Ruins/lab",west:[{cmd:"ifFlag",args:["G.RUINEDHALLOPEN","loadRoom|Ruins/ruined-hall","The way west is sealed by a heavy stone door."]}],features:[{slug:"door",altSlugs:["stone door","west door"],look:"It's a heavy stone door blocking the way."},{slug:"wall",altSlugs:["brick wall","south wall","south brick wall"],"smash|destroy|break|kick|bash":"You're not strong enough to break it down with your bare hands.",use:{SLEDGE:[{cmd:"ifFlag",args:["WALLDESTROYED","It's already been broken open. You smash up a couple loose bricks to make yourself feel better.",["You take the sledgehammer in hand and swing with all your might. You shatter a brick in the center of the wall, bowing the entire wall inward slightly. After another few strong strikes, the wall gives out and collapses into a heap of bricks. The way south is open.","setFlag|WALLDESTROYED"]]}]}},{slug:"cairn",roomDesc:"In the middle of the ruined square, small bits of rubble have been stacked, forming a cairn about 3 feet tall.",look:"The cairn is made out of broken bits of the rubble itself, each piece inscribed with small runes.",touch:"callCommon|cairn_touch|global-common"}]},jo={name:"Ruined Square, North",coords:"Ruins B2",slug:"Ruins/ruined-square-north",description:"You stand in the midst of a city in ruins. All around you are ruined buildings made of gray stone and piles of rubble. To the north is a temple that is still standing. Long, tattered banners hang from its walls.",north:"loadRoom|Ruins/temple",south:"loadRoom|Ruins/ruined-square-south",down:[{cmd:"ifFlag",args:["HATCHOPEN","loadRoom|Ruins/bunker","The hatch is closed. You'll have to open it before heading down."]}],features:[{slug:"temple",look:"It's a large building supported by doric columns. Unlike the rest of the buildings, the temple is still mostly intact. It has long, tattered banners hanging from its walls."},{slug:"banner",altSlugs:["banners"],look:"The banners are long and tattered. They each depict a yellow griffin clutching a dozen red roses in its talons."},{slug:"hatch",roomDesc:["ifFlagWrite|!HATCHOPEN|Partially obscured by the rubble is a metal hatch in the ground.","ifFlagWrite|HATCHOPEN|Partially obscured by the rubble is a metal hatch in the ground. It's currently open."],look:[{cmd:"ifFlag",args:["HATCHOPEN","It's a large, metal hatch set into the ground. It's currently open, revealing a dark shaft that leads downward into the Earth. A metal ladder is affixed to the shaft wall.","It's a large, metal hatch set into the ground. It's got a handle on it. Maybe it could be opened."]}],open:["ifFlagWrite|HATCHOPEN|It's already open.","ifFlagWrite|!HATCHOPEN|You lift with all your strength and manage to lift the hatch open.","setFlag|HATCHOPEN"],close:["ifFlagWrite|HATCHOPEN|You take hold of the heavy hatch door and slowly lower it closed.","ifFlagWrite|!HATCHOPEN|It's already closed.","unsetFlag|HATCHOPEN"],use:{"":"You can't use that. Try opening or closing it instead."}}]},Ko={name:"Ruined House",coords:"Ruins B4",slug:"Ruins/ruined-house",description:"You're in the remains of a ruined house. The upper floor has collapsed, leaving rubble everywhere. You can see blue sky above you. Amidst all the rubble there is a metal chest.\nThere's an exit to the north that leads back outside.",north:"loadRoom|Ruins/ruined-square-south",features:[{slug:"chest",altSlugs:["metal chest"],look:[{cmd:"ifFlag",args:["CHESTOPEN",[{cmd:"ifFlag",args:["TOOKFLASHLIGHT","It's a metal storage chest. It's badly dented and scuffed but still in one piece. There's nothing inside.","It's a metal storage chest. It's badly dented and scuffed but still in one piece. There's a heavy-duty flashlight inside."]}],"It's a metal storage chest. It's badly dented and scuffed but still in one piece. It's shut tight."]}],open:[{cmd:"ifFlag",args:["CHESTOPEN","It's already open!",["You clear some rubble off the top of the metal chest and open it. There's a heavy-duty flashlight inside.","setFlag|SAWFLASHLIGHT","setFlag|CHESTOPEN"]]}],close:[{cmd:"ifFlag",args:["CHESTOPEN",["You shut the metal chest.","unsetFlag|CHESTOPEN"],"It's already closed!"]}],use:{"":"You can't use that. Try opening it instead."}},{slug:"flashlight",destroyedFlag:"TOOKFLASHLIGHT",look:"It's a heavy-duty, blue metal flashlight.",take:["You take the flashlight from the metal chest.","setFlag|TOOKFLASHLIGHT","addItem|FLASHLIGHT"]}]},zo={name:"Inside the Hatch",coords:"Ruins C2",slug:"Ruins/bunker",description:"You're standing in a small, stone chamber at the bottom of a shaft, about 20 feet underground. A ladder attached to the wall of the shaft leads upward, back to the surface.",dark:!0,up:"loadRoom|Ruins/ruined-square-north",features:[{slug:"note",destroyedFlag:"TOOKNOTE",roomDesc:"There's a dust-covered note laying on the floor.",look:"callCommon|hatch_note_look|global-common",take:["setFlag|TOOKNOTE","addItem|HATCH_NOTE","You dust off the note and take it."]},{slug:"rune",altSlugs:["etavoner rune"],destroyedFlag:"TOOKRUNE",look:"The magical rune represents etavoner. You have no idea how you know this.",roomDesc:"Lying in the dust is a magical rune representing etavoner. You have no idea how you know that.",take:["You take the etavoner rune from the floor.","addItem|ETAVONER_RUNE","setFlag|TOOKRUNE"]}]},Qo={name:"Ruined Lab",coords:"Ruins C3",slug:"Ruins/lab",description:"You find yourself inside a ruined building that has been retrofitted into some sort of science lab. There are tables and shelves filled with all manner of glass bottles, instruments, and other scientific equipment. {rug}\nAn open doorway leads outside to the west.",west:"loadRoom|Ruins/ruined-square-south",down:[{cmd:"ifFlag",args:["G.LABRUGMOVED","loadRoom|Caves/lab-exit","You can't go that way."]}],features:[{slug:"poster",altSlugs:["anatomical poster"],roomDesc:"There's an anatomical poster of a bug hanging on the wall.",look:['The poster depicts a dissected giant hornet, pointing out what each of the internal organs is. The picture depicting a purple-ish sac is circled with red marker. It\'s labeled "pheromone sac".',"setFlag|G.SAWPOSTER"]},{slug:"rug",look:["ifFlagWrite|G.LABRUGMOVED|It's a very plain brown rug. It's been moved to the side.","ifFlagWrite|!G.LABRUGMOVED|It's a very plain brown rug. It sags downward into the floor in the middle."],notice:["ifFlagWrite|G.LABRUGMOVED|There's a brown rug near the corner of the room. It's been moved to the side, revealing a hole in the floor with a ladder that leads down into darkness.","ifFlagWrite|!G.LABRUGMOVED|There's a conspicuous brown rug on the floor near the corner of the room."],move:[{cmd:"ifFlag",args:["G.LABRUGMOVED","You kick the rug a little. It was pointless but made you feel better.",["You drag the rug to the side, revealing a hole in the floor with a ladder that leads down into darkness.","setFlag|G.LABRUGMOVED"]]}]},{slug:"table",altSlugs:["tables"],look:"The tables are made of rusty metal. They've got all kinds of scientific equipment on them."},{slug:"shelves",altSlugs:["shelf"],look:"The shelves are made of rusty metal. They've got all kinds of scientific equipment on them."},{slug:"equipment",altSlugs:["scientific equipment","instruments","bottles","glass bottles"],look:["You don't really know what any of this stuff is. It just looks rather sciencey. There are many glass bottles of every shape and size. Some are broken but most remain intact. {potion}","setFlag|SAWPOTION"]},{slug:"potion",altSlugs:["potion of healing","healing potion"],targetFlag:"SAWPOTION",destroyedFlag:"TOOKPOTION",look:'It\'s a glass bottle with a cork stopper. It has red liquid inside and a label that reads "potion of healing".',take:['You take the bottle labeled "potion of healing".',"addItem|POTION","setFlag|TOOKPOTION"],notice:['ifFlagWrite|!TOOKPOTION|One of the bottles is stoppered with a cork and has a red liquid inside. It\'s got a label that reads "potion of healing".'],use:{"":"Now's not the time. You might need it later."}}]},Xo={name:"A Grand Temple",coords:"Ruins B1",slug:"Ruins/temple",description:"You are standing inside a grand temple. The ceiling is held high above you by pillars. Faded tapestries on the walls depict angels and demons doing battle. Yellow banners hang from virtually every available space on the walls. Doorways on the sides of the main temple lead off to various other, unimportant areas like storage rooms, barracks, kitchens, mess halls, and the like. A large stone altar waits at the far north end of the hall atop a small flight of steps. Just behind it is a wall with a metal device affixed to it.\nThe main entrance leads to the south, back out to the ruined square.",south:"loadRoom|Ruins/ruined-square-north",down:[{cmd:"ifFlag",args:["G.TEMPLEOPEN","loadRoom|Caves/temple-exit","You can't go that way."]}],features:[{slug:"banner",altSlugs:["banners"],look:"The banners are long and tattered. They each depict a yellow griffin clutching a dozen red roses in its talons."},{slug:"altar",look:["ifFlagWrite|G.TEMPLEOPEN|It's pretty large and it's made of stone. It's shifted forward, revealing steps leading downward into darkness","ifFlagWrite|!G.TEMPLEOPEN|It's pretty large and it's made of stone."],roomDesc:[{cmd:"ifFlag",args:["G.TEMPLEOPEN","The altar is shifted forward, revealing steps leading downward into darkness.",null]}]},{slug:"merek",altSlugs:["man","knight"],roomDesc:"Sitting on the edge of the altar is... well, a knight. He's wearing dented and dirty plate armor and has a helmet sitting next to him.",look:"He's wearing dented, dirty plate armor and his helmet is sitting next to him. He doesn't have a weapon or shield with him. The tattered remains of a red cloak lays across his back. He's just sitting there staring off into space. It's like he hasn't even noticed you even though you're basically right in front of him. He occasionally mumbles to himself.",greet:'He doesn\'t seem to notice you but mumbles something. "...hunt them down... ...cleanse their souls..."',ask:[{cmd:"dialog",args:{"":'"..."',meredith:'"...hunter with golden hair... ...the brothers... ... ...it doth feed..."',arden:'"...elder brother... ...innocent... ... ...it doth watch..."',edra:'"...younger brother... ...the hunted... ... ...it doth wait..."',rhode:'"...my prey... ...nay... ...she alone... ...I could trust... ... ...it doth plan..."',ophelia:'"...the ambassador... ...the hunted... ...atop the black mountain... ...not what she doth appear... ... ...it doth fight..."',stanley:'"...hunter... ...doth pursue his prey... ...even still... ...atop the black mountain... ... ...it doth control..."',merek:'"..." He is silent for a long while. "...Merek... ...\'Tis I?... ...a fool..."',"order of the griffin|order|griffin":'"...hunters... ...hunting the wicked... ...nay... ...\'twas a ruse... ...the hunters misled... ...it lied..."',"temple|ruins":"\"...not real... ...'tis naught... ...but a memory... ...mine?... ...and others'...\"",island:'"...not real... ...made not of stone... ...but of shadows... ...shadows of memories... ...it keeps us here..."',it:'"...the warden... ...feeds on memories... ...memories of its prisoners..."'}}]},{slug:"device",altSlugs:["metal device"],look:[{cmd:"ifFlag",args:["G.TEMPLEOPEN","It's a metal base affixed to the wall. It's rounded and looks like it pivots up and down. It's currently pointed upward.","It's a metal base affixed to the wall. It's rounded and looks like it pivots up and down. It's currently pointed downward."]},{cmd:"ifFlag",args:["RODINSERTED","There's a rusty metal rod sticking out of it. You could probably use the device now.","There's a round opening in the front of it that is about an inch and a half in diameter."]}],use:{"":[{cmd:"ifFlag",args:["RODINSERTED",[{cmd:"ifFlag",args:["G.TEMPLEOPEN",["You grip the rusty metal rod and pull the lever downward with all your might and it clunks into the place. A moment later there is a grinding sound as the altar shifts back, sealing the stairway that leads down to darkness. The knight didn't seem to notice at all.","unsetFlag|G.TEMPLEOPEN"],["You grip the rusty metal rod and push the lever upward with all your might and it clunks into the place. A moment later there is a grinding sound as the altar shifts forward, revealing steps leading down to darkness. The knight didn't seem to notice at all.","setFlag|G.TEMPLEOPEN"]]}],"There's no way to use the device in its current state. It seems like there's something missing."]}],RUINS_ROD:["You slot the metal rod into the opening in the device. It fits perfectly!","removeItem|RUINS_ROD","setFlag|RODINSERTED"]}},{slug:"rod",targetFlag:"RODINSERTED",look:"It's a rusty metal rod sticking out of the device.",take:["You pull the metal rod out of the device and take it.","addItem|RUINS_ROD","unsetFlag|RODINSERTED"]}]},Jo={name:"Sand Dunes",coords:"Coast C1",slug:"Coast/dunes",description:"You're standing atop a sand dune. More dunes stretch out in every direction. Long, stiff grass grows in patches in places where it could take root. Various bugs skitter to and fro, leaving tiny little paths in the sand. It's pretty windy here. Far to the east on the beach, you can see a lighthouse.\nA trail through the dunes leads to the north toward a high ridge. To the south the dunes continue to a beach and beyond that, the ocean.",north:"loadRoom|Swamp/ridge",south:"loadRoom|Coast/beach-central",features:[{slug:"ridge",look:"It's grassy."},{slug:"bugs",look:"They're really sparse. You see a beetle and some ants. You'd guess there wouldn't be much to eat in the sand for the little critters."},{slug:"grass",look:"The trail leads downhill to the north before curving west and disappearing into the swamp. You're not looking forward to going back down there."},{slug:"dunes",altSlug:["sand","sand dunes"],look:"The dunes make rolling hills of sand. It might actually be fun to play around here if, you know, you weren't in constant danger and in fear for your life all the time."},{slug:"beach",look:"callCommon|see_beach|global-common"},{slug:"ocean",look:"callCommon|see_ocean|global-common"},{slug:"lighthouse",look:"callCommon|see_lighthouse_distant|global-common"}]},Zo={name:"White Sand Beaches",coords:"Coast C2",slug:"Coast/beach-central",description:"You're standing on a white sand beach. Shells cover the sand near the water. Waves from the sparkling blue ocean crash over the beach before receding. Far to the east you can see a lighthouse. The beach continues to the east and west. You could also travel north into the sand dunes.",north:"loadRoom|Coast/dunes",east:"loadRoom|Coast/beach-east",west:"loadRoom|Coast/beach-west",features:[{slug:"dunes",altSlug:["sand","sand dunes"],look:"callCommon|dunes_look|global-common"},{slug:"beach",look:"callCommon|see_beach|global-common"},{slug:"ocean",look:"callCommon|see_ocean|global-common"},{slug:"lighthouse",look:"callCommon|see_lighthouse_distant|global-common"},{slug:"shells",look:"There are shells of all different shapes and sizes. They've been washed white by the sun and smoothed by the ocean waves. None of them are particularly impressive, though."}]},ea={name:"White Sand Beaches, West",coords:"Coast B2",slug:"Coast/beach-west",description:"You're standing on a white sand beach. Shells cover the sand near the water. Waves from the sparkling blue ocean crash over the beach before receding. The beach continues to the east and west.",east:"loadRoom|Coast/beach-central",west:"loadRoom|Coast/shallow-bay",features:[{slug:"beach",look:"callCommon|see_beach|global-common"},{slug:"ocean",look:"callCommon|see_ocean|global-common"},{slug:"shells",look:"There are shells of all different shapes and sizes. They've been washed white by the sun and smoothed by the ocean waves. None of them are particularly impressive, though."}]},ta={name:"Shallow Bay",coords:"Coast A2",slug:"Coast/shallow-bay",description:"You're standing on a white sand beach at the shore of a shallow bay. Waves from the sparkling blue ocean crash over the beach before receding. The beach continues to the east and curves around the bay before turning south.",south:"loadRoom|Coast/bird-nest",east:"loadRoom|Coast/beach-west",features:[{slug:"beach",look:"callCommon|see_beach|global-common"},{slug:"ocean",look:"callCommon|see_ocean|global-common"},{slug:"bay",look:"It's a large bay, though it looks like it's only at most 10 feet deep. It cuts into the shoreline in a wide arc. It's at least a couple hundred feet across. The ocean water in the bay is really clear and you can see through it to the white, sandy bottom."},{slug:"birds",roomDesc:"You can see hundreds of birds flying around in the distance to the south.",look:"There are hundreds of gulls flying around!"}]},oa={name:"Gull Nesting Grounds",coords:"Coast A3",slug:"Coast/bird-nest",description:"You're standing on large, gray stone at the south end of the beach. The gray stone stretches out before you and is absolutely covered by seagulls and their nests. Just about everywhere you look is stained white by years of seagull poop.\nTo the north, you could head back to the beach.",north:"loadRoom|Coast/shallow-bay",features:[{slug:"beach",look:"callCommon|see_beach|global-common"},{slug:"ocean",look:"callCommon|see_ocean|global-common"},{slug:"seagulls",altSlugs:["birds"],look:"They're everywhere. Clouds of them are flying around in the air squawking, some are floating around in the ocean doing whatever it is seagulls do in the ocean, and still more sit in nests or look after their babies."},{slug:"giant seagull",roomDesc:"One, incredibly unnatural thing stands out immediately. In the midst of all the other seagulls, about a hundred feet away from you, is a giant nest with an absolutely, terrifyingly, massive seagull sitting in it. {shell}",look:"That is one big seagull. It's at least 16 feet tall! It could probably swallow you whole!"},{slug:"giant nest",altSlugs:["nest"],look:[{cmd:"ifFlag",args:["TOOKSHELL","It's huge! It's made up of all kinds of stuff. You can see branches, WHOLE TREES, bits of lumber, and even BONES!","It's huge! It's made up of all kinds of stuff. You can see branches, WHOLE TREES, bits of lumber, and even BONES! There's a large rainbow-colored shell, probably six inches in diameter, reflecting all the colors of the rainbow."]}]},{slug:"shell",altSlug:["rainbow shell","shiny"],destroyedFlag:"TOOKSHELL",notice:"Something shiny is reflecting the light from the nest.",look:"It's large and round and rainbow-colored. It's about a half-foot in diameter and reflects the sunlight. It's beautiful!",take:[{cmd:"ifFlag",args:["G.BIRDFRIEND",["As you head toward the giant nest, all the normal-sized seagulls tilt their heads and look at you with their beady little eyes. They must not be concerned with what they see because they just return to whatever birdy business they have.","You approach the giant nest. The giant seagull tilts its massive head and considers you with a giant, dull-witted eye. It tilts its head back and squawks a few earth-shatteringly-loud squawks into the sky. Then it tucks its huge head under its wing and goes to sleep.","You reach out and touch the rainbow shell. It's one of the most beautiful things you've ever seen. You tug it free from the nest and take it.","addItem|RAINBOW_SHELL","setFlag|TOOKSHELL"],"gameOver|As you head toward the giant nest, all the normal-sized seagulls squawk their complaints and take to the air to avoid you. Through the storm of seagulls, you approach the giant nest. The giant seagull tilts its head and considers you with a giant, dull-witted eye.\nYou reach out and touch the rainbow shell. It's one of the most beautiful things you've ever seen. You start to tug it free when you hear an earth-shatteringly-loud squawk whose force blows you from your feet. Ears still ringing, you scramble back to your feet and look up just in time to see the open maw of the giant seagull engulf you.\nYou kick and scream and lash outward but to no avail. The monster tilts its head back and thrusts its head up and down, swallowing you whole.\nIf only you were a friend to the birds..."]}]}]},aa={name:"White Sand Beaches, East",coords:"Coast D2",slug:"Coast/beach-east",description:"You're standing on a white sand beach. Shells cover the sand near the water. Waves from the sparkling blue ocean crash over the beach before receding. Far to the southeast you can see a lighthouse built atop a tall column of rock a little ways out into the ocean. The beach continues to the east and west.",east:"loadRoom|Coast/rocky-incline",west:"loadRoom|Coast/beach-central",features:[{slug:"beach",look:"callCommon|see_beach|global-common"},{slug:"ocean",look:"callCommon|see_ocean|global-common"},{slug:"lighthouse",look:"callCommon|see_lighthouse_distant|global-common"},{slug:"shells",look:"There are shells of all different shapes and sizes. They've been washed white by the sun and smoothed by the ocean waves. None of them are particularly impressive, though."},{slug:"boat",roomDesc:"On the sandy beach far from the ocean waves is a ruined boat.",look:["It's a small boat that could carry about eight people. There are holes smashed through the hull all over the place. Broken oars {sledge} have been tossed into the boat.","setFlag|SAWSLEDGE"]},{slug:"sledge",altSlugs:["sledgehammer"],targetFlag:"SAWSLEDGE",destroyedFlag:"TOOKSLEDGE",notice:"ifFlagWrite|!TOOKSLEDGE|and a sledgehammer",look:"It's a somewhat rusty sledgehammer. It looks like it could really do a lot of damage.",take:["You drag the sledgehammer off the boat and take it with you.","addItem|SLEDGE","setFlag|TOOKSLEDGE"]},{slug:"oar",altSlugs:["oars"],look:"They've been broken into pieces and left on the boat. They're useless."}]},na={name:"Rocky Incline",coords:"Coast E2",slug:"Coast/rocky-incline",description:"You're standing on a rocky incline. The sand here is mixed with small rocks of various sizes and the water crashes against a cliff face a dozen feet below you. To the southeast you can see a lighthouse built atop a tall column of rock a little ways out into the ocean.\nTo the west, you could head down the slope to the white, sandy beach. To the east, the incline continues steeply upward.",east:"loadRoom|Coast/rocky-trail",west:"loadRoom|Coast/beach-east",features:[{slug:"beach",look:"callCommon|see_beach|global-common"},{slug:"ocean",look:"callCommon|see_ocean|global-common"},{slug:"lighthouse",look:"callCommon|see_lighthouse_distant|global-common"}]},sa={name:"Rocky Trail Atop the Cliffs",coords:"Coast F2",slug:"Coast/rocky-trail",description:"You're standing on a rocky trail, high above the ocean. Cliffs fall away downward to the ocean at least seventy five feet below you. To the south you can see a lighthouse built atop a tall column of rock a little ways out into the ocean. The cliff extends to the south here, forming a peninsula\nThe rocky trail forks here. To the west, it heads downward. It continues to the east toward higher, rocky cliffs. It also heads south, out onto the peninsula formed by the cliffs, heading toward the lighthouse.",south:"loadRoom|Coast/peninsula",east:"loadRoom|Coast/rocky-cliffside",west:"loadRoom|Coast/rocky-incline",features:[{slug:"ocean",look:"callCommon|see_ocean|global-common"},{slug:"lighthouse",look:"callCommon|see_lighthouse_distant|global-common"},{slug:"cairn",roomDesc:"Just off the fork in the rocky trail stands a cairn of stacked stones, about 3 feet tall. The stones are covered in runic markings.",look:"The cairn stands only about a foot tall with stones covered in runic markings. There's quite a buildup of seagull poop on it.",touch:"callCommon|cairn_touch|global-common"}]},ra={name:"A Rocky Cliff Peninsula, High Above the Ocean",coords:"Coast F3",slug:"Coast/peninsula",description:"You're standing at the end of a peninsula on a rocky trail, at least eighty feet above the ocean below and a couple hundred feet away from the coastline. Just ahead of you the trail ends at the edge of the cliff. A hundred feet beyond that, across the open air you see the lighthouse, built atop a column of rock that's as tall as the cliff you're on.",north:"loadRoom|Coast/rocky-trail",south:[{cmd:"ifFlag",args:["BRIDGEREPAIRED","loadRoom|Coast/lighthouse-exterior","There's nothing but open air in that direction! It would be suicide!"]}],incant:{etavoner:[{cmd:"ifFlag",args:["BRIDGEREPAIRED",["You incant the Charm of Repairing but nothing happens."],["You incant the Charm of Repairing. The glimmering, spectral vision of a bridge grows more solid and a bridge made of light stretches across the chasm before you. It grows brighter and brighter until suddenly, with a flash, the light is gone and a new rope bridge spans all the way to the other side.","setFlag|BRIDGEREPAIRED"]]}]},features:[{slug:"ocean",look:"callCommon|see_ocean|global-common"},{slug:"lighthouse",look:"It's a tall, white lighthouse. The light is still working."},{slug:"posts",altSlugs:["post"],roomDesc:["ifFlagWrite|!BRIDGEREPAIRED|Two large, wooden posts are driven into the rocky surface here and there are frayed remains of thick rope tied to them. You can see the same across the chasm near the lighthouse."],look:["ifFlagWrite|!BRIDGEREPAIRED|They're driven into the ground with ropes tied to them. They must have anchored a rope bridge at one point.","ifFlagWrite|BRIDGEREPAIRED|They're driven into the ground, anchoring this side of the rope bridge."]},{slug:"glimmer",destroyedFlag:"BRIDGEREPAIRED",roomDesc:"There is a glimmer in the air causing the light to bend and shift. It spans all the way across the chasm.",look:"As the glimmer bends the light, you can see part of a ghostly image, mostly transparent, of a rope bridge extending partially across the chasm ahead of you."},{slug:"bridge",altSlugs:["rope bridge"],destroyedFlag:"!BRIDGEREPAIRED",roomDesc:"Two large posts are driven into the rocky surface near the edge of the cliff. A long rope bridge that looks basically brand new is anchored to it. The bridge is anchored in the same way across the chasm near the lighthouse.\nYou could travel south across the bridge to the lighthouse.",look:"It's a sturdy-looking rope bridge that spans the entire chasm."},{slug:"chasm",look:["The chasm is a hundred feet across from where you stand to the spire of rock with the lighthouse on it.","ifFlagWrite|!BRIDGEREPAIRED|There's a glimmer in the air that spans the entire length of the chasm."]}]},ia={name:"Precarious Ledge on a Cliff",coords:"Coast G2",slug:"Coast/rocky-cliffside",description:"You're standing on a precariously narrow ledge on the side of a sheer cliff face. Looking down about a hundred feet below you, you see the ocean waves pounding against jagged rocks. It's a long way down. Seagulls hover in the air, coasting on the updraft and squaking incessantly. There's a cave opening here, in the side of the cliff that leads to darkness.\nYou could sidle your way to the west, back onto the rocky trail or you could head north into the darkness of the caves.",north:"loadRoom|Caves/coast-exit",west:"loadRoom|Coast/rocky-trail",features:[{slug:"ocean",look:"callCommon|see_ocean|global-common"},{slug:"seagulls",look:"They're white with little yellow feeties."}]},la={name:"Lighthouse, Exterior",coords:"Coast F4",slug:"Coast/lighthouse-exterior",description:"You're standing outside the lighthouse, high atop a spire of stone about a hundred feet above the crashing waves of the ocean and a few hundred from shore. It's really windy here! There's a red door that would let you enter the lighthouse.",north:"loadRoom|Coast/peninsula",features:[{slug:"lighthouse",look:"It's tall and white. The light at the top is still working. Little rectangular windows dot the exterior of the tower all the way up to the top.",enter:"loadRoom|Coast/lighthouse-1f"},{slug:"door",look:"It's a solid wood door painted red. It would let you enter the lighthouse."},{slug:"ocean",look:"callCommon|see_ocean|global-common"}]},ha={name:"Lighthouse, First Floor",coords:"Coast E4",slug:"Coast/lighthouse-1f",description:"You're inside the lighthouse, on the first floor. It's a single, medium sized room. There's a bed, a small fireplace, a small kitchen, a table and chair, and spiral stairs that leads upward.\nThe front door is to the north, leading back outside.",north:"loadRoom|Coast/lighthouse-exterior",up:"loadRoom|Coast/lighthouse-2f",features:[{slug:"fireplace",look:"It's a little fireplace with a chimney. There's a small pile of firewood next to it. There are scant few traces of ash inside. It doesn't look like it's been used in a very long time."},{slug:"kitchen",look:"It's a small, simple kitchen. There's a wooden trough and a couple pots and pans. Nothing too exciting."},{slug:"table",look:"It's very table-like."},{slug:"chair",look:"It's a chair. You're pretty sure because you've seen lots of them in your lifetime.",sit:"You sit down at the table. You try to imagine what it must have been like to live here all alone, tending the light. After your contemplation you stand back up."},{slug:"bed",look:["It's a single. It doesn't look very comfortable. It's got a heavy, brown wool blanket on it and a pillow.","setFlag|SAWPILLOW"]},{slug:"blanket",look:"It's a heavy, brown wool blanket."},{slug:"pillow",targetFlag:"SAWPILLOW",look:["It's little more than a burlap sack stuffed with rotting hay.","ifFlagWrite|!TOOKKEY|Upon inspection, you notice there's an iron key underneath it.","setFlag|SAWKEY"]},{slug:"stairs",altSlugs:["staircase"],look:"The metal stairs spiral around and around inside the tower of the lighthouse and lead all the way to the top."},{slug:"iron key",altSlugs:["key"],targetFlag:"SAWKEY",destroyedFlag:"TOOKKEY",look:"It's an iron key.",take:["You take the iron key from under the pillow.","addItem|LIGHTHOUSE_KEY","setFlag|TOOKKEY"]}]},ua={name:"Lighthouse, Below the Light",coords:"Coast D4",slug:"Coast/lighthouse-2f",description:"You're inside the lighthouse, standing on the spiral stairs just below where the main light is kept. The spiral stairs lead back down to the first floor and there's a ladder that leads to a trapdoor above you. There's a very sturdy looking padlock on it. {padlock}",up:[{cmd:"ifFlag",args:["OPEN","loadRoom|Coast/lighthouse-light","You can't reach the light until you've unlocked the trapdoor."]}],down:"loadRoom|Coast/lighthouse-1f",features:[{slug:"trapdoor",look:"It's made of solid wood. There's a very sturdy looking padlock on it."},{slug:"padlock",notice:["ifFlagWrite|!OPEN|It's locked tight.","ifFlagWrite|OPEN|It's unlocked."],look:["ifFlagWrite|!OPEN|It looks very sturdy and it's locked tight.","ifFlagWrite|OPEN|It looks very sturdy and it's unlocked."],use:{LIGHTHOUSE_KEY:["The iron key fits the padlock perfectly. You unlock it. You have no further use of the iron key so you discard it.","removeItem|LIGHTHOUSE_KEY","setFlag|OPEN"]}}]},da={name:"Lighthouse, Light",coords:"Coast C4",slug:"Coast/lighthouse-light",description:"You're standing at the topmost point of the lighthouse in the glass-enclosed area with the giant, rotating light. There's a trapdoor that leads downward.",down:"loadRoom|Coast/lighthouse-2f",_common:{need_potion:'"Ionyne know human make potions. Need potion. Please." She winces in pain.'},features:[{slug:"light",look:"The blindingly bright light is encased in lenses and rotates slowly. You don't see any gears or machinery so you're not sure how it's working.",use:{LIEVNU_RUNE:['You hold the rune between thumb and forefinger, arm outstretched toward the light. The light slowly circles until is washes of you. You shield your eyes with your other hand and the light soon passes. The rune is gone, leaving nothing but a few motes of light in the air. The memory returns to you suddenly, as though you\'ve always known it. You can now "incant lievnu", the Charm of Revealing!',"callCommon|after_learn_incant|global-common","removeItem|LIEVNU_RUNE","setFlag|G.LIEVNU"]}},{slug:"woman",altSlugs:["harpy","bird","bird person","bird woman","ionyne"],destroyedFlag:"G.BIRDFRIEND",roomDesc:[{cmd:"ifFlag",args:["LEARNNAME","Ionyne's here. She's a feathered woman with wings instead of arms. She's laying on the floor, curled into a ball. One of her wings is broken. She looks up at you, pitiably.","There's someone else here! A feathered woman with wings instead of arms lays on the floor, curled into a ball. One of her wings is broken. She looks up at you in fear."]}],look:"She's a woman but covered in feathers and with wings instead of arms! Instead of feet she has sharp talons. One of her wings looks broken.",greet:[{cmd:"ifFlag",args:["FRIEND",'"Ionyne friend return," she says, holding her broken wing. "Ionyne need help. Wing broken."',['She scrambles away from you, her broken wing flopping sickeningly. "Please. No hurt Ionyne," she says, in a shrill, squawking voice. "Or... you friend?"',"setFlag|LEARNNAME",{cmd:"choice",args:['"Ionyne not understand. You friend?"',["yes","no"],{yes:['She visibly relaxes. "Oh. Ionyne need help. Wing broken."',"setFlag|FRIEND"],no:'"Go then. Leave Ionyne!" She shrieks in her shrill voice.'}]}]]}],ask:[{cmd:"dialog",args:{"":'"Ionyne not understand. Wing broken, please help. Please!"',"help|wing|broken wing|wings|broken wings":'"Ionyne wing broken," she says, pitiably. "No fly. Need healing. Ionyne know human make potions. Need potion. Please. If have, please give. Give and be bird friend. Please. Please!" She winces in pain.',healing:"callCommon|need_potion","ionyne|herself":'"Ionyne is Ionyne. No hurt Ionyne more," she says in her shrill voice.'}}],give:{"":['"Ionyne not need that!" She squawks.',"callCommon|need_potion"],POTION:['You take out the glass bottle of red liquid labeled "potion of healing". "Yes, yes!" Ionyne squawks in her shrill voice excitedly. "That it! Please! Please! Give!" She tilts her head back and opens her mouth.',"You uncork the bottle and she drinks the entirety of its contents. Within moments the fractured bone in her wing sets itself and heals completely. Ionyne stands up, reaching her full height of four and a half feet.",'She opens and closes her wings slowly. "Yes, yes! Pain gone! Wing fix! Thank you! Thank you!" She moves to one of the glass panels and pushes on it, opening it. She turns back to you and speaks once more in her shrill voice. "Thank you! Ionyne tell all birds. You bird friend now! Thank you!"',"With that, she leaps out the window, spreads her wings, and takes flight, disappearing into the sky.","removeItem|POTION","addItem|BOTTLE","setFlag|G.BIRDFRIEND"]}}]},ca={name:"Cavern With Steps Leading Upward",coords:"Caves D4",slug:"Caves/temple-exit",north:"loadRoom|Caves/narrow-passage",up:[{cmd:"ifFlag",args:["G.TEMPLEOPEN","loadRoom|Ruins/temple","You can't go that way."]}],dark:!0,description:"You're in a dry, rocky cave. It looks like it is a natural cave but was widened manually--you can see the tool marks on the walls and floor. A set of stones is cut into the wall leading upward. There's also a passage that leads to the north."},ga={name:"Cave to the Ocean Cliffs",coords:"Caves G6",slug:"Caves/coast-exit",north:"loadRoom|Caves/bat-den",south:"loadRoom|Coast/rocky-cliffside",description:"You're in a small, rocky cave. It smells of salt and seagulls. Light filters in from the south, revealing a chamber of rough gray stone. There are long-abandoned bird nests all over the chamber's floor.\nTo the south, the cave opens up to the ocean air and heads out onto a ledge. To the north, it continues into darkness.",features:[]},ma={name:"Basement With Ladder Leading Upward",coords:"Caves F5",slug:"Caves/lab-exit",up:[{cmd:"ifFlag",args:["G.LABRUGMOVED","loadRoom|Ruins/lab","There's a rug covering the opening in the ceiling. You'd have to move it first."]}],east:"loadRoom|Caves/bat-den",dark:!0,description:"You're in a stone basement. The basement continues to the east where the worked stone gives way to a natural cavern. A ladder leads upward to the ceiling.",features:[{slug:"rug",destroyedFlag:"G.LABRUGMOVED",roomDesc:"ifFlagWrite|!G.LABRUGMOVED|There's a brown rug covering the opening above the ladder. It would be easily moved.",move:["setFlag|G.LABRUGMOVED","You climb part way up the ladder and push the rug to the side. You could now go upward into whatever is above you."]}]},fa={name:"The Bat Cave",coords:"Caves G5",slug:"Caves/bat-den",dark:!0,north:[{cmd:"ifFlag",args:["WALLDESTROYED","loadRoom|Caves/cache","You can't go that way."]}],west:"loadRoom|Caves/lab-exit",south:"loadRoom|Caves/coast-exit",description:"You're in a large, damp cave. Stalactices hang from the ceiling, with stalagmites reaching up toward them from the wet cavern floor. Some meet in the middle forming thick spires of minerals that reach from the floor to ceiling. The floor is uneven and slippery. Bowl-like depressions in the cavern floor lead to wide holes that fall away to darkness below you. The chamber has an opening to the west and another to the south.",incant:{eltnamsid:[{cmd:"ifFlag",args:["WALLDESTROYED","You quietly incant the Charm of Destruction but nothing happens.",["You quietly incant the Charm of Destruction. The faint glimmer running through the cracks in the northern chamber wall spreads outward in all directions. The glimmer begins to fade away, starting at the center of the wall. As it does, you realize that the stone is disappearing with it! The glimmer quickly and silently eats away a large section of the wall before disappearing completely.\nThere is a chamber to the north, through the newly formed passage.","setFlag|WALLDESTROYED"]]}]},features:[{slug:"hole",altSlugs:["holes"],look:"These must be those bottomless pits you've always heard about. You'd best watch your step."},{slug:"bats",roomDesc:"Hundreds of small, dark figures hang from the rough cave ceiling. Some study you with beady little eyes. They listen intently for any sign of trouble.",look:"There are hundreds of them. Every time you shuffle your feet or take a step, dozens of them open their beady little eyes and look around."},{slug:"wall",altSlugs:["north wall"],roomDesc:[{cmd:"ifFlag",args:["WALLDESTROYED","The northern wall of the chamber has a large hole in it, leading to another chamber to the north.","The northern wall of the chamber looks weak. It has fractures snaking across it like a spiderweb. In the shadowly light, you see a faint glimmer all about the wall."]}],look:"It has fractures snaking across it like a spiderweb. In the shadowly light, you see a faint glimmer all about the wall.","smash|kick|break|destroy":"There's no way you'd be able to damage it with your bare hands.",use:{SLEDGE:["You take a tight grip on the handle of the heavy sledgehammer and pull back, tightening all your muscles. You swing forward, crashing the sledgehammer into the weakened wall with all your might!",{cmd:"waitForInput",args:"gameOver|Before the onslaught of your mightly blow, the cracked wall stood no chance. It collapses in a heap of stone, sending a cloud of dust into the air. The sound shatters the silence of the cavern and reverberates off the walls, amplifying it. It's quickly followed by the sound of hundreds of screeching bats and flapping wings. Before you even have time to react, they're all around you, clawing and biting. You flail your arms and stumble under the weight of dozens of bats. You manage a few steps backwards before falling.\nYou brace for impact with the ground but it never comes. You fall backward into one of the large holes in the cavern floor and begin falling. The bats leave you be, now, and flap away. You continue to fall, tumbling through the air as it rushes past you. Somewhere along the way you lost your flashlight so you fall in utter darkness.\nIs this really a bottomless pit? You fall for at least 30 seconds before you get your answer. You strike the rocky ground, shattering every bone in your body, dying instantly.\nIf only you had a quieter way to destroy the wall..."}]}},{slug:"glimmer",look:"The faint glimmer dances and plays across the wall and all throughout the fractures snaking across it."}]},ya={name:"Very Narrow Passage",coords:"Caves D3",slug:"Caves/narrow-passage",north:"loadRoom|Caves/pit-chamber",south:"loadRoom|Caves/temple-exit",dark:!0,description:"You're squeezing through a very narrow, twisting passage. It's only a couple feet wide and you have to literally drag yourself forward just to make any progress. The passage heads north and south."},pa={name:"The Pit",coords:"Caves D2",slug:"Caves/pit-chamber",south:"loadRoom|Caves/narrow-passage",east:"loadRoom|Caves/moist-cavern",west:"loadRoom|Caves/chasm",dark:!0,description:"You find yourself in a massive chamber. You can't even guess how far across it is. You're standing on a ledge that's around 10 feet wide. It circumnavigates a gigantic pit that falls away into utter blackness. The ledge circles the entire chamber.\nYou can see passages that leads to the east, west, and south.",features:[{slug:"pit",look:"It nearly fills the entire chamber, save for the ledge jutting out from the cavern walls. You can't even begin to imagine how deep this pit must be."},{slug:"ledge",look:"It's a rocky outcropping sticking out from the wall. It's the only floor in this chamber. It's uneven and dangerous. You'd best watch your step!"},{slug:"cairn",roomDesc:"A small cairn stands here on the ledge. It's hardly a cairn at all--it's only a foot tall. Nevertheless, it's covered in runic markings.",look:"It's a really small cairn. It's only a foot tall. The stones are covered in arcane markings.",touch:"callCommon|cairn_touch|global-common"}]},wa={name:"Moist Cavern",coords:"Caves E2",slug:"Caves/moist-cavern",west:"loadRoom|Caves/pit-chamber",dark:!0,description:"You're standing in a cavern filled with stalactites and stalagmites. There are so many that you can't even cross the chamber. Everything in here is slick and moist, reflecting the light of your flashlight. It smells like mildew here.",features:[{slug:"crumpled note",altSlugs:["note","paper","crumpled note"],destroyedFlag:"TOOKNOTE",roomDesc:"There's a soggy, crumpled piece of paper on the ground here.",look:["callCommon|crumpled_note|global-common","You crumple the note back up and put it back where you found it."],take:["You take the crumpled note from the floor and pocket it.","addItem|MEREDITH_NOTE1","setFlag|TOOKNOTE"]}]},ba={name:"Underground Chasm",coords:"Caves C2",slug:"Caves/chasm",south:[{cmd:"ifFlag",args:["BRIDGEFIXED","loadRoom|Caves/weight-puzzle","You can't get there from here. The stone arch is broken."]}],east:"loadRoom|Caves/pit-chamber",dark:!0,description:["You're standing on a ledge overlooking a wide chasm that bisects the room, separating passages that head east and south."],incant:{etavoner:[{cmd:"ifFlag",args:["BRIDGEFIXED",["You incant the Charm of Repairing but nothing happens."],["You incant the Charm of Repairing. The glimmering, spectral vision of the stone arch grows brighter and more solid until finally, with a silent flash of light, it disappears completely. Once your vision clears you can see that the stone arch appears whole again.","setFlag|BRIDGEFIXED"]]}]},features:[{slug:"stone arch",altSlugs:["arch"],roomDesc:[{cmd:"ifFlag",args:["BRIDGEFIXED","A narrow, natural stone arch spans the gap across the chasm.","A narrow, natural stone arch once spanned the gap across the chasm, but its middle is broken and missing. The broken ends of the stone arch glimmer and you can faintly see a ghostly echo of what once was."]}],look:[{cmd:"ifFlag",args:["BRIDGEFIXED","It's probably safe enough to let you cross. You can exit the cavern to the east or south.","The stone arch is broken and doesn't make it all the way across. The broken ends of the stone arch glimmer and you can faintly see a ghostly echo of what once was."]}]}]},ka={name:"Silent Chamber",coords:"Caves C3",slug:"Caves/weight-puzzle",north:"loadRoom|Caves/chasm",west:[{cmd:"ifFlag",args:["G.WEIGHTPUZZLESOLVED","loadRoom|Caves/mushrooms","You search around the rectangular inset in the western wall trying to find a latch or lever or handle. You can't. The way is blocked for now."]}],dark:!0,description:"You are in a roughly rectangular chamber. The walls and floor are rough and uneven, but toward the west they look to be tooled and evened out. {west}\nAbout six feet before the western wall is a statue depicting a featureless human being holding a set of metal scales out in front of them.",_common:{scales_even:["The scales bob up and down but eventually they grow still. They're perfectly weighted! You hear a clunk and then the sound of grinding stone. The inset in the western wall pushes inward and then slides to the side, revealing a passage through it to the west.","setFlag|G.WEIGHTPUZZLESOLVED"],scales_heavy:["The scales bob up and down but eventually they grow still. The item you placed in them is heavier than the stone bottle."],scales_light:["The scales bob up and down but eventually they grow still. The item you placed in them is lighter than the stone bottle."]},features:[{slug:"west",notice:[{cmd:"ifFlag",args:["G.WEIGHTPUZZLESOLVED","The western cavern wall has a rectangular passage through it, leading to the west.","The western cavern wall is tooled flat and there's a section that is inset like it's a door but there's no handle."]}]},{slug:"statue",look:"The face and body are featureless. It holds a set of metal scales out in front of them."},{slug:"scales",altSlugs:["metal scales","scale"],look:["The scales look like they work.","ifFlagWrite|!POTIONIN&!EMPTYIN&!WATERIN|One side is empty and the other has a carved stone bottle on it. The side with nothing on it is much lighter than the stone bottle.",'ifFlagWrite|POTIONIN|One side has a glass bottle of red liquid on it labeled "potion of healing" and the other has a carved stone bottle on it. The side with the potion is heavier than the stone bottle.',"ifFlagWrite|EMPTYIN|One side has an empty glass bottle on it and the other has a carved stone bottle on it. The side with the empty bottle is lighter than the stone bottle.","ifFlagWrite|WATERIN|One side has a glass bottle of water on it and the other has a carved stone bottle on it. The two sides are perfectly balanced."],use:{"":"To use the scales, you'd have to put something on it.",BOTTLE_OF_WATER:["You place the bottle of water onto the empty scale.","callCommon|scales_even","removeItem|BOTTLE_OF_WATER","setFlag|WATERIN"],POTION:["You place the bottle of red liquid onto the empty scale.","callCommon|scales_heavy","removeItem|POTION","setFlag|POTIONIN"],BOTTLE:["You place the empty glass bottle onto the empty scale.","callCommon|scales_light","removeItem|BOTTLE","setFlag|EMPTYIN"]}},{slug:"stone bottle",altSlugs:["carved stone bottle"],look:"It looks like a corked bottle but it's carved from solid stone. It's even got a carved label on it. It's hard to make out but you think it says \"potion of healing\". It gives off a very faint light. Maybe it's somehow magical.",take:"You try to take the stone bottle but you can't separate it from the scales. It's stuck somehow."},{slug:"empty bottle",altSlugs:["bottle"],destroyedFlag:"!EMPTYIN",look:"It's an empty glass bottle with a cork stopper. It's labeled \"potion of healing\".",take:["You take the empty glass bottle out of the scales.","addItem|BOTTLE","unsetFlag|EMPTYIN"]},{slug:"potion",altSlugs:["potion of healing"],destroyedFlag:"!POTIONIN",look:'It\'s a glass bottle with a cork stopper. It has red liquid inside and a label that reads "potion of healing".',take:["You take the glass bottle of red liquid out of the scales.","addItem|POTION","unsetFlag|POTIONIN"]},{slug:"bottle of water",altSlugs:["bottle"],destroyedFlag:"!WATERIN",look:"It's an glass bottle with a cork stopper filled with water. It's labeled \"potion of healing\".",take:["You take the glass bottle of water out of the scales.","addItem|BOTTLE_OF_WATER","The scales shift. The side with the stone bottle falls to the bottom and with a clunk and grinding noise, the western passage seals itself.","unsetFlag|G.WEIGHTPUZZLESOLVED","unsetFlag|WATERIN"]}]},va={name:"Mushroom Forest",coords:"Caves B3",slug:"Caves/mushrooms",north:"loadRoom|Caves/sunless-lake",east:[{cmd:"ifFlag",args:["G.WEIGHTPUZZLESOLVED","loadRoom|Caves/weight-puzzle","The eastern passage is sealed shut from the other side."]}],west:"loadRoom|Caves/forest-exit",dark:!0,description:"This cavern chamber is about 20 feet tall and quite large. It's filled with a dense forest of mushrooms. Hundreds and hundreds of different types of mushrooms grow here. Most are the size of mushrooms you've seen before but many others are the size of bushes. Many more are even the size of trees! It's impossible to see through the dense mushroom forest.\nAfter exploring a little, you find a passage that leads to the west, another that leads to the north, and {east}",features:[{slug:"cairn",roomDesc:"A small cairn stands amongst the mushrooms.",look:"It's a little moldy. The stones are covered in runes.",touch:"callCommon|cairn_touch|global-common"},{slug:"east",notice:[{cmd:"ifFlag",args:["G.WEIGHTPUZZLESOLVED","another rectangular passage through the eastern wall.","another rectangular passage through the eastern wall that seems sealed from the other side."]}]},{slug:"mushrooms",altSlugs:["mushroom"],look:["They come in ever shape, size, and color. They range in size from clusters of tiny ones all the way up to huge ones that are the size of trees! Everything seems safe enough and you could move through the cavern without having to touch any of them.","ifFlagWrite|!TOOKNOTE|Concealed behind a patch of large mushrooms is a moldy note.","setFlag|SAWNOTE"],touch:["You reach out to touch a random, nearby mushroom. Just before you lay your hand on it you begin to have second thoughts. Oh well, you've come this far and you've made up your mind. You poke the mushroom right in its cap.","Nothing happens for a moment but then it shudders suddenly, sending a fog of spores outward!",{cmd:"waitForInput",args:["You quickly jump back away from the cloud! You decide that letting the spores touch you or breathing them in would probably be a very bad idea. You wait until the cloud settles to the floor before continuing."]}]},{slug:"note",altSlugs:["moldy note"],targetFlag:"SAWNOTE",destroyedFlag:"TOOKNOTE",look:"It looks a little moldy. You think you could take it without disturbing the mushrooms.",take:["You carefully reach around the cluster of mushrooms and take the moldy note.","addItem|MOLDY_NOTE","setFlag|TOOKNOTE"]}]},Ta={name:"Sunless Lake",coords:"Caves B2",slug:"Caves/sunless-lake",south:"loadRoom|Caves/mushrooms",dark:!0,description:["You're standing on the black sand shore of an underground lake. The light from your flashlight can't hope to reveal its vastness. The water is dark and still. There's nowhere to go except back to the south, through the passageway.","Shoe prints in the black sand lead from the south and end at a pair of green sneakers set carefully near the water. There are bare footprints in the black sand near them that head into the water."],features:[{slug:"sneakers",altSlugs:["shoes"],look:"They're a pair of green women's sneakers, size 8."},{slug:"footprints",altSlugs:["footprint"],look:"It looks like someone took off their shoes and walked into the lake..."},{slug:"note",altSlugs:["folded note"],destroyedFlag:"TOOKNOTE",roomDesc:"Set atop the sneakers is a folded note.",look:"callCommon|folded_note|global-common",take:["You take the folded note.","addItem|FOLDED_NOTE","setFlag|TOOKNOTE"]}]},Ia={name:"Shrouded Cavern",coords:"Caves A3",slug:"Caves/forest-exit",south:"loadRoom|Forest/forest-cave-entrance",north:"loadRoom|Caves/bottom-of-shaft",east:"loadRoom|Caves/mushrooms",dark:!0,description:["You're standing in a shrouded cavern. Almost no light at all filters in through all the thick forest growth covering the south exit. Some small critters must have made this cavern their home. Dead grasses and leaves are heaped into nests near the corners of the small chamber. Rat droppings are basically everywhere. It's an unpleasant smell.","You could head south through the underbrush or through either of the rocky passages that head east and north."],features:[{slug:"nests",altSlugs:["nest","grass","grasses","droppings"],look:"The nests stink. You don't see any critters in them at the moment."},{slug:"underbrush",look:"The thick underbrush covers the southern exit, blocking most of the light. You can push through it just fine, though."}]},Ea={name:"Bottom of a Vertical Shaft",coords:"Caves A2",slug:"Caves/bottom-of-shaft",up:["You grab the lowest ledge and pull yourself up onto it. It's going to be a long climb.",{cmd:"waitForInput",args:["loadRoom|Caves/precarious-ledge"]}],south:"loadRoom|Caves/forest-exit",dark:!0,description:["You're standing at the bottom of extremely tall vertical shaft. You can see handholds and ledges along the wall heading upward higher than what your flashlight allows you to see. The cavern floor is jagged and uneven. There are shattered bones littering the cavern floor.","There is a passage leading to the south. You could probably head up as well, though it will be a tough climb."],features:[{slug:"ledges",altSlugs:["handholds","handhold","ledge"],look:"They look dangerous but there's enough of them that you'd be able to head upward."},{slug:"bones",look:"You think they're human. They're smashed to bits. Looks like they fell from a great height..."}]},Sa={name:"Precarious Ledge",coords:"Caves A1",slug:"Caves/precarious-ledge",up:["You grab the lowest ledge and pull yourself up onto it. It's going to be a long climb.",{cmd:"waitForInput",args:["loadRoom|Mountain/caves-entrance"]}],down:["You carefully lower yourself onto the ledge below you. It's going to be a long descent.",{cmd:"waitForInput",args:["loadRoom|Caves/bottom-of-shaft"]}],dark:!0,description:["After a long, arduous climb, you find yourself on a precarious ledge on a rocky wall in an immensely tall vertical shaft. Your arms and legs are sore and your lungs are burning. The ledge is large enough to sit down and rest so you decide to do so. You carefully sweep your flashlight up and down and can't see the top or bottom of the shaft.","More handholds and ledges lead upward and downward into the darkness."],features:[{slug:"cairn",roomDesc:"There's a tiny cairn on this ledge. It's actually only made of 3 stones stacked atop each other.",look:"The stones are covered in tiny runic markings.",touch:"callCommon|cairn_touch|global-common"}]},Oa={name:"Hidden Cache",coords:"Caves G4",slug:"Caves/cache",south:"loadRoom|Caves/bat-den",dark:!0,description:["You're standing in a small chamber with an uneven floor. It's about 10 feet across but the ceiling is only 5' high. You have to stoop just to be in here.",{cmd:"ifFlag",args:["TOOKBOX","There's nothing in the chamber except silence and dust.","There's a bunch of pieces of a small, broken silver box laying near each other on the uneven cavern floor."]}],features:[{slug:"box",altSlugs:["broken silver box","silver box"],destroyedFlag:"TOOKBOX",look:"callCommon|broken_box_look|global-common",take:["You gather up the pieces of the broken box and take them with you.","addItem|BROKENBOX","setFlag|TOOKBOX"]}]},Ra={name:"Campsite at the Cliffside",coords:"Mountain B1",slug:"Mountain/campsite",south:"loadRoom|Mountain/winding-path",west:"loadRoom|Mountain/grand-steps",description:["You're at the edge of a steep precipice. There's an abandoned old campsite here. There's a bunch of black stones arranged in a circle but it's so old there's no sign of ash. Perhaps the chill winds up here carried it away. Instead, there is a small pile of runic stones in the center, forming a small cairn. Naught but scraggy bushes grow here.","The narrow path circles around the side of the mountain, heading south. Another, narrower path follows a cliff ledge and heads upward to the west."],features:[{slug:"cairn",look:"It is sloppily made. Some of the stones have spilled out from the stack but it still stands.",touch:"callCommon|cairn_touch|global-common"},{slug:"pouch",altSlugs:["leather pouch"],roomDesc:"Caught in the branches of the scraggly bush you spot a small leather pouch.",look:[{cmd:"ifFlag",args:["TOOKRUNE","It's a ragged old pouch. There's nothing inside.",["You peek inside the pouch. There's a small rune inside.","setFlag|SAWRUNE"]]}],take:[{cmd:"ifFlag",args:["TOOKRUNE","It's too small and ragged to be of any use so you leave it behind.","You should look at it to check what's inside first."]}]},{slug:"parchment",destroyedFlag:"TOOKNOTE",roomDesc:"Also tangled amidst the scraggly bush is a bit of parchment.",look:"callCommon|parchment_look|global-common",take:["You take the bit of parchment with you.","addItem|PARCHMENT","setFlag|TOOKNOTE"]},{slug:"rune",targetFlag:"SAWRUNE",destroyedFlag:"TOOKRUNE",look:"You can't quite make out what it says. You'd have to take it first.",take:["setFlag|TOOKRUNE","You take the rune out of the bag and turn it over in your hand. It's a magical rune representing eltnamsid. How did you know that?!","Somehow, you know this rune is important so you take it with you.","addItem|ELTNAMSID_RUNE"]}]},Ya={name:"Top of the Vertical Shaft",coords:"Mountain D6",slug:"Mountain/caves-entrance",west:"loadRoom|Mountain/steep-rocky-incline",down:["You carefully lower yourself onto the first ledge below. It's going to be a long descent.",{cmd:"waitForInput",args:["loadRoom|Caves/precarious-ledge"]}],dark:!0,description:"You stand at the edge of a vertical shaft that heads downward into darkness. With your flashlight you can see that there are copious handholds and ledges along the surface of it, leading downward into darkness. A passage leads out of the cave to the west, out onto the side of a black mountain."},Aa={name:"Grand Steps",coords:"Mountain A1",slug:"Mountain/grand-steps",up:"loadRoom|Mountain/summit",east:"loadRoom|Mountain/campsite",description:["You are standing at the bottom of a grand set of steps carved directly out of the black surface of the mountain. The steps number in the hundreds. Looking up toward the top of the steps you can see flashing lights and you can hear crackling like electricity. Looking up toward the summit gives you an uneasy feeling.","The grand steps lead up toward the summit. There is also a narrow ledge that leads back to the east, spiraling around the mountain."]},Ca={name:"Small Mountain Lake",coords:"Mountain B6",slug:"Mountain/lake",north:"loadRoom|Mountain/maze-south",east:"loadRoom|Mountain/steep-rocky-incline",description:["You're standing at the edge of a lake a few hundred feet across. The water is the clearest you've ever seen. It's hard to tell how deep it is because you can hardly see the water! The lakebed is made of the same black stone that the rest of the mountain is made of.","The black, rocky terrain prevents most vegetation from growing here. It's completely devoid of trees, although various grasses and plants grow near the water's edge.","Around the lake, to the north, there is a colossal black gate that leads into a black labyrinth. A steep path leads to the east, descending back down the mountain."],features:[{slug:"gate",look:"The gate is open, permitting entry to the north into the black labyrinth."},{slug:"labyrinth",altSlugs:["maze","black labyrinth"],look:"You can only see inside through the open gate. Its outer walls are made of black stone like the rest of the mountain. Even from here you can see a maze of passages inside, though it appears there's a straight path going all the way to the other side of the maze."},{slug:"water",altSlugs:["lake","tarn"],look:"It's so clear it's basically invisible!"},{slug:"grasses",altSlugs:["grass"],look:"The grass is long and rigid. It's a blackish green color."},{slug:"plants",look:["There are various blackish-green bushes, shrubs, flowers, and white-leafed plants.","setFlag|SAWROOT"]},{slug:"white-leafed plant",altSlugs:["white plant","plant","tarnroot"],look:"It's a small plant with white leaves growing out of the rocky ground.",take:[{cmd:"ifFlag",args:["TOOKROOT","You've already taken one and you don't think you need another.",["setFlag|TOOKROOT","addItem|TARNROOT","You kneel down on the black, rocky ground and bundle the leaves together. You grip them all together as low as you can and you uproot the plant. It's root is thick and brown and two-pronged. You take the root with you."]]}]}]},Fa={name:"Labyrinth, Central Plaza",coords:"Mountain B4",slug:"Mountain/maze-center",north:"loadRoom|Mountain/maze-north",south:"loadRoom|Mountain/maze-south",east:"callCommon|maze_enter|global-common",west:"callCommon|maze_enter|global-common",description:["You're standing in the center of the labyrinth halfway through a wide passage that connects the northern and southern gates. It's a straight shot through this labyrinth. That doesn't strike you as particularly labyrinthine.","Side passages to the east and west lead into twisting, turning passages. The wide passage also leads south toward the southern gate or north to the northern gate."]},_a={name:"Labyrinth, North Gate",coords:"Mountain B3",slug:"Mountain/maze-north",north:"loadRoom|Mountain/winding-path",south:"loadRoom|Mountain/maze-center",east:"callCommon|maze_enter|global-common",west:"callCommon|maze_enter|global-common",description:["You're standing just inside the labyrinth, near the northern gate. There's a wide passage straight ahead of you that leads all the way to the south gate on the far side of the labyrinth. It's a straight shot through this labyrinth. That doesn't strike you as particularly labyrinthine.","Side passages to the east and west lead into twisting, turning passages. To the north, the gate leads outside the labyrinth."]},Na={name:"Labyrinth, South Gate",coords:"Mountain B5",slug:"Mountain/maze-south",north:"loadRoom|Mountain/maze-center",south:"loadRoom|Mountain/lake",east:"callCommon|maze_enter|global-common",west:"callCommon|maze_enter|global-common",description:["You're standing just inside the labyrinth, near the southern gate. There's a wide passage straight ahead of you that leads all the way to the north gate on the far side of the labyrinth. It's a straight shot through this labyrinth. That doesn't strike you as particularly labyrinthine.","Side passages to the east and west lead into twisting, turning passages. To the south, the gate leads outside the labyrinth."]},La={name:"A Labyrinthine Passage",coords:"Mountain ???",slug:"Mountain/maze",description:["You are in a labyrinthine passage. You've taken a few turns to get this far. And can't quite remember exactly what you did to get here. All the passages look the same. There are no landmarks to guide the way.","There are passages that head north, south, east, and west."],north:["setVarValue|DIR|1","callCommon|move"],south:["setVarValue|DIR|3","callCommon|move"],east:["setVarValue|DIR|2","callCommon|move"],west:["setVarValue|DIR|4","callCommon|move"],load:["setVarValue|STEP|0","setVarValue|PROGRESS|0"],_common:{move:[{cmd:"switchBranch",args:["DIR",{1:[{cmd:"ifIsIn",args:["STEP",[0,2,8],"incVar|PROGRESS","setVarValue|PROGRESS|-100"]}],2:[{cmd:"ifIsIn",args:["STEP",[1,7,9],"incVar|PROGRESS","setVarValue|PROGRESS|-100"]}],3:[{cmd:"ifIsIn",args:["STEP",[3,4,6],"incVar|PROGRESS","setVarValue|PROGRESS|-100"]}],4:[{cmd:"ifIsIn",args:["STEP",[5],"incVar|PROGRESS","setVarValue|PROGRESS|-100"]}]}]},"incVar|STEP",{cmd:"ifVar",args:["STEP","==",10,[{cmd:"ifVar",args:["PROGRESS","==",10,"loadRoom|Mountain/maze-goal","callCommon|maze_lost|global-common"]}],"You continue making your way through the labyrinth. You follow the turns in the passage until you come to another fork. You can head north, south, east, or west."]}],map_look:['You reference the map... Oh! Now there\'s a red "X" on the map labeled "You are here". That\'s convenient.',{cmd:"switchBranch",args:["STEP",{0:"The map indicates you should head north.",1:"The map indicates you should head east.",2:"The map indicates you should head north.",3:"The map indicates you should head south.",4:"The map indicates you should head south.",5:"The map indicates you should head west.",6:"The map indicates you should head south.",7:"The map indicates you should head east.",8:"The map indicates you should head north.",9:"The map indicates you should head east."}]}]}},Ha={name:"Heart of the Labyrinth",coords:"Mountain ???",slug:"Mountain/maze-goal",description:"You're standing in a circular area. It's a dead end. You turn around and find that even the passage that brought you here is gone! In the center of the circular area there is a black, stone pedestal. It's a smooth cylindrical column about a foot in diameter and four feet tall. It's engraved with writing that circles it, spiraling a message around and around from top to bottom.",north:[{cmd:"ifFlag",args:["TOOKRUNE",["You step through the passage to the north. When you check behind you, the way back is gone--there's just a dead end. The passage leads straight in front of you and only heads about fifteen feet before opening to another area. You continue on.",{cmd:"waitForInput",args:["loadRoom|Mountain/maze-center"]}],"You can't go that way."]}],features:[{slug:"rune",destroyedFlag:"TOOKRUNE",roomDesc:"Sitting atop the pedestal is a small rune.",look:"It's a magical rune representing lievnu.",take:["You take the rune from atop the pedestal.","setFlag|TOOKRUNE","addItem|LIEVNU_RUNE","You look around again only to find a new passage to the north.",{cmd:"ifVar",args:["G.BOXQUEST","==",1,"incVar|G.BOXQUEST",null]}]},{slug:"pedestal",altSlugs:["column","message","writing"],look:["The spiraling message reads:","]ATOP THE LONELY SENTINEL\\WHOSE CROWN IS ALL AFLAME\\USE IT ON THE DERVISH\\ITS POWER YOU RECLAIM"]},{slug:"north",destroyedFlag:"!TOOKRUNE",roomDesc:"A single passage leads away from the area to the north."}]},xa={name:"Steep Rocky Incline",coords:"Mountain C6",slug:"Mountain/steep-rocky-incline",east:"loadRoom|Mountain/caves-entrance",west:"loadRoom|Mountain/lake",description:["You are standing on a steep rocky incline on the side of the black mountain. The stones beneath your feet are jet black and a little shiny. It reminds you of Dragonglass, from some fantasy story you heard once.","To the south and far below you, you can see a vast forest bisected by a river. Beyond that you see a swamp and eventually the coastline. You can just make out a lighthouse there, sweeping the horizon with its rotating light.","The tortuous, rocky path leads ever higher to the west. It also leads downward to the east."],features:[{slug:"lighthouse",look:"It's a white lighthouse. It looks really tiny from here. The light's still working."},{slug:"forest",look:"It's really vast and dense."},{slug:"swamp",look:"The swamp is shrouded in thick fog. Or possibly mosquitoes. Gross."}]},Da={name:"The Black Summit",coords:"Mountain A2",slug:"Mountain/summit",down:[{cmd:"ifFlag",args:["DANGER","callCommon|try_leave",["setFlag|MET","loadRoom|Mountain/grand-steps"]]}],description:["You stand at the summit of the black mountain. It's a small area, only about thirty feet in diameter.","There is a beautiful, golden-haired woman sitting on a black stone throne. She sits facing you but her eyes are closed. Her hands are in her lap holding a large, glowing yellow crystal. She's enveloped in swirling light. A sustained beam of magical energy is blasting out of her crystal toward a man wearing an indigo security uniform.","The man is leaning forward, bracing himself against the onslaught of magical energies. He holds his hands out before him, stopping the magical beam. The beam occasionally splits off, sending errant energy off into the open sky with a loud crackle of electricity. The sound of the magical battle is nearly deafening. It looks like it's all he can do just to stay upright.",{cmd:"ifFlag",args:["MET",'The man sees you and shouts over the din. "You fool! Where did you go?! It\'s all I can do just to survive her onslaught! Take the crystal before she destroys us all with it!"','The man sees you and shouts over the din. "Quickly! She intends to destroy us all! Take the crystal from her grasp!"']},"Hundreds of steps lead downward off the summit."],_common:{try_leave:['"Not so fast!" The man shouts at you.',{cmd:"waitForInput",args:["callCommon|die_lightning"]}],die_lightning:"gameOver|The entity of darkness floating behind and above the man reaches out a misty arm and shatters the air with a black bolt of lightning. It arcs through the air striking you in the chest.\nYou drop to your knees, unable to feel your body. Your vision swims and you collapse, the cold stone against your face the only thing you can feel. Your vision dims and the cacaphonous magical battle slowly fades from your hearing. Then there is nothing but blackness.",death_orb:"gameOver|\"It\" hurls an orb of darkness at you from across the summit of the black mountain. You try to leap to the side but it doesn't matter. It stops in the air where you were standing and explodes!\nThe cold darkness envelopes you completely. You can see and hear nothing. You can't even move.\nYou can feel your memories quickly being siphoned out of your mind into the cold, dark void. In just a few short moments the only thing you can remember is your own name. Then... not even that.\nYou are left an empty husk.",release_it:['You decide to open the box and take a peek. As soon as you open the lid, a swirling tornado of darkness bursts forth and coalesces into "It" behind the man once again!',{cmd:"waitForInput",args:"die_lightning"}],open_box:[{cmd:"ifFlag",args:["INSIDEBOX","callCommon|release_it",[{cmd:"ifFlag",args:["REVEALED",[{cmd:"ifFlag",args:["BOXOPEN",'It\'s already open! "It" continues charging a ball of darkness!',['You open the silver box. "It" reels back in fear. It begins charging a ball of darkness in its misty hands!',"setFlag|BOXOPEN"]]}],"You open the silver box. Nothing happens so you close it."]}]]}],close_box:[{cmd:"ifFlag",args:["REVEALED&BOXOPEN",["You close the silver box.",{cmd:"waitForInput",args:"callCommon|death_orb"}]]}],it_is_trapped:["You incant the Charm of Sealing. The runes covering the silver box all glow brightly and then flash. The silver box is gone!","All the magical energy in the place explodes into scintillating radiance. When your vision clears, all the magic is gone, along with the man. The woman on the throne opens her eyes and stands. She has a stoic expression on her face. She approaches you with the yellow crystal in her hands.",'Finally, she speaks. "You have done us all a great service, archmage. You have sealed the being of darkness within the silver box from my memory which I will now forget."','She focuses on the yellow crystal. Then with her thumb and forefinger, she pulls a strand of light out of the crystal and flicks it into the wind. It dissipates into nothingness. "You must do the same." she tells you. "Place your hand upon the crystal and focus on the silver box."',{cmd:"waitForInput",args:["You follow her instructions. You focus on the silver box and can see it in your mind but it grows faint and disappears completely. You pluck a strand of light from the crystal and toss it away.","The edges of your vision begin to warp. You look out across the entire island. The horizon begins to... evaporate? In the distance, everything begins to dissolve into nothingness.",{cmd:"waitForInput",args:["The woman speaks to you again. \"I cannot thank you enough. You have seen through 'Its' charade. 'It' was controlling Stanley trying to get this away from me.\" She holds up the yellow crystal. \"This isn't really a crystal at all,\" she explains. \"This is just a representation of the memories of everyone on the island. I was protecting them from 'It'. For thousands of years, 'It' has been corrupting people, whispering to them that magic is the root of all evil and should be destroyed.\"",'She looks out at the rapidly evaporating horizon and continues. "An Order was formed hundreds of years ago. The Order of the Griffin. It was made up of mage hunters and holy warriors. They were taught an incantation, one that I think you\'ve already learned of. It trapped the souls of both the hunter and their prey and brought them to this place." She pauses and watches as the coastline of the island evaporate into nothingness.',{cmd:"waitForInput",args:["\"It is here that 'It' would wait. This extradimensional prison was its feeding grounds. It would slowly siphon the memories of all the lost souls that were sent here, savoring each and every one of them, until nothing was left. And mages were 'Its' delicacy. But I learned of this by meeting everyone on the island and hearing their stories. I focused all those memories into this crystal.\"",'She turns back to you. "But now it is finally over. Thanks you to. This place is disappearing. I hope that now, all the lost souls can achieve their eternal rest."','As the mountain begins to evaporate all around you she finally smiles. "If we go on, find me in the next life." She disappears along with the rest of the island. The last thing you experience is hearing her voice in the void. "My name\'s Ophelia! I\'ll see you soon!"',{cmd:"waitForInput",args:['end|You have freed all the lost souls from the island and sealed "It" away for all time. Now your soul can finally ascend to its final rest.\nYou found $G.ITEMPERCENT$ of the items in the game!\nThanks for playing!']}]}]}]}],it_breaks_free:['gameOver|The silver box alone is not powerful enough to trap "It". The lid springs open and dark mist blasts outward, enveloping you!']},incant:{lievnu:[{cmd:"ifFlag",args:["REVEALED","You incant the Charm of Revealing but nothing happens.",['You incant the Charm of Revealing. Hovering behind and slightly above the man appears a vaguely human figure of utter darkness. Now that you have revealed "It", you seem to be the target of its attention.',"setFlag|REVEALED","setFlag|DANGER"]]}],hsinimid:[{cmd:"ifFlag",args:["REVEALED",[{cmd:"ifFlag",args:["WEAKENED","You incant the Charm of Enfeeblement but nothing happens.",['You incant the Charm of Enfeeblement. The dark energy given off by "It" seems weaker somehow.',"setFlag|WEAKENED"]]}],"You incant the Charm of Enfeeblement but nothing happens."]}],partne:[{cmd:"ifFlag",args:["INSIDEBOX",'You incant the Charm of Ensnaring but "It" is already ensnared in the silver box!',[{cmd:"ifFlag",args:["WEAKENED",[{cmd:"ifFlag",args:["BOXOPEN",['You incant the Charm of Ensnaring. "It" is swept away on an unseen breeze which swirls around and around before being sucked into the silver box. You quickly snap the box shut! You can feel "It" stressing the confines of the box. You need to do something quick!',"setFlag|INSIDEBOX",{cmd:"choice",args:[["Before you can do anything else, it's already too late!",{cmd:"waitForInput",args:"callCommon|it_breaks_free"}],["incant etalosi","incantations"],{"incant etalosi":"callCommon|it_is_trapped",incantations:["In the time it takes you to try to recall the incantations you know, it's already too late!",{cmd:"waitForInput",args:"callCommon|it_breaks_free"}]}]}],['You incant the Charm of Ensnaring but you have nothing to trap "It" in!',{cmd:"waitForInput",args:["callCommon|die_lightning"]}]]}],'You incant the Charm of Ensnaring. But "It" is too powerful to be ensnared! It continues charging it\'s ball of dark, magical energy!']}]]}]},features:[{slug:"woman",look:"She's beautiful! She has golden hair and is wearing a formal suit jacket and skirt. Her eyes are closed. She looks very calm and doesn't response to what's going on around her at all. Is she even awake?",greet:"She doesn't respond in any way.",ask:"She doesn't respond in any way."},{slug:"man",look:"He's wearing an indigo security uniform. He looks really weary like he's barely holding on.",greet:'"The crystal! Take it quickly!"',ask:'"There\'s no time for questions! Quickly! You must take the crystal to save us all!"'},{slug:"crystal",look:"It glows with an inner yellow light. Magical energies swirl out of it and into the air around the woman.",take:["You push through the swirling wind and magical energies, each step more difficult than the last. Finally you reach the throne the woman sits upon. You reach out to take the crystal from her hands. Just as you touch the crystal, her eyes open and you make eye contact. She says nothing to you but her eyes are pleading.","Do you take the crystal from her grasp?",{cmd:"choice",args:["Do you take the crystal from her grasp (yes/no)?",["yes","no"],{yes:['end|You sieze the crystal from her grasp. As soon as you do, the swirling magical energy all around her dissipates into nothing. The man quickly runs up beside you. "Quickly now! Before she awakens!" He reaches out for the crystal. You give it to him. He pulls back, holding the crystal high above him and then hurls it into the stony ground with all his might.\nThe crystal strikes the ground and with a brilliant flash of light, shatters into a million little pieces that evaporate into nothingness. The woman vanishes completely.\nThe man catches his breath and turns to you. "Thank you! Thank you. You\'ve saved us all from being wiped from existence." He shakes your hand. "The name\'s Stanley, by the way. Now let\'s get out of here."\nOver the coming years you give up your search for an escape from the island and come to embrace it as your new home. You successfully saved it from inexistence and ensured that it and everyone on the island would continue on.\nYou found $G.ITEMPERCENT$ of the items in the game!\nThanks for playing!'],no:["You decide not to take the crystal from her yet. As soon as your hand leaves the crystal her eyes close again.",'"What are you doing?!" the man screams from behind you. "She\'s using that crystal to destroy us, the island, everything! We must stop her together!"']}]}]},{slug:"it",altSlugs:["entity","darkness"],roomDesc:'An entity of darkness made of black fog hovers in the air behind and slightly above the man. "It" seems to be focusing all its attention on you.',destroyedFlag:"!REVEALED",look:'"It" is an entity of darkness, vaguely human shaped made of a black fog, hanging in the air behind and slightly above the man.'}]},Ma={name:"Steep, Winding Path",coords:"Mountain B2",slug:"Mountain/winding-path",north:"loadRoom|Mountain/campsite",south:"loadRoom|Mountain/maze-north",description:["You are on a stony, winding path spiraling upward around the black mountain. High above you you can see the summit. There is flashing light up there but you can't see its source. Looking up toward the summit gives you an uneasy feeling. The path and all the rocks--actually, pretty much everything around you--is made of jet black stone.","The path continues spiraling the mountain and heading north."]},Ga={name:"Memory of the Warrior",slug:"Memories/merek",description:["You're a young boy standing in a village aflame. Raiders on horseback chase down your neighbors and cut them down. A man in long, black robes wearing a wooden mask conjures a ball of flame in his hands and hurls it onto the roof of the only house not yet on fire. He lets out a maniacally laugh. With tears in your eyes, you run.",{cmd:"waitForInput",args:['You\'re a young man, training hard with sword and shield. Today the Order finally gave you your own tunic emblazoned with the yellow griffin holding a dozen roses. You parry an incoming blow and smash into your training partner with your shield, sending him reeling. You come down with your wooden sword and catch him in the neck. He crumples to the ground. "I yield. I yield..." he groans.',{cmd:"waitForInput",args:["Your training is over. The elder members of the Order of the Griffin have summoned you to the temple. They taught you an incantation. One that will banish the dark souls of sorcerers to a place where even they cannot escape from. You feel your holy purpose burning inside of you. You will find every last sorcerer and put them down.",{cmd:"waitForInput",args:["You've been on a long journey the past few months. Following a trail of rumors and heresay. The peasants you speak to fear you. They are right to. You ride with the violent glory of god. You've finally found your first sorcerer. The evil witch is just inside the rundown house ahead of you. You're excited but also nervous and a little bit afraid. You'll have to work on that last bit. You remember back and can see the black-robed sorcerer with the wooden mask and how his eyes laughed as he slaughtered your friends and family. You steel your resolve and kick down the door.",{cmd:"waitForInput",args:"loadRoom|Memories/rhode"}]}]}]}]},Wa={name:"Memory of the Witch",slug:"Memories/rhode",description:["You're a young, raven-haired girl. You and your mother live alone at the edge of the village. She tells the villagers it's because she likes the quiet but you know the real reason. In secret, she teaches you her trade. Magic. She's taught you a few simple incantations so far: to know when someone's lying to you, to re-ripen rotten food, to help plants grow, and how to heal wounds.","One day, you're playing with your friend Sofie, a girl from the village. Sofie's walking along the top of Mr. Gabor's fence and you're walking on the trail beside her. She's talking about a boy she likes but you're not really paying attention. She trips and falls, landing awkwardly. The bone is broken. She screams in pain. You tell her it'll be okay. You lean down and lay hands upon the wound and incant the spell your mother taught you. The bone sets itself and heals instantly. Sofie's eyes are wide with terror. She jumps up and runs screaming into the village.",{cmd:"waitForInput",args:['It\'s night time. Your mother wakes you and tells you to get dressed quickly. "Take with thee only the things of most import. Leave thy toys and clothing." She sounds panicked. You quickly do as she says. You head outside with her and mount horses. In the distance you can see a bunch of lit torches along the road. A whole mob is heading from the village to your home. "Come, Rhode." Your mother says to you. "We must ride hard." With that, she sets her horse to a gallop toward the wilderness.',{cmd:"waitForInput",args:["Your mother died some years ago so you found a new home for yourself. The villagers in your new home scorn you. Some spit as you pass by so you try to avoid visiting the village unless necessary. They curse your name and say prayers when you are near. They hide their children when you visit the village. But you ensure their crops are bountiful and they're all healthy. When one is sick and the church can no longer help, they invariably come to you, though afeared as they are. You sit in your home, working a charm on a pouch of seeds. Once you are done they should grow faster and larger.","Suddenly, the door to your home slams open and a knight emblazoned with the yellow griffin of the Order of the Griffin bursts in. He has sword and shield drawn. He rushes across the room before you can mount a defense! You feel his cold steel drive through your belly.",'With scorn and hate he speaks: "Thy soul shalt be condemned to that faraway place, the island of the lost". You suddenly feel light. Very light. You look down at the floor and see your own body. You hold your hands out in front of you and you\'re mostly transparent. Your soul has been excised! Standing next to you is the soul of the warrior! He looks around confused and shocked. Did he not fully understand what his incantation would do?',"Spacetime shatters in front of the two of you, forming a black crack in reality. You and the warrior are pulled inside...",{cmd:"waitForInput",args:["loadRoom|Memories/arden"]}]}]}]},Pa={name:"Memory of the Accountant",slug:"Memories/arden",description:["You're a young boy. The other boys cut school and play at the skate park. You're not rebellious, though. Every day after school you do your homework and study. Mom's very proud of you. She always scolds your younger brother and tells him he should be more like you. She depends on you for a lot, since dad died.",{cmd:"waitForInput",args:["You're at the office. Your boss stops and knocks on your door. \"Hey Arden. How's it going?\" He doesn't give you time to answer. \"Listen, we're a bit behind on the Atkinson file. We need to play a bit of catch-up. Can I count on you?\" Of course he can count on you, you assure him. You didn't have any plans this weekend anyway. You never have plans for the weekend. Besides, with mom sick and the medical bills piling up you can always use the extra money. Plus with Edra gone, you're the only source of income. \"I knew I could count on you. You're one of our best. Well, catch you later.\" Your boss leaves.","You turn back to your spreadsheet full of credits and debits, assets and expenditures.",{cmd:"waitForInput",args:["You're at mom's funeral. It's just you and a couple of her friends. Halfway through the service, the door opens. In comes Edra. You seethe. Of course he'd only come back after she was dead.",{cmd:"waitForInput",args:"loadRoom|Memories/edra"}]}]}]},Ua={name:"Memory of the Wild Child",slug:"Memories/edra",description:["You're a young boy. You don't have a head for studies or math. You like to play outside and do things you're not supposed to. Sometimes you can get out of trouble just by focusing and telling someone to let you go. You're not sure why the other kids can't get out of trouble as easily as you can. Though you still get into your fair share.",{cmd:"waitForInput",args:["You're 22 today. Driving to another party in your '70 Chevelle SS, blue with white stripes. You're still pissed off from earlier. Who the hell does Arden think he is? He's not dad! Get a job! Work hard, save money for the future! Doesn't he see that he's missing the present? You gun it.",{cmd:"waitForInput",args:["You're in Vegas again. It's really easy to win Texas Hold'Em when you can read the others' minds. You make sure not to win too big and to lose a few hands just to throw off suspicion. Later, you stumble out drunk, pockets stuffed with winnings. You pass a seedy alley with a group of homeless living in it. You whistle to get their attention and empty your pockets, tossing them the wad. You walk away before they can break their stunned silence.","For a while you drive around the country using your sorcery to help those that need it (after helping yourself, of course). Eventually, you get a call from one of your buddies from back home. Mom's dead, he says.",{cmd:"waitForInput",args:["You're standing outside the funeral home. Mom's inside. The service started 5 minutes ago but you couldn't quiet bring yourself to go in yet. Arden's going to be so pissed. You head inside. Arden's here and a couple of old ladies who must've been friends of mom. Arden ain't happy.","Later, your older brother has words with you. You apologize and try to explain how life can be a prison if you let it be. He's having none of it. With a little arcane nudge he starts to see it your way. You convince him to take some time off work and see the country with you. A roadtrip. Together.",{cmd:"waitForInput",args:["You and Arden just left the diner and stepped outside. You're still laughing from the first joke you've ever heard Arden tell. You're walking toward your car when a woman steps out of the shadows.",{cmd:"waitForInput",args:"loadRoom|Memories/meredith"}]}]}]}]}]},Ba={name:"Memory of the Lonely Girl",slug:"Memories/meredith",description:["You're a little girl. Your parents fight all the time. The only time they're not screaming at each other is when they're both passed out with needles sticking out their arms. You learn to be independent early. The kids at school all ignore you. It's okay, though. You hate them all and don't want to be their friend anyway. You're better than they are. You'd never let them know you're actually just lonely and afraid.",{cmd:"waitForInput",args:["You're sitting at home on prom night. You're dialed up to the internet reading message boards. Here's something interesting. An Order of like-minded individuals that seek the truth. \"If you're reading this, we know you're better than the rest.\" Most people are just stupid pawns doing what they're told to do without questioning it. But you're different. You know you are. You respond to the message.",{cmd:"waitForInput",args:["You've learned the Holy Virtues and the Violent Truth. You're a full-fledged member of the Order of the Griffin now. Your training is complete and your knowledge of the Virtues vast. Today you were taught an incantation. One that would seal the wicked away forever. Your first target is a young man named Edra. He drives a blue-and-white-striped muscle car from the 70s. You can't wait.",{cmd:"waitForInput",args:["You've found him. You wait in the shadows near his car outside a diner in Nowhere, USA. You ready the handgun, feeling its weight in your hand. You finally get to do something about the stupid useless sheep in the world. Starting with this one. This wicked, demon-touched one. He's coming. You step out of the shadows and raise the gun. You fire, striking someone walking with him instead. Enraged, the target screams and conjures a whirling ring of lightning around him. You fire again but the bullet is deflected. The sky overhead starts to split apart with lightning!","He's far too powerful. You'll have to use the Holy Verse! You incant aloud \"HSINIMID!\" The sky quiets and the lightning surrounding your mark falters. You pull the trigger again, piercing him in the chest. He collapses to the ground.",']The memory returns to you. You can now "incant hsinimid", the Charm of Enfeeblement!',"callCommon|after_learn_incant|global-common","setFlag|G.HSINIMID",{cmd:"waitForInput",args:["You approach your fallen quarry. You recite the words, exactly as you were taught. \"Thy soul shalt be condemned to that faraway place, the island of the lost.\" Wait... What's happening? You collapse to the ground next to the two you've shot. No, you're still standing. You look down and see that you're transparent. You're not in your body anymore! The two you shot stand up as well, out of their bodies. What's going on?!","Reality shatters around you and a black crack in the fabric of time forms. The three of you are pulled inside.",{cmd:"waitForInput",args:"loadRoom|Memories/ophelia"}]}]}]}]}]},qa={name:"Memory of the Ambassador",slug:"Memories/ophelia",description:["You're a teen girl and President of the Student Council and leader of the Model UN. You maintain a strict 4.0 GPA and you have your whole life planned out ahead of you. Both your parents are very proud of you. In just a few short months you'll graduate highschool and go away for college.",{cmd:"waitForInput",args:["Ever since college you've climbed the ranks. You've worked on political campaigns, you've led your hometown as mayor, you were even a senator for many years. Now, you're the U.S. ambassador to the United Nations. Whenever tensions rise between member states, you're quick to calm them. You've always had a knack for it. Somehow, it just came naturally to you. You can read emotions and you can quiet them or amplify them. You've even come up with a few other tricks.","Now you're walking home from the office. A man steps out of the shadows. He's wearing the insignia you've come to know very well. The assassin of the Order of the Griffin lunges forward with knife in hand. You produce the little silver box that you keep with you always and snap it open.",'"Partne," you incant sternly. The man drops the knife to the ground and turns to mist. The mist flows into the box and you snap it shut. The lid rattles as he tries to escape his new prison. "Etalosi," you incant again. The box glows briefly and then quiets down. You\'ll have to dispose of this later. The attacks are getting more frequent...',']The memories returns to you.\\You can now "incant partne", the Charm of Ensnaring!\\You can also now "incant etalosi", the Charm of Sealing!',"setFlag|G.PARTNE","setFlag|G.ETALOSI",{cmd:"waitForInput",args:"loadRoom|Memories/stanley"}]}]},$a={name:"Memory of the Downtrodden Boy",slug:"Memories/stanley",description:["You're a young boy living alone in a trashy apartment with your single father. Dad hasn't worked in a long time. Not with all the jobs being lost to automation. You somehow manage to barely scrape by on welfare and foodstamps. Dad always tells you that the people need to band together and rise up to make the world a better place. But he never does anything about it.","One evening, a woman kicks in the door to your home. Dad leaps to his feet. She just wants the food, she says, but dad resists. With a word and the flick of her wrist, she sends an arc of lightning across the room striking him in the chest. Dad slumps to the floor dead. You dash over to him and hug his lifeless body. You weep. The woman ignores you and takes all your valuables (such as they are) and food.","Later, a group of men and woman arrive wearing insignia depicting a griffin holding a dozen roses. They've come to your house following the trail of that woman. One of their members holds out her hand to you. You wipe away the tears and take it.",{cmd:"waitForInput",args:["You've been a member of the Order for a long time, now. Intel and special ops has been your game for over 30 years. But now, you've been given your first removal mission. You've gathered all the intel and done all the planning. She's a blonde woman, mid 40s, U.S. ambassador to the UN. It'll be tough getting close. The Order's sent many operatives to take her out but she has a silver box that she imprisons them in. But you have a plan.",{cmd:"waitForInput",args:["You've worked as a security guard at the UN headquarters for 8 years now, biding your time. You greet her nearly every day when she gets to the office. You smile at her as she walks by but she never smiles back. You wait until she leaves her office and let yourself in. You wait behind the door for her to return.",'When the door opens, you grab her from behind, covering her mouth before she can incant the infernal charms. You recite the phrase that you\'ve heard your whole life as you stab her. "Thy soul shalt be condemned to that faraway place, the island of the lost."',"But what's this? Both of you slump to the floor. A moment later you both scramble to your feet, leaving your bodies behind. What's happening? Is your soul the price you must pay to rid the world of one of these demons? So be it, you decide.","The air shatters, causing a spiderweb of black cracks to arc out all around you both. A crack of utter darkness splits reality. You and the ambassador are pulled inside.",{cmd:"waitForInput",args:"loadRoom|Swamp/toppled-log"}]}]}],notes:'Stanley, as a middle aged man is briefed that a dark sorcerer has invaded the government and works an ambassador. She is dangerous and has sealed many operatives in a silver box. Stanley breaks into her office and breaks the silver box. He then waits for her in the dark. When she arrives, he jumps out and attacks, stabbing her in the chest. He incants "thy soul shalt be condemned to that faraway place, the island of the lost". They are both sucked into the void. STANLEY is SHOCKED.'},Va=Object.freeze({__proto__:null,global_common:ao,t_Center:no,t_learning:so,t_computer:ro,t_teleporter:io,t_mechanical:lo,t_northAccess:ho,f_brokenBridgeNorth:uo,f_brokenBridge:co,f_caveEntrance:go,f_quietFork:mo,f_westClearing:fo,f_riverBank:yo,f_hill:po,f_lonelyPath:wo,f_bendInThePath:bo,f_abruptTurn:ko,f_ruinsEntrance:vo,f_quietPath:To,f_wellWornTrail:Io,f_cabinEntrance:Eo,f_cabinInterior:So,f_oldWell:Oo,f_wellCave:Ro,f_hornetNest:Yo,f_swampEntrance:Ao,f_hive:Co,f_hiveQueen:Fo,s_forestEntrance:_o,s_toppledLog:No,s_deadTree:Lo,s_standingWater:Ho,s_bubblingMuck:xo,s_hut:Do,s_hutInterior:Mo,s_mammothSkull:Go,s_campsite:Wo,s_statue:Po,s_mosquitoSpawn:Uo,s_dryTrail:Bo,s_ridge:qo,r_ruinedHall:$o,r_ruinedSquareSouth:Vo,r_ruinedSquareNoth:jo,r_ruinedHouse:Ko,r_bunker:zo,r_lab:Qo,r_temple:Xo,coast_dunes:Jo,coast_beachCentral:Zo,coast_beachWest:ea,coast_shallowBay:ta,coast_birdNest:oa,coast_beachEast:aa,coast_rockyIncline:na,coast_rockyTrail:sa,coast_peninsula:ra,coast_rockyCliffside:ia,coast_lighthouseExt:la,coast_lighthouse1f:ha,coast_lighthouse2f:ua,coast_lighthouseLight:da,c_templeExit:ca,c_coastExit:ga,c_labExit:ma,c_batNest:fa,c_narrowPassage:ya,c_pitChamber:pa,c_moistCavern:wa,c_chasm:ba,c_weightPuzzle:ka,c_mushrooms:va,c_sunlessLake:Ta,c_forestExit:Ia,c_bottomOfShaft:Ea,c_precariousLedge:Sa,c_cache:Oa,m_campsite:Ra,m_cavesEntrance:Ya,m_grandSteps:Aa,m_lake:Ca,m_mazeCenter:Fa,m_mazeNorth:_a,m_mazeSouth:Na,m_maze:La,m_mazeGoal:Ha,m_steepRockyIncline:xa,m_summit:Da,m_windingPath:Ma,mem_merek:Ga,mem_rhode:Wa,mem_arden:Pa,mem_edra:Ua,mem_meredith:Ba,mem_ophelia:qa,mem_stanley:$a});function ja(){let e={};return Object.keys(Va).forEach(t=>{let o=Va[t];e[o.slug]=o}),e}function Ka(e){return e.startsWith("G.")?this.globalVars[e]:this.getLocalVars()[e]}function za(e){if(-1===this.choiceObj.options.map(e=>e.toLowerCase()).indexOf(e.toLowerCase()))return void this.parseCmds(this.choiceObj.repeat);let t=this.choiceObj.resolution[e.toLowerCase()];this.choiceObj=null,this.parseCmds(t)}const Qa={north:"south",south:"north",east:"west",west:"east",up:"down",down:"up"};function Xa(e,t){if(this.room.dark&&!this.getFlag("G.HASLIGHT")){if(Qa[e]&&Qa[e]===this.lastMoveDir)return!0;if("use"===e&&1===t.length){let e=this.findItem(t[0]);if(e&&"FLASHLIGHT"===e.id)return!0}return this.parseStringCmd("gameOver|You fumble around in the dark for a few moments. You think you hear something so you immediately stop what you're doing, ears attuned to the silence all around you. Did you really hear something or are your ears playing tricks on you? Your question is answered only a few seconds later. The sound of slapping feet approaches, its direction indeterminate!\nClaws dig into your flesh and something large and leathery wraps long, spindly arms around you. You struggle to free yourself but the its strength far, far, surpasses your own. You let out a scream as it bites down on your neck.\nYou should fear the dark..."),!1}return!0}function Ja(e){if(e.startsWith("setFlag")){let t=e.split("|")[1];this.setFlag(t),this.write(`~Set ${t} to true.~`)}else if(e.startsWith("unsetFlag")){let t=e.split("|")[1];this.unsetFlag(t),this.write(`~Set ${t} to false.~`)}else if(e.startsWith("addItem")){let t=e.split("|")[1];this.addItem(t),this.write(`~Added ${t} to inventory.~`)}else if(e.startsWith("removeItem")){let t=e.split("|")[1];this.removeItem(t),this.write(`~Removed ${t} from inventory.~`)}else if("saveGame"===e)this.saveGame(),this.write("~Game Saved~");else if(e.startsWith("getVar")){let t=e.split("|")[1];this.write(`~${this.getVarValue(t)}~`)}else if(e.startsWith("incVar")){let t=e.split("|")[1];this.incVar(t),this.write(`~Incremented ${t}~`)}else if(e.startsWith("decVar")){let t=e.split("|")[1];this.decVar(t),this.write(`~Decremented ${t}~`)}else if(e.startsWith("loadRoom")){let t=e.split("|")[1];this.loadRoom(t)}else e.startsWith("cleanInventory")?(this.inventory=this.inventory.filter(e=>!!e&&e.slug),this.write("~Cleaned inventory of undefined objects~")):e.startsWith("addAllItems")?(this.inventory=[...this.items],this.write("~Added all items to inventory.~")):e.startsWith("clearInventory")?(this.inventory=[],this.write("~Remove all items from inventory.~")):e.startsWith("learnAllIncants")&&(this.setFlag("G.ETAVONER"),this.setFlag("G.ELTNAMSID"),this.setFlag("G.LIEVNU"),this.setFlag("G.HSINIMID"),this.setFlag("G.PARTNE"),this.setFlag("G.ETALOSI"),this.setFlag("G.ROHCNA"),this.write("~Learned all incantations~"))}const Za={n:"north",s:"south",e:"east",w:"west",u:"up",d:"down",cl:"clear",l:"look",t:"take",i:"inventory"};function en(e){if(e.startsWith("dev|"))return void this.handleDevCmd(e.replace("dev|",""));if(this.userEntry=e,this.capturedText="",this.waitCmds){let e=this.waitCmds;return this.parseCmds(this.waitCmds),void(e==this.waitCmds&&(this.waitCmds=null))}if(!e)return;if(this.write(`~${e}~`),this.choiceObj)return void this.handleChoiceInput(e);let t=e.toLowerCase().split(/ (.+)/).filter(e=>e),o=t[0],a=t.filter((e,t)=>t>0),n=null;if("talk"===o)o="greet";else if("put"===o){let t=e.match(/put (.+?) (in|on) (.+)/);t&&(o="use",a[0]=t[1]+" on "+t[3])}if(this.allowedVerbs.find(e=>e===o)){if(Za[o]&&(o=Za[o]),this.handleDarkRoom(o,a)){switch(o){case"ask":return void this.ask(a.length>0?a[0]:null);case"combine":return void this.combine(a.length>0?a[0]:null);case"use":return void this.use(a.length>0?a[0]:null);case"give":return void this.give(a.length>0?a[0]:null);case"incant":return void this.incant(a.length>0?a[0]:null)}if(a.length>0&&(n=this.findTarget(a[0]),!n))this.unknownTarget(a[0]);else if(n)if(n[o])this.parseCmds(n[o],n);else{let e=Object.keys(n).find(e=>e.split("|").indexOf(o)>-1);e?this.parseCmds(n[e],n):this.write(`You can't ${o} that.`)}else switch(o){case"look":this.look();break;case"inventory":this.listInventory();break;case"incantations":this.incantations();break;case"north":case"south":case"east":case"west":case"up":case"down":this.move(o);break;case"clear":this.clear();break;case"stand":this.room.stand&&this.parseCmds(this.room.stand);break;case"sit":this.write("What do you want to sit on?");break;default:this.write("What do you want to "+o+"?")}}}else this.unknownCmd(o)}function tn(){return ft.some(e=>this.getFlag("G."+e.name.toUpperCase()))}function on(e){this.rooms[e]?(this.room=this.rooms[e],this.look(),this.room.load&&this.parseCmds(this.room.load)):alert(`Room '${e}' not found!`)}function an(e,t){let o=!1;e&&("string"!=typeof e?e.forEach(e=>{if(!o){if("string"==typeof e)return this.parseStringCmd(e,t)||(o=!0),void this.update();switch(e.cmd){case"write":this.write.apply(this,e.args);break;case"ifFlag":this.ifFlag.apply(this,[...e.args,t]);break;case"ifHasItem":this.ifHasItem.apply(this,[...e.args,t]);break;case"ifVar":this.ifVar.apply(this,[...e.args,t]);break;case"addItem":this.addItem.apply(this,e.args);break;case"removeItem":this.removeItem.apply(this,e.args);break;case"destroyFeature":this.destroyFeature.apply(this,e.args);break;case"ifRoom":this.ifRoom.apply(this,e.args);break;case"choice":this.choice.apply(this,e.args);break;case"waitForInput":this.waitForInput(e.args);break;case"dialog":this.dialog(e.args);break;case"pickOne":this.pickOne(e.args);break;case"switchBranch":this.switchBranch(e.args);break;case"ifIsIn":this.ifIsIn(e.args)}this.update()}}):this.parseStringCmd(e,t))}const nn=["saveGame","look","writeRoomCoords"];function sn(e){let t=e.split("|");if(t.length>1||nn.indexOf(e)>-1){let e=this[t[0]];return e?(e.apply(this,t.filter((e,t)=>t>0)),!0):(alert("unknown function: "+t[0]),!1)}return this.write(e),!0}function rn(e,t){e.startsWith("G.")?this.globalVars[e]=t:this.getLocalVars()[e]=t}function ln(e){e.filter(e=>!!e.roomDesc&&(!e.destroyedFlag||!this.getFlag(e.destroyedFlag))).forEach(e=>{this.parseCmds(e.roomDesc)})}const hn=["Huh?","What?","You don't know how to {cmd}.","{cmd}?! You have no idea!","What's {cmd} mean?","You're not sure you really want to {cmd}...","You can't {cmd}.","{cmd} isn't a thing. Stop trying to make it a thing."];function un(e){let t=hn[Math.floor(Math.random()*hn.length)];t=t.replace(/{cmd}/g,e),this.write(t)}function dn(e){this.write(`You don't see ${e} anywhere.`)}function cn(e,t,o){let a={options:{showHints:!1},inventory:[],roomVars:{},globalVars:{},rooms:ja(),isEnd:!1,isGameOver:!1,room:null,text:"",allowedVerbs:ht,items:ut,writeCapturing:0,waitCmds:null,userEntry:null,lastMoveDir:null,ask:dt,clear:ct,combine:gt,give:mt,incant:yt,incantations:pt,listInventory:kt,move:Tt,take:It,use:Et,addItem:St,choice:Ot,callCommon:Rt,decVar:Yt,dialog:At,end:Ct,gameOver:Ft,ifFlag:_t,ifFlagWrite:Nt,ifHasItem:Lt,ifRoom:Ht,ifVar:xt,incVar:Dt,invokeRoom:Mt,ifIsIn:Gt,pickOne:Wt,removeItem:Pt,saveGame:Ut,setFlag:Bt,switchBranch:qt,unsetFlag:$t,waitForInput:Vt,write:jt,writeRoomCoords:Xt,findItem:Jt,findTarget:Zt,getFeature:eo,getFlag:to,getLocalVars:oo,getVarValue:Ka,handleChoiceInput:za,handleDarkRoom:Xa,handleDevCmd:Ja,handleUserEntry:en,knowsAnyIncantations:tn,loadRoom:on,look:vt,parseCmds:an,parseStringCmd:sn,setVarValue:rn,showFeatures:ln,unknownCmd:un,unknownTarget:dn,update:o,updateScroll:t},n=null;if(e&&(n=localStorage.getItem("game_state"),n&&(n=JSON.parse(n),n))){let e=n.currRoomSlug,t=n.inventory;delete n.inventory,delete n.currRoomSlug,Object.assign(a,n),t.forEach(e=>{let t=null;"string"==typeof e?t=ut.find(t=>t.id===e):"object"==typeof e&&(t=ut.find(t=>t.id===e.id)),t&&a.inventory.push(t)}),a.loadRoom(e)}return a}function gn(e){let t,o,a;return{c(){t=E("li"),t.innerHTML='<span class="shortcut svelte-1f1t2wv">incant</span> [incantation]',o=O(),a=E("li"),a.innerHTML='<span class="shortcut svelte-1f1t2wv">incantations</span>',A(t,"title","Incants an incantation."),A(t,"class","svelte-1f1t2wv"),A(a,"title","Lists the incantations known to you."),A(a,"class","svelte-1f1t2wv")},m(e,n){v(e,t,n),v(e,o,n),v(e,a,n)},d(e){e&&T(t),e&&T(o),e&&T(a)}}}function mn(t){let o,a,n,s,r,i,l,h,u,d,c,g,m,f,y,p,w,b,I,S,R,Y,C,F,_,N,L,H,x,D,M,G,W,P,U,B,q,$,V,j,K,z,Q,X,J=t[0]&&gn();return{c(){o=E("div"),a=E("h4"),a.textContent="Common Commands",n=O(),s=E("ul"),r=E("li"),r.innerHTML='<span class="shortcut svelte-1f1t2wv">l</span>ook',i=O(),l=E("li"),l.innerHTML='<span class="shortcut svelte-1f1t2wv">l</span>ook [target]',h=O(),u=E("li"),u.innerHTML='<span class="shortcut svelte-1f1t2wv">t</span>ake [target]',d=O(),c=E("li"),c.innerHTML='<span class="shortcut svelte-1f1t2wv">i</span>nventory',g=O(),m=E("li"),m.innerHTML='<span class="shortcut svelte-1f1t2wv">n</span>orth',f=O(),y=E("li"),y.innerHTML='<span class="shortcut svelte-1f1t2wv">s</span>outh',p=O(),w=E("li"),w.innerHTML='<span class="shortcut svelte-1f1t2wv">e</span>ast',b=O(),I=E("li"),I.innerHTML='<span class="shortcut svelte-1f1t2wv">w</span>est',S=O(),R=E("li"),R.innerHTML='<span class="shortcut svelte-1f1t2wv">u</span>p',Y=O(),C=E("li"),C.innerHTML='<span class="shortcut svelte-1f1t2wv">d</span>own',F=O(),_=E("li"),_.innerHTML='<span class="shortcut svelte-1f1t2wv">enter</span> [target]',N=O(),L=E("li"),L.innerHTML='<span class="shortcut svelte-1f1t2wv">cl</span>ear',H=O(),x=E("li"),x.innerHTML='<span class="shortcut svelte-1f1t2wv">move</span> [target]',D=O(),M=E("li"),M.innerHTML='<span class="shortcut svelte-1f1t2wv">use</span> [target]',G=O(),W=E("li"),W.innerHTML='<span class="shortcut svelte-1f1t2wv">open</span> [target]',P=O(),U=E("li"),U.innerHTML='<span class="shortcut svelte-1f1t2wv">close</span> [target]',B=O(),q=E("li"),q.innerHTML='<span class="shortcut svelte-1f1t2wv">greet</span> [person]',$=O(),V=E("li"),V.innerHTML='<span class="shortcut svelte-1f1t2wv">give</span> [object] to [person]',j=O(),J&&J.c(),K=O(),z=E("li"),z.innerHTML='<span class="shortcut svelte-1f1t2wv">use [object] on [target]</span>',Q=O(),X=E("li"),X.innerHTML='<span class="shortcut svelte-1f1t2wv">ask [person] about [topic]</span>',A(a,"class","svelte-1f1t2wv"),A(r,"title","Looks all around you."),A(r,"class","svelte-1f1t2wv"),A(l,"title","Looks at a specific object or person."),A(l,"class","svelte-1f1t2wv"),A(u,"title","Takes an object and adds it to your inventory."),A(u,"class","svelte-1f1t2wv"),A(c,"title","Lists the items in your inventory."),A(c,"class","svelte-1f1t2wv"),A(m,"title","Travel north."),A(m,"class","svelte-1f1t2wv"),A(y,"title","Travel south."),A(y,"class","svelte-1f1t2wv"),A(w,"title","Travel east."),A(w,"class","svelte-1f1t2wv"),A(I,"title","Travel west."),A(I,"class","svelte-1f1t2wv"),A(R,"title","Travel upward."),A(R,"class","svelte-1f1t2wv"),A(C,"title","Travel downward."),A(C,"class","svelte-1f1t2wv"),A(_,"title","Enters a building."),A(_,"class","svelte-1f1t2wv"),A(L,"title","Clears the game window of all text."),A(L,"class","svelte-1f1t2wv"),A(x,"title","Moves the target out of the way."),A(x,"class","svelte-1f1t2wv"),A(M,"title","Uses the specified object."),A(M,"class","svelte-1f1t2wv"),A(W,"title","Opens the specified object."),A(W,"class","svelte-1f1t2wv"),A(U,"title","Closes the specified object."),A(U,"class","svelte-1f1t2wv"),A(q,"title","Greets a person and starts a conversation."),A(q,"class","svelte-1f1t2wv"),A(V,"title","Gives the specified object to the specified person."),A(V,"class","svelte-1f1t2wv"),A(z,"title","Uses a specific object on the target."),A(z,"class","svelte-1f1t2wv"),A(X,"title","Asks a person about a specific topic."),A(X,"class","svelte-1f1t2wv"),A(s,"class","svelte-1f1t2wv"),A(o,"class","commands svelte-1f1t2wv")},m(e,t){v(e,o,t),k(o,a),k(o,n),k(o,s),k(s,r),k(s,i),k(s,l),k(s,h),k(s,u),k(s,d),k(s,c),k(s,g),k(s,m),k(s,f),k(s,y),k(s,p),k(s,w),k(s,b),k(s,I),k(s,S),k(s,R),k(s,Y),k(s,C),k(s,F),k(s,_),k(s,N),k(s,L),k(s,H),k(s,x),k(s,D),k(s,M),k(s,G),k(s,W),k(s,P),k(s,U),k(s,B),k(s,q),k(s,$),k(s,V),k(s,j),J&&J.m(s,null),k(s,K),k(s,z),k(s,Q),k(s,X)},p(e,[t]){e[0]?J||(J=gn(),J.c(),J.m(s,K)):J&&(J.d(1),J=null)},i:e,o:e,d(e){e&&T(o),J&&J.d()}}}function fn(e,t,o){let{showIncantations:a=!1}=t;return e.$set=e=>{"showIncantations"in e&&o(0,a=e.showIncantations)},[a]}class yn extends be{constructor(e){super(),we(this,e,fn,mn,i,{showIncantations:0})}}function pn(e,t,o){const a=e.slice();return a[30]=t[o],a}function wn(e,t,o){const a=e.slice();return a[27]=t[o],a}function bn(t){let o,a,n,s;function r(e,t){return e[3].isGameOver?Tn:e[3].isEnd?vn:void 0}let i=r(t),l=i&&i(t),h=t[3].text.split("\n").filter(Ln),u=[];for(let e=0;e<h.length;e+=1)u[e]=Yn(wn(t,h,e));function d(e,t){return e[3].isGameOver?Fn:e[3].isEnd?Cn:An}let c=d(t),g=c(t);return{c(){o=E("room"),l&&l.c(),a=O();for(let e=0;e<u.length;e+=1)u[e].c();n=O(),g.c(),s=R()},m(e,r){v(e,o,r),l&&l.m(o,null),k(o,a);for(let e=0;e<u.length;e+=1)u[e].m(o,null);t[23](o),v(e,n,r),g.m(e,r),v(e,s,r)},p(e,t){if(i!==(i=r(e))&&(l&&l.d(1),l=i&&i(e),l&&(l.c(),l.m(o,a))),15880&t[0]){let a;for(h=e[3].text.split("\n").filter(Ln),a=0;a<h.length;a+=1){const n=wn(e,h,a);u[a]?u[a].p(n,t):(u[a]=Yn(n),u[a].c(),u[a].m(o,null))}for(;a<u.length;a+=1)u[a].d(1);u.length=h.length}c===(c=d(e))&&g?g.p(e,t):(g.d(1),g=c(e),g&&(g.c(),g.m(s.parentNode,s)))},i:e,o:e,d(e){e&&T(o),l&&l.d(),I(u,e),t[23](null),e&&T(n),g.d(e),e&&T(s)}}}function kn(e){let t,o,a,n;const s=new lt({props:{showHints:e[3].options.showHints}});return s.$on("toggleHints",e[21]),{c(){me(s.$$.fragment),t=O(),o=E("button"),o.textContent="Ok, ok. Let me play!",A(o,"class","svelte-1pejf0k")},m(r,i){fe(s,r,i),v(r,t,i),v(r,o,i),a=!0,n=Y(o,"click",e[22])},p(e,t){const o={};8&t[0]&&(o.showHints=e[3].options.showHints),s.$set(o)},i(e){a||(he(s.$$.fragment,e),a=!0)},o(e){ue(s.$$.fragment,e),a=!1},d(e){ye(s,e),e&&T(t),e&&T(o),n()}}}function vn(e){let t;return{c(){t=E("h3"),t.textContent="The End"},m(e,o){v(e,t,o)},d(e){e&&T(t)}}}function Tn(e){let t;return{c(){t=E("h3"),t.textContent="GAME OVER"},m(e,o){v(e,t,o)},d(e){e&&T(t)}}}function In(e){let t,o=e[12](e[10](e[9](e[27]))),a=[];for(let t=0;t<o.length;t+=1)a[t]=Rn(pn(e,o,t));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=R()},m(e,o){for(let t=0;t<a.length;t+=1)a[t].m(e,o);v(e,t,o)},p(e,n){if(13832&n[0]){let s;for(o=e[12](e[10](e[9](e[27]))),s=0;s<o.length;s+=1){const r=pn(e,o,s);a[s]?a[s].p(r,n):(a[s]=Rn(r),a[s].c(),a[s].m(t.parentNode,t))}for(;s<a.length;s+=1)a[s].d(1);a.length=o.length}},d(e){I(a,e),e&&T(t)}}}function En(e){let t,o=e[10](e[27])+"";return{c(){t=new L(o,null)},m(e,o){t.m(e,o)},p(e,a){8&a[0]&&o!==(o=e[10](e[27])+"")&&t.p(o)},d(e){e&&t.d()}}}function Sn(e){let t,o,a,n=e[30].value+"";return{c(){t=E("hint"),o=S(n)},m(n,s){v(n,t,s),k(t,o),a=Y(t,"click",e[13])},p(e,t){8&t[0]&&n!==(n=e[30].value+"")&&C(o,n)},d(e){e&&T(t),a()}}}function On(e){let t,o=e[30].value+"";return{c(){t=new L(o,null)},m(e,o){t.m(e,o)},p(e,a){8&a[0]&&o!==(o=e[30].value+"")&&t.p(o)},d(e){e&&t.d()}}}function Rn(e){let t;function o(e,t){return"html"===e[30].type?On:Sn}let a=o(e),n=a(e);return{c(){n.c(),t=R()},m(e,o){n.m(e,o),v(e,t,o)},p(e,s){a===(a=o(e))&&n?n.p(e,s):(n.d(1),n=a(e),n&&(n.c(),n.m(t.parentNode,t)))},d(e){n.d(e),e&&T(t)}}}function Yn(e){let t,o,a,n;function s(e,t){return(null==o||8&t[0])&&(o=!(0!==e[27].indexOf("^"))),o?En:In}let r=s(e,-1),i=r(e);return{c(){t=E("p"),i.c(),a=O(),A(t,"class",n=m(e[11](e[27]))+" svelte-1pejf0k")},m(e,o){v(e,t,o),i.m(t,null),k(t,a)},p(e,o){r===(r=s(e,o))&&i?i.p(e,o):(i.d(1),i=r(e),i&&(i.c(),i.m(t,a))),8&o[0]&&n!==(n=m(e[11](e[27]))+" svelte-1pejf0k")&&A(t,"class",n)},d(e){e&&T(t),i.d()}}}function An(t){let o,a,n,i,l,h;return{c(){o=E("form"),a=E("input"),i=O(),l=E("span"),l.textContent="❔",A(a,"id","userInput"),A(a,"class","svelte-1pejf0k"),A(l,"class","svelte-1pejf0k"),A(o,"id","inputForm"),A(o,"class","svelte-1pejf0k")},m(s,u){var d,c;v(s,o,u),k(o,a),F(a,t[2]),k(o,i),k(o,l),h=[(c=n=t[5].call(null,a),c&&r(c.destroy)?c.destroy:e),Y(a,"input",t[26]),Y(a,"keydown",t[6]),Y(l,"click",t[8]),Y(o,"submit",(d=t[7],function(e){return e.preventDefault(),d.call(this,e)}))]},p(e,t){4&t[0]&&a.value!==e[2]&&F(a,e[2])},d(e){e&&T(o),s(h)}}}function Cn(t){let o,a;return{c(){o=E("button"),o.textContent="New Game",A(o,"class","svelte-1pejf0k")},m(e,n){v(e,o,n),a=Y(o,"click",t[25])},p:e,d(e){e&&T(o),a()}}}function Fn(t){let o,a;return{c(){o=E("button"),o.textContent="Try again",A(o,"class","svelte-1pejf0k")},m(e,n){v(e,o,n),a=Y(o,"click",t[24])},p:e,d(e){e&&T(o),a()}}}function _n(e){let t,o,a,n,s;const r=[kn,bn],i=[];function l(e,t){return e[1]?0:e[3]?1:-1}~(o=l(e))&&(a=i[o]=r[o](e));const h=new yn({props:{showIncantations:e[4]}});return{c(){t=E("main"),a&&a.c(),n=O(),me(h.$$.fragment)},m(e,a){v(e,t,a),~o&&i[o].m(t,null),v(e,n,a),fe(h,e,a),s=!0},p(e,n){let s=o;o=l(e),o===s?~o&&i[o].p(e,n):(a&&(ie(),ue(i[s],1,1,()=>{i[s]=null}),le()),~o?(a=i[o],a||(a=i[o]=r[o](e),a.c()),he(a,1),a.m(t,null)):a=null);const u={};16&n[0]&&(u.showIncantations=e[4]),h.$set(u)},i(e){s||(he(a),he(h.$$.fragment,e),s=!0)},o(e){ue(a),ue(h.$$.fragment,e),s=!1},d(e){e&&T(t),~o&&i[o].d(),e&&T(n),ye(h,e)}}}var Nn="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*";const Ln=e=>!!e;function Hn(e,t,o){let a,{loadGame:n=!1}=t,s=[],r=-1,i=null,l=!1,h="";B(async()=>{o(15,a=cn(n,()=>window.setTimeout(()=>o(0,i.scrollTop=i.scrollHeight+i.offsetTop,i),1),(function(){o(3,g),o(15,a)}))),n||await a.loadRoom(nt)});const u=e=>{if(s.length){if(-1===e)if(-1===r)r=s.length-1;else{if(!(r>0))return;r--}else{if(-1===r)return void o(2,h="");r++}if(r>s.length-1)return r=-1,void o(2,h="");o(2,h=s[r])}},d=e=>{g.handleUserEntry(e),s=[...s,e],s.length>10&&(s=s.slice(1)),o(2,h=""),r=-1};var c=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+Nn+">[\\s\\S]*?</script\\s*|style\\b"+Nn+">[\\s\\S]*?</style\\s*|/?[a-z]"+Nn+")>","gi");let g,m;return e.$set=e=>{"loadGame"in e&&o(14,n=e.loadGame)},e.$$.update=()=>{32768&e.$$.dirty[0]&&o(3,g=a),8&e.$$.dirty[0]&&o(4,m=!!g&&g.knowsAnyIncantations())},[i,l,h,g,m,e=>{e.focus()},({keyCode:e})=>{38===e?u(-1):40===e&&u(1)},()=>{let e=h.trim();e.startsWith("dev|")||(e=e.toLowerCase()),d(e)},()=>{o(1,l=!0)},e=>{var t;do{t=e,e=e.replace(c,"")}while(e!==t);return e.replace(/</g,"&lt;")},e=>{let t=e.replace(/\^(.+?)\^/g,"<h3>$1</h3>").replace(/~(.+?)~/g,"<entry>$1</entry>").replace(/#(.+?)#/g,"<pre>$1</pre>").replace(/\\/g,"<br />").replace(/"(.+?)"/g,'<speech>"$1"</speech>').replace(/^\+(.+?)\+$/,"<waitForInput>$1</waitForInput>").replace(/%(.+?)%/g,"<hint>$1</hint>");return t.startsWith("]")?t.replace(/^]+/,""):t},e=>e.startsWith("]]")?"indent2":e.startsWith("]")?"indent":"",e=>{if(-1===e.indexOf("<hint>"))return[{type:"html",value:e}];let t=[],o=e.match(/<hint>(.+?)<\/hint>/gi),a=e;return o.forEach(e=>{let o=a.indexOf(e);o>0&&(t.push({type:"html",value:a.substr(0,o)}),a=a.substr(o));const n=e.match(/<hint>(.+?)<\/hint>/);t.push({type:"hint",value:n[1]}),a=a.substr(n[0].length)}),a.length&&t.push({type:"html",value:a}),t},e=>{d("look "+e.target.innerText)},n,a,s,r,u,d,c,()=>o(3,g.options.showHints=!g.options.showHints,g),()=>o(1,l=!1),function(e){K[e?"unshift":"push"](()=>{o(0,i=e)})},()=>location.reload(),()=>location.reload(),function(){h=this.value,o(2,h)}]}class xn extends be{constructor(e){super(),we(this,e,Hn,_n,i,{loadGame:14},[-1,-1])}}function Dn(e){let t;const o=new xn({props:{loadGame:e[1]}});return{c(){me(o.$$.fragment)},m(e,a){fe(o,e,a),t=!0},p(e,t){const a={};2&t&&(a.loadGame=e[1]),o.$set(a)},i(e){t||(he(o.$$.fragment,e),t=!0)},o(e){ue(o.$$.fragment,e),t=!1},d(e){ye(o,e)}}}function Mn(t){let o,a,n;const s=new at({});return s.$on("newGame",t[2]),s.$on("continueGame",t[3]),{c(){o=E("main"),a=E("div"),me(s.$$.fragment),A(a,"class","menu-holder svelte-1e2ktrw")},m(e,t){v(e,o,t),k(o,a),fe(s,a,null),n=!0},p:e,i(e){n||(he(s.$$.fragment,e),n=!0)},o(e){ue(s.$$.fragment,e),n=!1},d(e){e&&T(o),ye(s)}}}function Gn(e){let t,o,a,n,s,r;const i=[Mn,Dn],l=[];function h(e,t){return e[0]?1:0}return a=h(e),n=l[a]=i[a](e),{c(){t=E("bg"),o=O(),n.c(),s=R()},m(e,n){v(e,t,n),v(e,o,n),l[a].m(e,n),v(e,s,n),r=!0},p(e,[t]){let o=a;a=h(e),a===o?l[a].p(e,t):(ie(),ue(l[o],1,1,()=>{l[o]=null}),le(),n=l[a],n||(n=l[a]=i[a](e),n.c()),he(n,1),n.m(s.parentNode,s))},i(e){r||(he(n),r=!0)},o(e){ue(n),r=!1},d(e){e&&T(t),e&&T(o),l[a].d(e),e&&T(s)}}}function Wn(e,t,o){let a=!1,n=!1;return[a,n,()=>{o(1,n=!1),o(0,a=!0)},()=>{o(1,n=!0),o(0,a=!0)}]}class Pn extends be{constructor(e){super(),we(this,e,Wn,Gn,i,{})}}function Un(t){let o,a;return{c(){o=E("button"),o.textContent="Show Spoilers"},m(e,n){v(e,o,n),a=Y(o,"click",t[1])},p:e,d(e){e&&T(o),a()}}}function Bn(t){let o,a,n,s,r,i,l,h,u,d,c,g,m,f,y,p,w,b,k,I,S,R,Y,A,C,F,_,N,L,H,x,D,M,G,W,P,U,B,q,$,V,j,K,z,Q,X,J,Z,ee,te,oe,ae,ne,se,re,ie,le,he,ue,de,ce,ge,me,fe,ye,pe,we,be,ke,ve,Te,Ie,Ee,Se,Oe,Re,Ye,Ae,Ce,Fe,_e,Ne,Le,He,xe,De,Me,Ge,We,Pe,Ue,Be,qe,$e,Ve,je,Ke,ze,Qe,Xe,Je,Ze,et,tt,ot,at,nt,st,rt,it,lt,ht,ut,dt,ct,gt,mt,ft,yt,pt,wt,bt,kt,vt,Tt,It,Et,St,Ot,Rt,Yt,At,Ct,Ft,_t,Nt,Lt,Ht,xt,Dt,Mt,Gt,Wt,Pt,Ut,Bt,qt,$t,Vt,jt,Kt,zt,Qt,Xt,Jt,Zt,eo,to,oo,ao,no,so,ro,io,lo,ho,uo,co,go,mo,fo,yo,po,wo,bo;return{c(){o=E("p"),o.textContent="The following walkthrough skips all optional content like notes with\r\n        lore and story on them and all unnecessary conversation with charactesr\r\n        in the game. Performing these actions in this order completes the game.",a=O(),n=E("p"),n.textContent="There are two endings possible. If you want the good ending, you must\r\n        complete everything below in order. If you want the bad ending, skip to\r\n        the section labeled Bad Ending Walkthrough.",s=O(),r=E("h2"),r.textContent="Good Ending Walkthrough",i=O(),l=E("h3"),l.textContent="Clearing in a Forest",h=O(),u=E("p"),u.textContent="Look at the hole and take the stone inside.",d=O(),c=E("h3"),c.textContent="Forest Bridge, South Bank",g=O(),m=E("p"),m.textContent="Look at the bridge to see the rod. Throw the stone (throw stone), which\r\n        distracts the pirahna. Take the rod.",f=O(),y=E("h3"),y.textContent="A Quiet Fork in the Forest",p=O(),w=E("p"),w.textContent="Look at the wood and take the nail you see.",b=O(),k=E("h3"),k.textContent="Inside the Creepy Hut",I=O(),S=E("p"),S.textContent='Greet the woman and tell her you\'re not a threat ("no"). Then ask her\r\n        about the cure ("ask rhode about cure"). She mentions ingredients. Ask\r\n        her about them. Ask rhode about puffball too. Then ask her about\r\n        scissors. Tell her "yes", you want them. Take the scissors.',R=O(),Y=E("h3"),Y.textContent="A Pool of Standing Water",A=O(),C=E("p"),C.textContent="Use the scissors on a puffball. (cure ingredient 1)",F=O(),_=E("h3"),_.textContent="Mosquito Spawning Pool",N=O(),L=E("p"),L.textContent="Take a mosquito egg. (cure ingredient 2)",H=O(),x=E("h3"),x.textContent="White Sand Beaches, East",D=O(),M=E("p"),M.textContent="Look at the boat to see the sledgehammer. Take the sledgehammer.",G=O(),W=E("h3"),W.textContent="Ruined Hall",P=O(),U=E("p"),U.textContent="There's a device on the wall that opens the way to the east but it's\r\n        missing a handle. Use the rod on the device. Then use the device itself.\r\n        Take the rod once the way is open.",B=O(),q=E("h3"),q.textContent="Ruined Square, South",$=O(),V=E("p"),V.textContent="The south wall is weak. Use the sledgehammer on the wall.",j=O(),K=E("h3"),K.textContent="Ruined House",z=O(),Q=E("p"),Q.textContent="Open the chest. Take the flashlight.",X=O(),J=E("h3"),J.textContent="Ruined Square, North",Z=O(),ee=E("p"),ee.textContent="Use the flashlight to turn it on. Open the hatch. Go down.",te=O(),oe=E("h3"),oe.textContent="Inside the Hatch",ae=O(),ne=E("p"),ne.textContent="Take the rune. It's the etavoner rune. You need to dunk it in the forest\r\n        well to activate it.",se=O(),re=E("h3"),re.textContent="Ruined Lab",ie=O(),le=E("p"),le.textContent="Look at the poster. Look at the vials. Take the potion.",he=O(),ue=E("h3"),ue.textContent="An Old Well in the Forest",de=O(),ce=E("p"),ce.textContent="Put the etavoner rune in the pail. Drop the pail. Use the crank. Take\r\n        the rune. With your flashlight on, go east.",ge=O(),me=E("h3"),me.textContent="Cave of Bones",fe=O(),ye=E("p"),ye.textContent="Look at the hornet. Look at the sac. Take the sac. This allows entry\r\n        into the hornet hive later.",pe=O(),we=E("h3"),we.textContent="A Rocky Cliff Peninsula, High Above the Ocean",be=O(),ke=E("p"),ke.textContent="Incant etavoner to repair the bridge. Go south to the lighthouse and\r\n        enter it.",ve=O(),Te=E("h3"),Te.textContent="Lighthouse, First Floor",Ie=O(),Ee=E("p"),Ee.textContent="Look at the bed, then the pillow. Take the key. Go up.",Se=O(),Oe=E("h3"),Oe.textContent="Lighthouse, Below the Light",Re=O(),Ye=E("p"),Ye.textContent="Use the key on the padlock. Go up.",Ae=O(),Ce=E("h3"),Ce.textContent="Lighthouse, Light",Fe=O(),_e=E("p"),_e.textContent="Give the potion to the woman (her name's Ionyne). She drinks the potion\r\n        and gives you back an empty bottle. She makes you a bird friend.",Ne=O(),Le=E("h3"),Le.textContent="Gull Nesting Grounds",He=O(),xe=E("p"),xe.textContent="Now that you're a bird friend, take the rainbow shell from the nest.\r\n        (cure ingredient 3)",De=O(),Me=E("h3"),Me.textContent="An Old Well in the Forest",Ge=O(),We=E("p"),We.textContent="Return to the old well. You should still have the pail full of water\r\n        sitting on the side of the well. Use the empty bottle on the water to\r\n        take some.",Pe=O(),Ue=E("h3"),Ue.textContent="Ruined Temple",Be=O(),qe=E("p"),qe.textContent="Use the rod on the device. Use the device. You can leave the rod. You\r\n        won't need it again. Go down.",$e=O(),Ve=E("h3"),Ve.textContent="Underground Chasm",je=O(),Ke=E("p"),Ke.textContent="Incant etavoner to repair the bridge. Go south.",ze=O(),Qe=E("h3"),Qe.textContent="Silent Chamber",Xe=O(),Je=E("p"),Je.textContent="Put the water bottle onto the scale. The passage west opens.",Ze=O(),et=E("h3"),et.textContent="Small Mountain Lake",tt=O(),ot=E("p"),ot.textContent="Look at the plants. Take the white-leafed plant. (cure ingredient 4)",at=O(),nt=E("h3"),nt.textContent="Campsite at the Cliffside",st=O(),rt=E("p"),rt.textContent="Look at the pouch. Take the rune. To activate the rune, you must give it\r\n        to the hornet queen. Return all the way to the hornet's nest area in the\r\n        forest.",it=O(),lt=E("h3"),lt.textContent="The Hive Entrance",ht=O(),ut=E("p"),ut.textContent="Go down. You have the pheromone sac from the Cave of Bones so you'll be\r\n        ignored.",dt=O(),ct=E("h3"),ct.textContent="Hive, Queen's Chamber",gt=O(),mt=E("p"),mt.textContent="Give the eltnamsid rune to the queen.",ft=O(),yt=E("h3"),yt.textContent="The Bat Cave",pt=O(),wt=E("p"),wt.textContent="Incant eltnamsid to destroy the wall. Go through.",bt=O(),kt=E("h3"),kt.textContent="Hidden Cache",vt=O(),Tt=E("p"),Tt.textContent="Take the silver box.",It=O(),Et=E("h3"),Et.textContent="Inside the Creep Hut",St=O(),Ot=E("p"),Ot.textContent="Give the silver box to Rhode. Take the map. Return all the way to the\r\n        mountain labyrinth.",Rt=O(),Yt=E("h3"),Yt.textContent="Labyrinth, South Gate",At=O(),Ct=E("p"),Ct.textContent="Exit to the east or west in either the Labyrinth, South Gate; Labyrinth,\r\n        Central Plaza; or Labyrinth, North Gate.",Ft=O(),_t=E("h3"),_t.textContent="A Labyrinthine Passage",Nt=O(),Lt=E("p"),Lt.textContent="You should look at your map. It will tell you which direction to go.\r\n        Look at it, then go that direction ONCE. Repeat 10 total times. If\r\n        you're lazy and don't want to do that, just follow these directions: n,\r\n        e, n, s, s, w, s, e, n, e. If you do it wrong, you will be returned to\r\n        one of the central Labyrinth rooms.",Ht=O(),xt=E("h3"),xt.textContent="Heart of the Labyrinth",Dt=O(),Mt=E("p"),Mt.textContent="Take the rune. To activate the lievnu rune, you must use it on the\r\n        lighthouse's light. When you take the rune, Rhode will also finish her\r\n        study of the silver box.",Gt=O(),Wt=E("h3"),Wt.textContent="Lighthouse, Light",Pt=O(),Ut=E("p"),Ut.textContent="Use the lievnu rune on the light.",Bt=O(),qt=E("h3"),qt.textContent="Inside the Creepy Hut",$t=O(),Vt=E("p"),Vt.textContent="This is your last visit to Rhode. She gives you back the silver box.\r\n        Incant etavoner to fix it. Incant lievnu to unlock its power. Give rhode\r\n        the rainbow shell, the puffball, the mosquito egg, and the root. She\r\n        will give you the cure.",jt=O(),Kt=E("h3"),Kt.textContent="Outside a Log Cabin in the Forest",zt=O(),Qt=E("p"),Qt.textContent="Give the man the nail. This is Arden. Head west into his cabin.",Xt=O(),Jt=E("h3"),Jt.textContent="Cabin, Interior",Zt=O(),eo=E("p"),eo.textContent="Give the cure to Edra (his sleeping brother). He wakes up and you learn\r\n        to incant rhocna.",to=O(),oo=E("h3"),oo.textContent="Toppled Tree, Growing Mushrooms",ao=O(),no=E("p"),no.textContent="Incant rhocna to freeze the mushrooms in place. You need to touch the\r\n        colored mushrooms in order. Each color represents a character in the\r\n        game. You learn the order by finding Ophelia's journal in Long Abandoned\r\n        Campsite in the tent. You can give the journal to Rhode to repair it and\r\n        make it easier to read.",so=O(),ro=E("p"),ro.textContent="The character order is Edra (blue eyes), Mine! (Ophelia's yellow hair),\r\n        Merek (red cape), Rhode (purple light and eyes), Arden (orange shirt),\r\n        Meredith (green sneakers), Stanley (indigo suit). Touch the mushrooms in\r\n        this order: blue, yellow, red, purple, orange, green, indigo.",io=O(),lo=E("p"),lo.textContent="You then experience memories of each character in the game and learn to\r\n        incant hsinimid, partne, and etalosi.",ho=O(),uo=E("h3"),uo.textContent="The Black Summit",co=O(),go=E("p"),go.textContent="Incant lievnu to reveal It. Incant hsinimid to weaken it. Open the\r\n        silver box. Incant partne to trap it in the box. Then incant etalosi.",mo=O(),fo=E("h2"),fo.textContent="Bad Ending Walkthrough",yo=O(),po=E("p"),po.textContent="Here is a summary of the actions required to attain the bad ending as quickly as possible. For more information, reference the good ending walkthrough.",wo=O(),bo=E("ul"),bo.innerHTML="<li>Get the rod from under the bridge</li> \n        <li>Get the sledgehammer from the boat on the coast</li> \n        <li>Open the way to the ruins with the rod. Take the potion from the Ruined Lab.</li> \n        <li>Use the sledgehammer to access the Ruined House and take the flashlight.</li> \n        <li>Open the hatch in the ruins, turn on the flashlight and then take the rune from inside the hatch</li> \n        <li>Go to the forest well, put the rune in the pail, drop the pail, use the crank, then take the rune. You can now incant etavoner.</li> \n        <li>Go to the coast, incant etavoner to repair the bridge, enter the lighthouse. Get the key from under the pillow, use it to access the light. Give the potion to Ionyne. Now you have an empty bottle.</li> \n        <li>Return to the forest well and use the empty bottle on the water (which should be in the pail).</li> \n        <li>Return to the ruins, use the rod+device to open the way through the Ruined Temple</li> \n        <li>Incant etavoner to repair the bridge in the chasm, continue to the Silent Chamber.</li> \n        <li>Put the water bottle onto the scale in the Silent Chamber</li> \n        <li>Now just head all the way to the mountain summit and take the crystal from Ophelia</li>"},m(e,t){v(e,o,t),v(e,a,t),v(e,n,t),v(e,s,t),v(e,r,t),v(e,i,t),v(e,l,t),v(e,h,t),v(e,u,t),v(e,d,t),v(e,c,t),v(e,g,t),v(e,m,t),v(e,f,t),v(e,y,t),v(e,p,t),v(e,w,t),v(e,b,t),v(e,k,t),v(e,I,t),v(e,S,t),v(e,R,t),v(e,Y,t),v(e,A,t),v(e,C,t),v(e,F,t),v(e,_,t),v(e,N,t),v(e,L,t),v(e,H,t),v(e,x,t),v(e,D,t),v(e,M,t),v(e,G,t),v(e,W,t),v(e,P,t),v(e,U,t),v(e,B,t),v(e,q,t),v(e,$,t),v(e,V,t),v(e,j,t),v(e,K,t),v(e,z,t),v(e,Q,t),v(e,X,t),v(e,J,t),v(e,Z,t),v(e,ee,t),v(e,te,t),v(e,oe,t),v(e,ae,t),v(e,ne,t),v(e,se,t),v(e,re,t),v(e,ie,t),v(e,le,t),v(e,he,t),v(e,ue,t),v(e,de,t),v(e,ce,t),v(e,ge,t),v(e,me,t),v(e,fe,t),v(e,ye,t),v(e,pe,t),v(e,we,t),v(e,be,t),v(e,ke,t),v(e,ve,t),v(e,Te,t),v(e,Ie,t),v(e,Ee,t),v(e,Se,t),v(e,Oe,t),v(e,Re,t),v(e,Ye,t),v(e,Ae,t),v(e,Ce,t),v(e,Fe,t),v(e,_e,t),v(e,Ne,t),v(e,Le,t),v(e,He,t),v(e,xe,t),v(e,De,t),v(e,Me,t),v(e,Ge,t),v(e,We,t),v(e,Pe,t),v(e,Ue,t),v(e,Be,t),v(e,qe,t),v(e,$e,t),v(e,Ve,t),v(e,je,t),v(e,Ke,t),v(e,ze,t),v(e,Qe,t),v(e,Xe,t),v(e,Je,t),v(e,Ze,t),v(e,et,t),v(e,tt,t),v(e,ot,t),v(e,at,t),v(e,nt,t),v(e,st,t),v(e,rt,t),v(e,it,t),v(e,lt,t),v(e,ht,t),v(e,ut,t),v(e,dt,t),v(e,ct,t),v(e,gt,t),v(e,mt,t),v(e,ft,t),v(e,yt,t),v(e,pt,t),v(e,wt,t),v(e,bt,t),v(e,kt,t),v(e,vt,t),v(e,Tt,t),v(e,It,t),v(e,Et,t),v(e,St,t),v(e,Ot,t),v(e,Rt,t),v(e,Yt,t),v(e,At,t),v(e,Ct,t),v(e,Ft,t),v(e,_t,t),v(e,Nt,t),v(e,Lt,t),v(e,Ht,t),v(e,xt,t),v(e,Dt,t),v(e,Mt,t),v(e,Gt,t),v(e,Wt,t),v(e,Pt,t),v(e,Ut,t),v(e,Bt,t),v(e,qt,t),v(e,$t,t),v(e,Vt,t),v(e,jt,t),v(e,Kt,t),v(e,zt,t),v(e,Qt,t),v(e,Xt,t),v(e,Jt,t),v(e,Zt,t),v(e,eo,t),v(e,to,t),v(e,oo,t),v(e,ao,t),v(e,no,t),v(e,so,t),v(e,ro,t),v(e,io,t),v(e,lo,t),v(e,ho,t),v(e,uo,t),v(e,co,t),v(e,go,t),v(e,mo,t),v(e,fo,t),v(e,yo,t),v(e,po,t),v(e,wo,t),v(e,bo,t)},p:e,d(e){e&&T(o),e&&T(a),e&&T(n),e&&T(s),e&&T(r),e&&T(i),e&&T(l),e&&T(h),e&&T(u),e&&T(d),e&&T(c),e&&T(g),e&&T(m),e&&T(f),e&&T(y),e&&T(p),e&&T(w),e&&T(b),e&&T(k),e&&T(I),e&&T(S),e&&T(R),e&&T(Y),e&&T(A),e&&T(C),e&&T(F),e&&T(_),e&&T(N),e&&T(L),e&&T(H),e&&T(x),e&&T(D),e&&T(M),e&&T(G),e&&T(W),e&&T(P),e&&T(U),e&&T(B),e&&T(q),e&&T($),e&&T(V),e&&T(j),e&&T(K),e&&T(z),e&&T(Q),e&&T(X),e&&T(J),e&&T(Z),e&&T(ee),e&&T(te),e&&T(oe),e&&T(ae),e&&T(ne),e&&T(se),e&&T(re),e&&T(ie),e&&T(le),e&&T(he),e&&T(ue),e&&T(de),e&&T(ce),e&&T(ge),e&&T(me),e&&T(fe),e&&T(ye),e&&T(pe),e&&T(we),e&&T(be),e&&T(ke),e&&T(ve),e&&T(Te),e&&T(Ie),e&&T(Ee),e&&T(Se),e&&T(Oe),e&&T(Re),e&&T(Ye),e&&T(Ae),e&&T(Ce),e&&T(Fe),e&&T(_e),e&&T(Ne),e&&T(Le),e&&T(He),e&&T(xe),e&&T(De),e&&T(Me),e&&T(Ge),e&&T(We),e&&T(Pe),e&&T(Ue),e&&T(Be),e&&T(qe),e&&T($e),e&&T(Ve),e&&T(je),e&&T(Ke),e&&T(ze),e&&T(Qe),e&&T(Xe),e&&T(Je),e&&T(Ze),e&&T(et),e&&T(tt),e&&T(ot),e&&T(at),e&&T(nt),e&&T(st),e&&T(rt),e&&T(it),e&&T(lt),e&&T(ht),e&&T(ut),e&&T(dt),e&&T(ct),e&&T(gt),e&&T(mt),e&&T(ft),e&&T(yt),e&&T(pt),e&&T(wt),e&&T(bt),e&&T(kt),e&&T(vt),e&&T(Tt),e&&T(It),e&&T(Et),e&&T(St),e&&T(Ot),e&&T(Rt),e&&T(Yt),e&&T(At),e&&T(Ct),e&&T(Ft),e&&T(_t),e&&T(Nt),e&&T(Lt),e&&T(Ht),e&&T(xt),e&&T(Dt),e&&T(Mt),e&&T(Gt),e&&T(Wt),e&&T(Pt),e&&T(Ut),e&&T(Bt),e&&T(qt),e&&T($t),e&&T(Vt),e&&T(jt),e&&T(Kt),e&&T(zt),e&&T(Qt),e&&T(Xt),e&&T(Jt),e&&T(Zt),e&&T(eo),e&&T(to),e&&T(oo),e&&T(ao),e&&T(no),e&&T(so),e&&T(ro),e&&T(io),e&&T(lo),e&&T(ho),e&&T(uo),e&&T(co),e&&T(go),e&&T(mo),e&&T(fo),e&&T(yo),e&&T(po),e&&T(wo),e&&T(bo)}}}function qn(t){let o,a,n,s,r,i,l,h;function u(e,t){return e[0]?Bn:Un}let d=u(t),c=d(t);return{c(){o=E("bg"),a=O(),n=E("main"),s=E("room"),r=E("h1"),r.textContent="Walkthrough",i=O(),l=E("p"),l.textContent="If you're having a hard time and need to know EXACTLY what to do, this is\r\n      the page for you. I recommend trying to figure it out yourself but if\r\n      you've truly hit a roadblock then by all means, read below.",h=O(),c.c()},m(e,t){v(e,o,t),v(e,a,t),v(e,n,t),k(n,s),k(s,r),k(s,i),k(s,l),k(s,h),c.m(s,null)},p(e,[t]){d===(d=u(e))&&c?c.p(e,t):(c.d(1),c=d(e),c&&(c.c(),c.m(s,null)))},i:e,o:e,d(e){e&&T(o),e&&T(a),e&&T(n),c.d()}}}function $n(e,t,o){let a=!1;return[a,()=>o(0,a=!0)]}class Vn extends be{constructor(e){super(),we(this,e,$n,qn,i,{})}}function jn(t){let o,a;const n=new qe({props:{path:window.hostDir+"/walkthrough",component:Vn}}),s=new qe({props:{path:"",component:Pn}});return{c(){me(n.$$.fragment),o=O(),me(s.$$.fragment)},m(e,t){fe(n,e,t),v(e,o,t),fe(s,e,t),a=!0},p:e,i(e){a||(he(n.$$.fragment,e),he(s.$$.fragment,e),a=!0)},o(e){ue(n.$$.fragment,e),ue(s.$$.fragment,e),a=!1},d(e){ye(n,e),e&&T(o),ye(s,e)}}}function Kn(e){let t;const o=new xe({props:{url:e[0],$$slots:{default:[jn]},$$scope:{ctx:e}}});return{c(){me(o.$$.fragment)},m(e,a){fe(o,e,a),t=!0},p(e,[t]){const a={};1&t&&(a.url=e[0]),2&t&&(a.$$scope={dirty:t,ctx:e}),o.$set(a)},i(e){t||(he(o.$$.fragment,e),t=!0)},o(e){ue(o.$$.fragment,e),t=!1},d(e){ye(o,e)}}}function zn(e,t,o){let{url:a=""}=t;return e.$set=e=>{"url"in e&&o(0,a=e.url)},[a]}return new class extends be{constructor(e){super(),we(this,e,zn,Kn,i,{url:0})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
